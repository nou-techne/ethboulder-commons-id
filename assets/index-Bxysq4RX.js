(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var Fu={exports:{}},Xr={};var c0;function wb(){if(c0)return Xr;c0=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Xr.Fragment=n,Xr.jsx=r,Xr.jsxs=r,Xr}var u0;function Sb(){return u0||(u0=1,Fu.exports=wb()),Fu.exports}var h=Sb(),ef={exports:{}},pe={};var f0;function Nb(){if(f0)return pe;f0=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function E(O,V,ee){this.props=O,this.context=V,this.refs=N,this.updater=ee||j}E.prototype.isReactComponent={},E.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=E.prototype;function D(O,V,ee){this.props=O,this.context=V,this.refs=N,this.updater=ee||j}var R=D.prototype=new T;R.constructor=D,S(R,E.prototype),R.isPureReactComponent=!0;var L=Array.isArray;function Z(){}var J={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function K(O,V,ee){var ne=ee.ref;return{$$typeof:a,type:O,key:V,ref:ne!==void 0?ne:null,props:ee}}function Q(O,V){return K(O.type,V,O.props)}function re(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function le(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ee){return V[ee]})}var _e=/\/+/g;function B(O,V){return typeof O=="object"&&O!==null&&O.key!=null?le(""+O.key):V.toString(36)}function te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Z,Z):(O.status="pending",O.then(function(V){O.status==="pending"&&(O.status="fulfilled",O.value=V)},function(V){O.status==="pending"&&(O.status="rejected",O.reason=V)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function k(O,V,ee,ne,fe){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var ve=!1;if(O===null)ve=!0;else switch(ge){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(O.$$typeof){case a:case n:ve=!0;break;case y:return ve=O._init,k(ve(O._payload),V,ee,ne,fe)}}if(ve)return fe=fe(O),ve=ne===""?"."+B(O,0):ne,L(fe)?(ee="",ve!=null&&(ee=ve.replace(_e,"$&/")+"/"),k(fe,V,ee,"",function(Fi){return Fi})):fe!=null&&(re(fe)&&(fe=Q(fe,ee+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(_e,"$&/")+"/")+ve)),V.push(fe)),1;ve=0;var $e=ne===""?".":ne+":";if(L(O))for(var Be=0;Be<O.length;Be++)ne=O[Be],ge=$e+B(ne,Be),ve+=k(ne,V,ee,ge,fe);else if(Be=x(O),typeof Be=="function")for(O=Be.call(O),Be=0;!(ne=O.next()).done;)ne=ne.value,ge=$e+B(ne,Be++),ve+=k(ne,V,ee,ge,fe);else if(ge==="object"){if(typeof O.then=="function")return k(te(O),V,ee,ne,fe);throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(O,V,ee){if(O==null)return O;var ne=[],fe=0;return k(O,ne,"","",function(ge){return V.call(ee,ge,fe++)}),ne}function U(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=ee)},function(ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=ee)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var W=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ae={map:Y,forEach:function(O,V,ee){Y(O,function(){V.apply(this,arguments)},ee)},count:function(O){var V=0;return Y(O,function(){V++}),V},toArray:function(O){return Y(O,function(V){return V})||[]},only:function(O){if(!re(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return pe.Activity=b,pe.Children=ae,pe.Component=E,pe.Fragment=r,pe.Profiler=o,pe.PureComponent=D,pe.StrictMode=s,pe.Suspense=p,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,pe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return J.H.useMemoCache(O)}},pe.cache=function(O){return function(){return O.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(O,V,ee){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=S({},O.props),fe=O.key;if(V!=null)for(ge in V.key!==void 0&&(fe=""+V.key),V)!ie.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(ne[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)ne.children=ee;else if(1<ge){for(var ve=Array(ge),$e=0;$e<ge;$e++)ve[$e]=arguments[$e+2];ne.children=ve}return K(O.type,fe,ne)},pe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},pe.createElement=function(O,V,ee){var ne,fe={},ge=null;if(V!=null)for(ne in V.key!==void 0&&(ge=""+V.key),V)ie.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=V[ne]);var ve=arguments.length-2;if(ve===1)fe.children=ee;else if(1<ve){for(var $e=Array(ve),Be=0;Be<ve;Be++)$e[Be]=arguments[Be+2];fe.children=$e}if(O&&O.defaultProps)for(ne in ve=O.defaultProps,ve)fe[ne]===void 0&&(fe[ne]=ve[ne]);return K(O,ge,fe)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(O){return{$$typeof:m,render:O}},pe.isValidElement=re,pe.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:U}},pe.memo=function(O,V){return{$$typeof:g,type:O,compare:V===void 0?null:V}},pe.startTransition=function(O){var V=J.T,ee={};J.T=ee;try{var ne=O(),fe=J.S;fe!==null&&fe(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Z,W)}catch(ge){W(ge)}finally{V!==null&&ee.types!==null&&(V.types=ee.types),J.T=V}},pe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},pe.use=function(O){return J.H.use(O)},pe.useActionState=function(O,V,ee){return J.H.useActionState(O,V,ee)},pe.useCallback=function(O,V){return J.H.useCallback(O,V)},pe.useContext=function(O){return J.H.useContext(O)},pe.useDebugValue=function(){},pe.useDeferredValue=function(O,V){return J.H.useDeferredValue(O,V)},pe.useEffect=function(O,V){return J.H.useEffect(O,V)},pe.useEffectEvent=function(O){return J.H.useEffectEvent(O)},pe.useId=function(){return J.H.useId()},pe.useImperativeHandle=function(O,V,ee){return J.H.useImperativeHandle(O,V,ee)},pe.useInsertionEffect=function(O,V){return J.H.useInsertionEffect(O,V)},pe.useLayoutEffect=function(O,V){return J.H.useLayoutEffect(O,V)},pe.useMemo=function(O,V){return J.H.useMemo(O,V)},pe.useOptimistic=function(O,V){return J.H.useOptimistic(O,V)},pe.useReducer=function(O,V,ee){return J.H.useReducer(O,V,ee)},pe.useRef=function(O){return J.H.useRef(O)},pe.useState=function(O){return J.H.useState(O)},pe.useSyncExternalStore=function(O,V,ee){return J.H.useSyncExternalStore(O,V,ee)},pe.useTransition=function(){return J.H.useTransition()},pe.version="19.2.4",pe}var h0;function Vf(){return h0||(h0=1,ef.exports=Nb()),ef.exports}var A=Vf(),tf={exports:{}},Ir={},nf={exports:{}},af={};var d0;function jb(){return d0||(d0=1,(function(a){function n(k,Y){var U=k.length;k.push(Y);e:for(;0<U;){var W=U-1>>>1,ae=k[W];if(0<o(ae,Y))k[W]=Y,k[U]=ae,U=W;else break e}}function r(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var Y=k[0],U=k.pop();if(U!==Y){k[0]=U;e:for(var W=0,ae=k.length,O=ae>>>1;W<O;){var V=2*(W+1)-1,ee=k[V],ne=V+1,fe=k[ne];if(0>o(ee,U))ne<ae&&0>o(fe,ee)?(k[W]=fe,k[ne]=U,W=ne):(k[W]=ee,k[V]=U,W=V);else if(ne<ae&&0>o(fe,U))k[W]=fe,k[ne]=U,W=ne;else break e}}return Y}function o(k,Y){var U=k.sortIndex-Y.sortIndex;return U!==0?U:k.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var p=[],g=[],y=1,b=null,_=3,x=!1,j=!1,S=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var Y=r(g);Y!==null;){if(Y.callback===null)s(g);else if(Y.startTime<=k)s(g),Y.sortIndex=Y.expirationTime,n(p,Y);else break;Y=r(g)}}function L(k){if(S=!1,R(k),!j)if(r(p)!==null)j=!0,Z||(Z=!0,le());else{var Y=r(g);Y!==null&&te(L,Y.startTime-k)}}var Z=!1,J=-1,ie=5,K=-1;function Q(){return N?!0:!(a.unstable_now()-K<ie)}function re(){if(N=!1,Z){var k=a.unstable_now();K=k;var Y=!0;try{e:{j=!1,S&&(S=!1,T(J),J=-1),x=!0;var U=_;try{t:{for(R(k),b=r(p);b!==null&&!(b.expirationTime>k&&Q());){var W=b.callback;if(typeof W=="function"){b.callback=null,_=b.priorityLevel;var ae=W(b.expirationTime<=k);if(k=a.unstable_now(),typeof ae=="function"){b.callback=ae,R(k),Y=!0;break t}b===r(p)&&s(p),R(k)}else s(p);b=r(p)}if(b!==null)Y=!0;else{var O=r(g);O!==null&&te(L,O.startTime-k),Y=!1}}break e}finally{b=null,_=U,x=!1}Y=void 0}}finally{Y?le():Z=!1}}}var le;if(typeof D=="function")le=function(){D(re)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,B=_e.port2;_e.port1.onmessage=re,le=function(){B.postMessage(null)}}else le=function(){E(re,0)};function te(k,Y){J=E(function(){k(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(k){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var U=_;_=Y;try{return k()}finally{_=U}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=_;_=k;try{return Y()}finally{_=U}},a.unstable_scheduleCallback=function(k,Y,U){var W=a.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=U+ae,k={id:y++,callback:Y,priorityLevel:k,startTime:U,expirationTime:ae,sortIndex:-1},U>W?(k.sortIndex=U,n(g,k),r(p)===null&&k===r(g)&&(S?(T(J),J=-1):S=!0,te(L,U-W))):(k.sortIndex=ae,n(p,k),j||x||(j=!0,Z||(Z=!0,le()))),k},a.unstable_shouldYield=Q,a.unstable_wrapCallback=function(k){var Y=_;return function(){var U=_;_=Y;try{return k.apply(this,arguments)}finally{_=U}}}})(af)),af}var m0;function Eb(){return m0||(m0=1,nf.exports=jb()),nf.exports}var rf={exports:{}},ht={};var g0;function Tb(){if(g0)return ht;g0=1;var a=Vf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:y}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ht.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(p,g,null,y)},ht.flushSync=function(p){var g=f.T,y=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=y,s.d.f()}},ht.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ht.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ht.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:x}):y==="script"&&s.d.X(p,{crossOrigin:b,integrity:_,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ht.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ht.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ht.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ht.requestFormReset=function(p){s.d.r(p)},ht.unstable_batchedUpdates=function(p,g){return p(g)},ht.useFormState=function(p,g,y){return f.H.useFormState(p,g,y)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.4",ht}var p0;function Ab(){if(p0)return rf.exports;p0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),rf.exports=Tb(),rf.exports}var y0;function Rb(){if(y0)return Ir;y0=1;var a=Eb(),n=Vf(),r=Ab();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,l=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){i=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return p(u),e;if(d===l)return p(u),t;d=d.sibling}throw Error(s(188))}if(i.return!==l.return)i=u,l=d;else{for(var v=!1,w=u.child;w;){if(w===i){v=!0,i=u,l=d;break}if(w===l){v=!0,l=u,i=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===i){v=!0,i=d,l=u;break}if(w===l){v=!0,l=d,i=u;break}w=w.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function B(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case E:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case Z:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case D:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case R:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:B(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return B(e(t))}catch{}}return null}var te=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},W=[],ae=-1;function O(e){return{current:e}}function V(e){0>ae||(e.current=W[ae],W[ae]=null,ae--)}function ee(e,t){ae++,W[ae]=e.current,e.current=t}var ne=O(null),fe=O(null),ge=O(null),ve=O(null);function $e(e,t){switch(ee(ge,t),ee(fe,e),ee(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kg(t),e=Dg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ne),ee(ne,e)}function Be(){V(ne),V(fe),V(ge)}function Fi(e){e.memoizedState!==null&&ee(ve,e);var t=ne.current,i=Dg(t,e.type);t!==i&&(ee(fe,e),ee(ne,i))}function As(e){fe.current===e&&(V(ne),V(fe)),ve.current===e&&(V(ve),Gr._currentValue=U)}var Uo,oh;function va(e){if(Uo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Uo=t&&t[1]||"",oh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uo+e+oh}var zo=!1;function Lo(e,t){if(!e||zo)return"";zo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(G){var H=G}Reflect.construct(e,[],P)}else{try{P.call()}catch(G){H=G}e.call(P.prototype)}}else{try{throw Error()}catch(G){H=G}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var C=v.split(`
`),q=w.split(`
`);for(u=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;if(l===C.length||u===q.length)for(l=C.length-1,u=q.length-1;1<=l&&0<=u&&C[l]!==q[u];)u--;for(;1<=l&&0<=u;l--,u--)if(C[l]!==q[u]){if(l!==1||u!==1)do if(l--,u--,0>u||C[l]!==q[u]){var X=`
`+C[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=u);break}}}finally{zo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?va(i):""}function Fy(e,t){switch(e.tag){case 26:case 27:case 5:return va(e.type);case 16:return va("Lazy");case 13:return e.child!==t&&t!==null?va("Suspense Fallback"):va("Suspense");case 19:return va("SuspenseList");case 0:case 15:return Lo(e.type,!1);case 11:return Lo(e.type.render,!1);case 1:return Lo(e.type,!0);case 31:return va("Activity");default:return""}}function ch(e){try{var t="",i=null;do t+=Fy(e,i),i=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var $o=Object.prototype.hasOwnProperty,Bo=a.unstable_scheduleCallback,qo=a.unstable_cancelCallback,ev=a.unstable_shouldYield,tv=a.unstable_requestPaint,Nt=a.unstable_now,nv=a.unstable_getCurrentPriorityLevel,uh=a.unstable_ImmediatePriority,fh=a.unstable_UserBlockingPriority,Rs=a.unstable_NormalPriority,av=a.unstable_LowPriority,hh=a.unstable_IdlePriority,iv=a.log,rv=a.unstable_setDisableYieldValue,er=null,jt=null;function qn(e){if(typeof iv=="function"&&rv(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(er,e)}catch{}}var Et=Math.clz32?Math.clz32:ov,sv=Math.log,lv=Math.LN2;function ov(e){return e>>>=0,e===0?32:31-(sv(e)/lv|0)|0}var Os=256,Cs=262144,ks=4194304;function xa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ds(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var u=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?u=xa(l):(v&=w,v!==0?u=xa(v):i||(i=w&~e,i!==0&&(u=xa(i))))):(w=l&~d,w!==0?u=xa(w):v!==0?u=xa(v):i||(i=l&~e,i!==0&&(u=xa(i)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:u}function tr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dh(){var e=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),e}function Ho(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function nr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uv(e,t,i,l,u,d){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,C=e.expirationTimes,q=e.hiddenUpdates;for(i=v&~i;0<i;){var X=31-Et(i),P=1<<X;w[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}i&=~P}l!==0&&mh(e,l,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function mh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Et(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function gh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Et(i),u=1<<l;u&t|e[l]&t&&(e[l]|=t),i&=~u}}function ph(e,t){var i=t&-t;return i=(i&42)!==0?1:Go(i),(i&(e.suspendedLanes|t))!==0?0:i}function Go(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yh(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:n0(e.type))}function vh(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var Hn=Math.random().toString(36).slice(2),it="__reactFiber$"+Hn,pt="__reactProps$"+Hn,Qa="__reactContainer$"+Hn,Yo="__reactEvents$"+Hn,fv="__reactListeners$"+Hn,hv="__reactHandles$"+Hn,xh="__reactResources$"+Hn,ar="__reactMarker$"+Hn;function Ko(e){delete e[it],delete e[pt],delete e[Yo],delete e[fv],delete e[hv]}function Ja(e){var t=e[it];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Qa]||i[it]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=qg(e);e!==null;){if(i=e[it])return i;e=qg(e)}return t}e=i,i=e.parentNode}return null}function Za(e){if(e=e[it]||e[Qa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ir(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Wa(e){var t=e[xh];return t||(t=e[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[ar]=!0}var bh=new Set,_h={};function ba(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(_h[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var dv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},Sh={};function mv(e){return $o.call(Sh,e)?!0:$o.call(wh,e)?!1:dv.test(e)?Sh[e]=!0:(wh[e]=!0,!1)}function Ms(e,t,i){if(mv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Us(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function dn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gv(e,t,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xo(e){if(!e._valueTracker){var t=Nh(e)?"checked":"value";e._valueTracker=gv(e,t,""+e[t])}}function jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=Nh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pv=/[\n"\\]/g;function $t(e){return e.replace(pv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Io(e,t,i,l,u,d,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Po(e,v,Lt(t)):i!=null?Po(e,v,Lt(i)):l!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Lt(w):e.removeAttribute("name")}function Eh(e,t,i,l,u,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Xo(e);return}i=i!=null?""+Lt(i):"",t=t!=null?""+Lt(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Xo(e)}function Po(e,t,i){t==="number"&&zs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ei(e,t,i,l){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Lt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Th(e,t,i){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Lt(i):""}function Ah(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(s(92));if(te(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=Lt(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),Xo(e)}function ti(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var yv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rh(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||yv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Oh(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&i[u]!==l&&Rh(e,u,l)}else for(var d in t)t.hasOwnProperty(d)&&Rh(e,d,t[d])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(e){return xv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Jo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ni=null,ai=null;function Ch(e){var t=Za(e);if(t&&(e=t.stateNode)){var i=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Io(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var u=l[pt]||null;if(!u)throw Error(s(90));Io(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&jh(l)}break e;case"textarea":Th(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ei(e,!!i.multiple,t,!1)}}}var Wo=!1;function kh(e,t,i){if(Wo)return e(t,i);Wo=!0;try{var l=e(t);return l}finally{if(Wo=!1,(ni!==null||ai!==null)&&(Nl(),ni&&(t=ni,e=ai,ai=ni=null,Ch(t),e)))for(t=0;t<e.length;t++)Ch(e[t])}}function rr(e,t){var i=e.stateNode;if(i===null)return null;var l=i[pt]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(gn)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Fo=!1}var Gn=null,ec=null,$s=null;function Dh(){if($s)return $s;var e,t=ec,i=t.length,l,u="value"in Gn?Gn.value:Gn.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var v=i-e;for(l=1;l<=v&&t[i-l]===u[d-l];l++);return $s=u.slice(e,1<l?1-l:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function Mh(){return!1}function yt(e){function t(i,l,u,d,v){this._reactName=i,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qs:Mh,this.isPropagationStopped=Mh,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=yt(_a),lr=b({},_a,{view:0,detail:0}),bv=yt(lr),tc,nc,or,Gs=b({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(tc=e.screenX-or.screenX,nc=e.screenY-or.screenY):nc=tc=0,or=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Uh=yt(Gs),_v=b({},Gs,{dataTransfer:0}),wv=yt(_v),Sv=b({},lr,{relatedTarget:0}),ac=yt(Sv),Nv=b({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=yt(Nv),Ev=b({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tv=yt(Ev),Av=b({},_a,{data:0}),zh=yt(Av),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ov={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cv[e])?!!t[e]:!1}function ic(){return kv}var Dv=b({},lr,{key:function(e){if(e.key){var t=Rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ov[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mv=yt(Dv),Uv=b({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=yt(Uv),zv=b({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),Lv=yt(zv),$v=b({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=yt($v),qv=b({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=yt(qv),Gv=b({},_a,{newState:0,oldState:0}),Vv=yt(Gv),Yv=[9,13,27,32],rc=gn&&"CompositionEvent"in window,cr=null;gn&&"documentMode"in document&&(cr=document.documentMode);var Kv=gn&&"TextEvent"in window&&!cr,$h=gn&&(!rc||cr&&8<cr&&11>=cr),Bh=" ",qh=!1;function Hh(e,t){switch(e){case"keyup":return Yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function Xv(e,t){switch(e){case"compositionend":return Gh(t);case"keypress":return t.which!==32?null:(qh=!0,Bh);case"textInput":return e=t.data,e===Bh&&qh?null:e;default:return null}}function Iv(e,t){if(ii)return e==="compositionend"||!rc&&Hh(e,t)?(e=Dh(),$s=ec=Gn=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $h&&t.locale!=="ko"?null:t.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pv[e.type]:t==="textarea"}function Yh(e,t,i,l){ni?ai?ai.push(l):ai=[l]:ni=l,t=Cl(t,"onChange"),0<t.length&&(i=new Hs("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ur=null,fr=null;function Qv(e){Eg(e,0)}function Vs(e){var t=ir(e);if(jh(t))return e}function Kh(e,t){if(e==="change")return t}var Xh=!1;if(gn){var sc;if(gn){var lc="oninput"in document;if(!lc){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),lc=typeof Ih.oninput=="function"}sc=lc}else sc=!1;Xh=sc&&(!document.documentMode||9<document.documentMode)}function Ph(){ur&&(ur.detachEvent("onpropertychange",Qh),fr=ur=null)}function Qh(e){if(e.propertyName==="value"&&Vs(fr)){var t=[];Yh(t,fr,e,Zo(e)),kh(Qv,t)}}function Jv(e,t,i){e==="focusin"?(Ph(),ur=t,fr=i,ur.attachEvent("onpropertychange",Qh)):e==="focusout"&&Ph()}function Zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(fr)}function Wv(e,t){if(e==="click")return Vs(t)}function Fv(e,t){if(e==="input"||e==="change")return Vs(t)}function ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:ex;function hr(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var u=i[l];if(!$o.call(t,u)||!Tt(e[u],t[u]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,t){var i=Jh(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Jh(i)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=zs(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tx=gn&&"documentMode"in document&&11>=document.documentMode,ri=null,cc=null,dr=null,uc=!1;function ed(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;uc||ri==null||ri!==zs(l)||(l=ri,"selectionStart"in l&&oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dr&&hr(dr,l)||(dr=l,l=Cl(cc,"onSelect"),0<l.length&&(t=new Hs("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=ri)))}function wa(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var si={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},fc={},td={};gn&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Sa(e){if(fc[e])return fc[e];if(!si[e])return e;var t=si[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in td)return fc[e]=t[i];return e}var nd=Sa("animationend"),ad=Sa("animationiteration"),id=Sa("animationstart"),nx=Sa("transitionrun"),ax=Sa("transitionstart"),ix=Sa("transitioncancel"),rd=Sa("transitionend"),sd=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function Pt(e,t){sd.set(e,t),ba(t,[e])}var Ys=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],li=0,dc=0;function Ks(){for(var e=li,t=dc=li=0;t<e;){var i=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var u=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,l!==null&&u!==null){var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}d!==0&&ld(i,u,d)}}function Xs(e,t,i,l){Bt[li++]=e,Bt[li++]=t,Bt[li++]=i,Bt[li++]=l,dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mc(e,t,i,l){return Xs(e,t,i,l),Is(e)}function Na(e,t){return Xs(e,null,null,t),Is(e)}function ld(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var u=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-Et(i),e=d.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=i|536870912),d):null}function Is(e){if(50<Ur)throw Ur=0,Su=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var oi={};function rx(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,i,l){return new rx(e,t,i,l)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var i=e.alternate;return i===null?(i=At(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function od(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ps(e,t,i,l,u,d){var v=0;if(l=e,typeof e=="function")gc(e)&&(v=1);else if(typeof e=="string")v=ub(e,i,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=At(31,i,t,u),e.elementType=K,e.lanes=d,e;case S:return ja(i.children,u,d,t);case N:v=8,u|=24;break;case E:return e=At(12,i,t,u|2),e.elementType=E,e.lanes=d,e;case L:return e=At(13,i,t,u),e.elementType=L,e.lanes=d,e;case Z:return e=At(19,i,t,u),e.elementType=Z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:v=10;break e;case T:v=9;break e;case R:v=11;break e;case J:v=14;break e;case ie:v=16,l=null;break e}v=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=At(v,i,t,u),t.elementType=e,t.type=l,t.lanes=d,t}function ja(e,t,i,l){return e=At(7,e,l,t),e.lanes=i,e}function pc(e,t,i){return e=At(6,e,null,t),e.lanes=i,e}function cd(e){var t=At(18,null,null,0);return t.stateNode=e,t}function yc(e,t,i){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ud=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var i=ud.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ch(t)},ud.set(e,t),t)}return{value:e,source:t,stack:ch(t)}}var ci=[],ui=0,Qs=null,mr=0,Ht=[],Gt=0,Vn=null,an=1,rn="";function yn(e,t){ci[ui++]=mr,ci[ui++]=Qs,Qs=e,mr=t}function fd(e,t,i){Ht[Gt++]=an,Ht[Gt++]=rn,Ht[Gt++]=Vn,Vn=e;var l=an;e=rn;var u=32-Et(l)-1;l&=~(1<<u),i+=1;var d=32-Et(t)+u;if(30<d){var v=u-u%5;d=(l&(1<<v)-1).toString(32),l>>=v,u-=v,an=1<<32-Et(t)+u|i<<u|l,rn=d+e}else an=1<<d|i<<u|l,rn=e}function vc(e){e.return!==null&&(yn(e,1),fd(e,1,0))}function xc(e){for(;e===Qs;)Qs=ci[--ui],ci[ui]=null,mr=ci[--ui],ci[ui]=null;for(;e===Vn;)Vn=Ht[--Gt],Ht[Gt]=null,rn=Ht[--Gt],Ht[Gt]=null,an=Ht[--Gt],Ht[Gt]=null}function hd(e,t){Ht[Gt++]=an,Ht[Gt++]=rn,Ht[Gt++]=Vn,an=t.id,rn=t.overflow,Vn=e}var rt=null,qe=null,Te=!1,Yn=null,Vt=!1,bc=Error(s(519));function Kn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gr(qt(t,e)),bc}function dd(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[it]=e,t[pt]=l,i){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Se(Lr[i],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Eh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Ah(t,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||Og(t.textContent,i)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||Kn(e,!0)}function md(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:rt=rt.return}}function fi(e){if(e!==rt)return!1;if(!Te)return md(e),Te=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||$u(e.type,e.memoizedProps)),i=!i),i&&qe&&Kn(e),md(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=Bg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=Bg(e)}else t===27?(t=qe,ra(e.type)?(e=Vu,Vu=null,qe=e):qe=t):qe=rt?Kt(e.stateNode.nextSibling):null;return!0}function Ea(){qe=rt=null,Te=!1}function _c(){var e=Yn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Yn=null),e}function gr(e){Yn===null?Yn=[e]:Yn.push(e)}var wc=O(null),Ta=null,vn=null;function Xn(e,t,i){ee(wc,t._currentValue),t._currentValue=i}function xn(e){e._currentValue=wc.current,V(wc)}function Sc(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Nc(e,t,i,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var v=u.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=u;for(var C=0;C<t.length;C++)if(w.context===t[C]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),Sc(d.return,i,e),l||(v=null);break e}d=w.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(s(341));v.lanes|=i,d=v.alternate,d!==null&&(d.lanes|=i),Sc(v,i,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function hi(e,t,i,l){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=u.type;Tt(u.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(u===ve.current){if(v=u.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Gr):e=[Gr])}u=u.return}e!==null&&Nc(t,e,i,l),t.flags|=262144}function Js(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ta=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return gd(Ta,e)}function Zs(e,t){return Ta===null&&Aa(e),gd(e,t)}function gd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},vn===null){if(e===null)throw Error(s(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return i}var sx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},lx=a.unstable_scheduleCallback,ox=a.unstable_NormalPriority,Qe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new sx,data:new Map,refCount:0}}function pr(e){e.refCount--,e.refCount===0&&lx(ox,function(){e.controller.abort()})}var yr=null,Ec=0,di=0,mi=null;function cx(e,t){if(yr===null){var i=yr=[];Ec=0,di=Ru(),mi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Ec++,t.then(pd,pd),t}function pd(){if(--Ec===0&&yr!==null){mi!==null&&(mi.status="fulfilled");var e=yr;yr=null,di=0,mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ux(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),l}var yd=k.S;k.S=function(e,t){eg=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cx(e,t),yd!==null&&yd(e,t)};var Ra=O(null);function Tc(){var e=Ra.current;return e!==null?e:ze.pooledCache}function Ws(e,t){t===null?ee(Ra,Ra.current):ee(Ra,t.pool)}function vd(){var e=Tc();return e===null?null:{parent:Qe._currentValue,pool:e}}var gi=Error(s(460)),Ac=Error(s(474)),Fs=Error(s(542)),el={then:function(){}};function xd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mn,mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e}throw Ca=t,gi}}function Oa(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ca=i,gi):i}}var Ca=null;function _d(){if(Ca===null)throw Error(s(459));var e=Ca;return Ca=null,e}function wd(e){if(e===gi||e===Fs)throw Error(s(483))}var pi=null,vr=0;function tl(e){var t=vr;return vr+=1,pi===null&&(pi=[]),bd(pi,e,t)}function xr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nl(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sd(e){function t(z,M){if(e){var $=z.deletions;$===null?(z.deletions=[M],z.flags|=16):$.push(M)}}function i(z,M){if(!e)return null;for(;M!==null;)t(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function u(z,M){return z=pn(z,M),z.index=0,z.sibling=null,z}function d(z,M,$){return z.index=$,e?($=z.alternate,$!==null?($=$.index,$<M?(z.flags|=67108866,M):$):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,M,$,I){return M===null||M.tag!==6?(M=pc($,z.mode,I),M.return=z,M):(M=u(M,$),M.return=z,M)}function C(z,M,$,I){var ue=$.type;return ue===S?X(z,M,$.props.children,I,$.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ie&&Oa(ue)===M.type)?(M=u(M,$.props),xr(M,$),M.return=z,M):(M=Ps($.type,$.key,$.props,null,z.mode,I),xr(M,$),M.return=z,M)}function q(z,M,$,I){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=yc($,z.mode,I),M.return=z,M):(M=u(M,$.children||[]),M.return=z,M)}function X(z,M,$,I,ue){return M===null||M.tag!==7?(M=ja($,z.mode,I,ue),M.return=z,M):(M=u(M,$),M.return=z,M)}function P(z,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=pc(""+M,z.mode,$),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return $=Ps(M.type,M.key,M.props,null,z.mode,$),xr($,M),$.return=z,$;case j:return M=yc(M,z.mode,$),M.return=z,M;case ie:return M=Oa(M),P(z,M,$)}if(te(M)||le(M))return M=ja(M,z.mode,$,null),M.return=z,M;if(typeof M.then=="function")return P(z,tl(M),$);if(M.$$typeof===D)return P(z,Zs(z,M),$);nl(z,M)}return null}function H(z,M,$,I){var ue=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ue!==null?null:w(z,M,""+$,I);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return $.key===ue?C(z,M,$,I):null;case j:return $.key===ue?q(z,M,$,I):null;case ie:return $=Oa($),H(z,M,$,I)}if(te($)||le($))return ue!==null?null:X(z,M,$,I,null);if(typeof $.then=="function")return H(z,M,tl($),I);if($.$$typeof===D)return H(z,M,Zs(z,$),I);nl(z,$)}return null}function G(z,M,$,I,ue){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z=z.get($)||null,w(M,z,""+I,ue);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return z=z.get(I.key===null?$:I.key)||null,C(M,z,I,ue);case j:return z=z.get(I.key===null?$:I.key)||null,q(M,z,I,ue);case ie:return I=Oa(I),G(z,M,$,I,ue)}if(te(I)||le(I))return z=z.get($)||null,X(M,z,I,ue,null);if(typeof I.then=="function")return G(z,M,$,tl(I),ue);if(I.$$typeof===D)return G(z,M,$,Zs(M,I),ue);nl(M,I)}return null}function se(z,M,$,I){for(var ue=null,Ae=null,oe=M,be=M=0,Ee=null;oe!==null&&be<$.length;be++){oe.index>be?(Ee=oe,oe=null):Ee=oe.sibling;var Re=H(z,oe,$[be],I);if(Re===null){oe===null&&(oe=Ee);break}e&&oe&&Re.alternate===null&&t(z,oe),M=d(Re,M,be),Ae===null?ue=Re:Ae.sibling=Re,Ae=Re,oe=Ee}if(be===$.length)return i(z,oe),Te&&yn(z,be),ue;if(oe===null){for(;be<$.length;be++)oe=P(z,$[be],I),oe!==null&&(M=d(oe,M,be),Ae===null?ue=oe:Ae.sibling=oe,Ae=oe);return Te&&yn(z,be),ue}for(oe=l(oe);be<$.length;be++)Ee=G(oe,z,be,$[be],I),Ee!==null&&(e&&Ee.alternate!==null&&oe.delete(Ee.key===null?be:Ee.key),M=d(Ee,M,be),Ae===null?ue=Ee:Ae.sibling=Ee,Ae=Ee);return e&&oe.forEach(function(ua){return t(z,ua)}),Te&&yn(z,be),ue}function he(z,M,$,I){if($==null)throw Error(s(151));for(var ue=null,Ae=null,oe=M,be=M=0,Ee=null,Re=$.next();oe!==null&&!Re.done;be++,Re=$.next()){oe.index>be?(Ee=oe,oe=null):Ee=oe.sibling;var ua=H(z,oe,Re.value,I);if(ua===null){oe===null&&(oe=Ee);break}e&&oe&&ua.alternate===null&&t(z,oe),M=d(ua,M,be),Ae===null?ue=ua:Ae.sibling=ua,Ae=ua,oe=Ee}if(Re.done)return i(z,oe),Te&&yn(z,be),ue;if(oe===null){for(;!Re.done;be++,Re=$.next())Re=P(z,Re.value,I),Re!==null&&(M=d(Re,M,be),Ae===null?ue=Re:Ae.sibling=Re,Ae=Re);return Te&&yn(z,be),ue}for(oe=l(oe);!Re.done;be++,Re=$.next())Re=G(oe,z,be,Re.value,I),Re!==null&&(e&&Re.alternate!==null&&oe.delete(Re.key===null?be:Re.key),M=d(Re,M,be),Ae===null?ue=Re:Ae.sibling=Re,Ae=Re);return e&&oe.forEach(function(_b){return t(z,_b)}),Te&&yn(z,be),ue}function Ue(z,M,$,I){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case x:e:{for(var ue=$.key;M!==null;){if(M.key===ue){if(ue=$.type,ue===S){if(M.tag===7){i(z,M.sibling),I=u(M,$.props.children),I.return=z,z=I;break e}}else if(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ie&&Oa(ue)===M.type){i(z,M.sibling),I=u(M,$.props),xr(I,$),I.return=z,z=I;break e}i(z,M);break}else t(z,M);M=M.sibling}$.type===S?(I=ja($.props.children,z.mode,I,$.key),I.return=z,z=I):(I=Ps($.type,$.key,$.props,null,z.mode,I),xr(I,$),I.return=z,z=I)}return v(z);case j:e:{for(ue=$.key;M!==null;){if(M.key===ue)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){i(z,M.sibling),I=u(M,$.children||[]),I.return=z,z=I;break e}else{i(z,M);break}else t(z,M);M=M.sibling}I=yc($,z.mode,I),I.return=z,z=I}return v(z);case ie:return $=Oa($),Ue(z,M,$,I)}if(te($))return se(z,M,$,I);if(le($)){if(ue=le($),typeof ue!="function")throw Error(s(150));return $=ue.call($),he(z,M,$,I)}if(typeof $.then=="function")return Ue(z,M,tl($),I);if($.$$typeof===D)return Ue(z,M,Zs(z,$),I);nl(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,M!==null&&M.tag===6?(i(z,M.sibling),I=u(M,$),I.return=z,z=I):(i(z,M),I=pc($,z.mode,I),I.return=z,z=I),v(z)):i(z,M)}return function(z,M,$,I){try{vr=0;var ue=Ue(z,M,$,I);return pi=null,ue}catch(oe){if(oe===gi||oe===Fs)throw oe;var Ae=At(29,oe,null,z.mode);return Ae.lanes=I,Ae.return=z,Ae}}}var ka=Sd(!0),Nd=Sd(!1),In=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Is(e),ld(e,null,i),t}return Xs(e,l,t,i),Is(e)}function br(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,gh(e,i)}}function Cc(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?u=d=v:d=d.next=v,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var kc=!1;function _r(){if(kc){var e=mi;if(e!==null)throw e}}function wr(e,t,i,l){kc=!1;var u=e.updateQueue;In=!1;var d=u.firstBaseUpdate,v=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var C=w,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var X=e.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==v&&(w===null?X.firstBaseUpdate=q:w.next=q,X.lastBaseUpdate=C))}if(d!==null){var P=u.baseState;v=0,X=q=C=null,w=d;do{var H=w.lane&-536870913,G=H!==w.lane;if(G?(je&H)===H:(l&H)===H){H!==0&&H===di&&(kc=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var se=e,he=w;H=t;var Ue=i;switch(he.tag){case 1:if(se=he.payload,typeof se=="function"){P=se.call(Ue,P,H);break e}P=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=he.payload,H=typeof se=="function"?se.call(Ue,P,H):se,H==null)break e;P=b({},P,H);break e;case 2:In=!0}}H=w.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=u.callbacks,G===null?u.callbacks=[H]:G.push(H))}else G={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(q=X=G,C=P):X=X.next=G,v|=H;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;G=w,w=G.next,G.next=null,u.lastBaseUpdate=G,u.shared.pending=null}}while(!0);X===null&&(C=P),u.baseState=C,u.firstBaseUpdate=q,u.lastBaseUpdate=X,d===null&&(u.shared.lanes=0),ea|=v,e.lanes=v,e.memoizedState=P}}function jd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Ed(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)jd(i[e],t)}var yi=O(null),al=O(0);function Td(e,t){e=An,ee(al,e),ee(yi,t),An=e|t.baseLanes}function Dc(){ee(al,An),ee(yi,yi.current)}function Mc(){An=al.current,V(yi),V(al)}var Rt=O(null),Yt=null;function Jn(e){var t=e.alternate;ee(Ie,Ie.current&1),ee(Rt,e),Yt===null&&(t===null||yi.current!==null||t.memoizedState!==null)&&(Yt=e)}function Uc(e){ee(Ie,Ie.current),ee(Rt,e),Yt===null&&(Yt=e)}function Ad(e){e.tag===22?(ee(Ie,Ie.current),ee(Rt,e),Yt===null&&(Yt=e)):Zn()}function Zn(){ee(Ie,Ie.current),ee(Rt,Rt.current)}function Ot(e){V(Rt),Yt===e&&(Yt=null),V(Ie)}var Ie=O(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Hu(i)||Gu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,xe=null,De=null,Je=null,rl=!1,vi=!1,Da=!1,sl=0,Sr=0,xi=null,fx=0;function Ye(){throw Error(s(321))}function zc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Tt(e[i],t[i]))return!1;return!0}function Lc(e,t,i,l,u,d){return bn=d,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?fm:Wc,Da=!1,d=i(l,u),Da=!1,vi&&(d=Od(t,i,l,u)),Rd(e),d}function Rd(e){k.H=Er;var t=De!==null&&De.next!==null;if(bn=0,Je=De=xe=null,rl=!1,Sr=0,xi=null,t)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&Js(e)&&(Ze=!0))}function Od(e,t,i,l){xe=e;var u=0;do{if(vi&&(xi=null),Sr=0,vi=!1,25<=u)throw Error(s(301));if(u+=1,Je=De=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}k.H=hm,d=t(i,l)}while(vi);return d}function hx(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Nr(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(xe.flags|=1024),t}function $c(){var e=sl!==0;return sl=0,e}function Bc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function qc(e){if(rl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rl=!1}bn=0,Je=De=xe=null,vi=!1,Sr=sl=0,xi=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?xe.memoizedState=Je=e:Je=Je.next=e,Je}function Pe(){if(De===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Je===null?xe.memoizedState:Je.next;if(t!==null)Je=t,De=e;else{if(e===null)throw xe.alternate===null?Error(s(467)):Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?xe.memoizedState=Je=e:Je=Je.next=e}return Je}function ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nr(e){var t=Sr;return Sr+=1,xi===null&&(xi=[]),e=bd(xi,e,t),t=xe,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?fm:Wc),e}function ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nr(e);if(e.$$typeof===D)return st(e)}throw Error(s(438,String(e)))}function Hc(e){var t=null,i=xe.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ll(),xe.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=Q;return t.index++,i}function _n(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Pe();return Gc(t,De,e)}function Gc(e,t,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var u=e.baseQueue,d=l.pending;if(d!==null){if(u!==null){var v=u.next;u.next=d.next,d.next=v}t.baseQueue=u=d,l.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var w=v=null,C=null,q=t,X=!1;do{var P=q.lane&-536870913;if(P!==q.lane?(je&P)===P:(bn&P)===P){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),P===di&&(X=!0);else if((bn&H)===H){q=q.next,H===di&&(X=!0);continue}else P={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(w=C=P,v=d):C=C.next=P,xe.lanes|=H,ea|=H;P=q.action,Da&&i(d,P),d=q.hasEagerState?q.eagerState:i(d,P)}else H={lane:P,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(w=C=H,v=d):C=C.next=H,xe.lanes|=P,ea|=P;q=q.next}while(q!==null&&q!==t);if(C===null?v=d:C.next=w,!Tt(d,e.memoizedState)&&(Ze=!0,X&&(i=mi,i!==null)))throw i;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vc(e){var t=Pe(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var v=u=u.next;do d=e(d,v.action),v=v.next;while(v!==u);Tt(d,t.memoizedState)||(Ze=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,l]}function Cd(e,t,i){var l=xe,u=Pe(),d=Te;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=t();var v=!Tt((De||u).memoizedState,i);if(v&&(u.memoizedState=i,Ze=!0),u=u.queue,Xc(Md.bind(null,l,u,e),[e]),u.getSnapshot!==t||v||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,bi(9,{destroy:void 0},Dd.bind(null,l,u,i,t),null),ze===null)throw Error(s(349));d||(bn&127)!==0||kd(l,t,i)}return i}function kd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=xe.updateQueue,t===null?(t=ll(),xe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Dd(e,t,i,l){t.value=i,t.getSnapshot=l,Ud(t)&&zd(e)}function Md(e,t,i){return i(function(){Ud(t)&&zd(e)})}function Ud(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Tt(e,i)}catch{return!0}}function zd(e){var t=Na(e,2);t!==null&&wt(t,e,2)}function Yc(e){var t=dt();if(typeof e=="function"){var i=e;if(e=i(),Da){qn(!0);try{i()}finally{qn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function Ld(e,t,i,l){return e.baseState=i,Gc(e,De,typeof l=="function"?l:_n)}function dx(e,t,i,l,u){if(hl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};k.T!==null?i(!0):d.isTransition=!1,l(d),i=t.pending,i===null?(d.next=t.pending=d,$d(t,d)):(d.next=i.next,t.pending=i.next=d)}}function $d(e,t){var i=t.action,l=t.payload,u=e.state;if(t.isTransition){var d=k.T,v={};k.T=v;try{var w=i(u,l),C=k.S;C!==null&&C(v,w),Bd(e,t,w)}catch(q){Kc(e,t,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),k.T=d}}else try{d=i(u,l),Bd(e,t,d)}catch(q){Kc(e,t,q)}}function Bd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){qd(e,t,l)},function(l){return Kc(e,t,l)}):qd(e,t,i)}function qd(e,t,i){t.status="fulfilled",t.value=i,Hd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,$d(e,i)))}function Kc(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,Hd(t),t=t.next;while(t!==l)}e.action=null}function Hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gd(e,t){return t}function Vd(e,t){if(Te){var i=ze.formState;if(i!==null){e:{var l=xe;if(Te){if(qe){t:{for(var u=qe,d=Vt;u.nodeType!==8;){if(!d){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){qe=Kt(u.nextSibling),l=u.data==="F!";break e}}Kn(l)}l=!1}l&&(t=i[0])}}return i=dt(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:t},i.queue=l,i=om.bind(null,xe,l),l.dispatch=i,l=Yc(!1),d=Zc.bind(null,xe,!1,l.queue),l=dt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,i=dx.bind(null,xe,u,d,i),u.dispatch=i,l.memoizedState=e,[t,i,!1]}function Yd(e){var t=Pe();return Kd(t,De,e)}function Kd(e,t,i){if(t=Gc(e,t,Gd)[0],e=cl(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Nr(t)}catch(v){throw v===gi?Fs:v}else l=t;t=Pe();var u=t.queue,d=u.dispatch;return i!==t.memoizedState&&(xe.flags|=2048,bi(9,{destroy:void 0},mx.bind(null,u,i),null)),[l,d,e]}function mx(e,t){e.action=t}function Xd(e){var t=Pe(),i=De;if(i!==null)return Kd(t,i,e);Pe(),t=t.memoizedState,i=Pe();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function bi(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=xe.updateQueue,t===null&&(t=ll(),xe.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function Id(){return Pe().memoizedState}function ul(e,t,i,l){var u=dt();xe.flags|=e,u.memoizedState=bi(1|t,{destroy:void 0},i,l===void 0?null:l)}function fl(e,t,i,l){var u=Pe();l=l===void 0?null:l;var d=u.memoizedState.inst;De!==null&&l!==null&&zc(l,De.memoizedState.deps)?u.memoizedState=bi(t,d,i,l):(xe.flags|=e,u.memoizedState=bi(1|t,d,i,l))}function Pd(e,t){ul(8390656,8,e,t)}function Xc(e,t){fl(2048,8,e,t)}function gx(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=ll(),xe.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Qd(e){var t=Pe().memoizedState;return gx({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Jd(e,t){return fl(4,2,e,t)}function Zd(e,t){return fl(4,4,e,t)}function Wd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fd(e,t,i){i=i!=null?i.concat([e]):null,fl(4,4,Wd.bind(null,t,e),i)}function Ic(){}function em(e,t){var i=Pe();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&zc(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function tm(e,t){var i=Pe();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&zc(t,l[1]))return l[0];if(l=e(),Da){qn(!0);try{e()}finally{qn(!1)}}return i.memoizedState=[l,t],l}function Pc(e,t,i){return i===void 0||(bn&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=ng(),xe.lanes|=e,ea|=e,i)}function nm(e,t,i,l){return Tt(i,t)?i:yi.current!==null?(e=Pc(e,i,l),Tt(e,t)||(Ze=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(je&261930)===0?(Ze=!0,e.memoizedState=i):(e=ng(),xe.lanes|=e,ea|=e,t)}function am(e,t,i,l,u){var d=Y.p;Y.p=d!==0&&8>d?d:8;var v=k.T,w={};k.T=w,Zc(e,!1,t,i);try{var C=u(),q=k.S;if(q!==null&&q(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=ux(C,l);jr(e,t,X,Dt(e))}else jr(e,t,l,Dt(e))}catch(P){jr(e,t,{then:function(){},status:"rejected",reason:P},Dt())}finally{Y.p=d,v!==null&&w.types!==null&&(v.types=w.types),k.T=v}}function px(){}function Qc(e,t,i,l){if(e.tag!==5)throw Error(s(476));var u=im(e).queue;am(e,u,t,U,i===null?px:function(){return rm(e),i(l)})}function im(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:U},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rm(e){var t=im(e);t.next===null&&(t=e.alternate.memoizedState),jr(e,t.next.queue,{},Dt())}function Jc(){return st(Gr)}function sm(){return Pe().memoizedState}function lm(){return Pe().memoizedState}function yx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Dt();e=Pn(i);var l=Qn(t,e,i);l!==null&&(wt(l,t,i),br(l,t,i)),t={cache:jc()},e.payload=t;return}t=t.return}}function vx(e,t,i){var l=Dt();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hl(e)?cm(t,i):(i=mc(e,t,i,l),i!==null&&(wt(i,e,l),um(i,t,l)))}function om(e,t,i){var l=Dt();jr(e,t,i,l)}function jr(e,t,i,l){var u={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(hl(e))cm(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,w=d(v,i);if(u.hasEagerState=!0,u.eagerState=w,Tt(w,v))return Xs(e,t,u,0),ze===null&&Ks(),!1}catch{}if(i=mc(e,t,u,l),i!==null)return wt(i,e,l),um(i,t,l),!0}return!1}function Zc(e,t,i,l){if(l={lane:2,revertLane:Ru(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hl(e)){if(t)throw Error(s(479))}else t=mc(e,i,l,2),t!==null&&wt(t,e,2)}function hl(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function cm(e,t){vi=rl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function um(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,gh(e,i)}}var Er={readContext:st,use:ol,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Er.useEffectEvent=Ye;var fm={readContext:st,use:ol,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Pd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ul(4194308,4,Wd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var i=dt();t=t===void 0?null:t;var l=e();if(Da){qn(!0);try{e()}finally{qn(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=dt();if(i!==void 0){var u=i(t);if(Da){qn(!0);try{i(t)}finally{qn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=vx.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Yc(e);var t=e.queue,i=om.bind(null,xe,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Ic,useDeferredValue:function(e,t){var i=dt();return Pc(i,e,t)},useTransition:function(){var e=Yc(!1);return e=am.bind(null,xe,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=xe,u=dt();if(Te){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),ze===null)throw Error(s(349));(je&127)!==0||kd(l,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,Pd(Md.bind(null,l,d,e),[e]),l.flags|=2048,bi(9,{destroy:void 0},Dd.bind(null,l,d,i,t),null),i},useId:function(){var e=dt(),t=ze.identifierPrefix;if(Te){var i=rn,l=an;i=(l&~(1<<32-Et(l)-1)).toString(32)+i,t="_"+t+"R_"+i,i=sl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=fx++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Jc,useFormState:Vd,useActionState:Vd,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Zc.bind(null,xe,!0,i),i.dispatch=t,[e,t]},useMemoCache:Hc,useCacheRefresh:function(){return dt().memoizedState=yx.bind(null,xe)},useEffectEvent:function(e){var t=dt(),i={impl:e};return t.memoizedState=i,function(){if((Oe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Wc={readContext:st,use:ol,useCallback:em,useContext:st,useEffect:Xc,useImperativeHandle:Fd,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:tm,useReducer:cl,useRef:Id,useState:function(){return cl(_n)},useDebugValue:Ic,useDeferredValue:function(e,t){var i=Pe();return nm(i,De.memoizedState,e,t)},useTransition:function(){var e=cl(_n)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Nr(e),t]},useSyncExternalStore:Cd,useId:sm,useHostTransitionStatus:Jc,useFormState:Yd,useActionState:Yd,useOptimistic:function(e,t){var i=Pe();return Ld(i,De,e,t)},useMemoCache:Hc,useCacheRefresh:lm};Wc.useEffectEvent=Qd;var hm={readContext:st,use:ol,useCallback:em,useContext:st,useEffect:Xc,useImperativeHandle:Fd,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:tm,useReducer:Vc,useRef:Id,useState:function(){return Vc(_n)},useDebugValue:Ic,useDeferredValue:function(e,t){var i=Pe();return De===null?Pc(i,e,t):nm(i,De.memoizedState,e,t)},useTransition:function(){var e=Vc(_n)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Nr(e),t]},useSyncExternalStore:Cd,useId:sm,useHostTransitionStatus:Jc,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var i=Pe();return De!==null?Ld(i,De,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:lm};hm.useEffectEvent=Qd;function Fc(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var eu={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Dt(),u=Pn(l);u.payload=t,i!=null&&(u.callback=i),t=Qn(e,u,l),t!==null&&(wt(t,e,l),br(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Dt(),u=Pn(l);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Qn(e,u,l),t!==null&&(wt(t,e,l),br(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Dt(),l=Pn(i);l.tag=2,t!=null&&(l.callback=t),t=Qn(e,l,i),t!==null&&(wt(t,e,i),br(t,e,i))}};function dm(e,t,i,l,u,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):t.prototype&&t.prototype.isPureReactComponent?!hr(i,l)||!hr(u,d):!0}function mm(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function Ma(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function gm(e){Ys(e)}function pm(e){console.error(e)}function ym(e){Ys(e)}function dl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function vm(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function tu(e,t,i){return i=Pn(i),i.tag=3,i.payload={element:null},i.callback=function(){dl(e,t)},i}function xm(e){return e=Pn(e),e.tag=3,e}function bm(e,t,i,l){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;e.payload=function(){return u(d)},e.callback=function(){vm(t,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){vm(t,i,l),typeof u!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function xx(e,t,i,l,u){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&hi(t,i,u,!0),i=Rt.current,i!==null){switch(i.tag){case 31:case 13:return Yt===null?jl():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=u,l===el?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),Eu(e,l,u)),!1;case 22:return i.flags|=65536,l===el?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),Eu(e,l,u)),!1}throw Error(s(435,i.tag))}return Eu(e,l,u),jl(),!1}if(Te)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==bc&&(e=Error(s(422),{cause:l}),gr(qt(e,i)))):(l!==bc&&(t=Error(s(423),{cause:l}),gr(qt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=qt(l,i),u=tu(e.stateNode,l,u),Cc(e,u),Ke!==4&&(Ke=2)),!1;var d=Error(s(520),{cause:l});if(d=qt(d,i),Mr===null?Mr=[d]:Mr.push(d),Ke!==4&&(Ke=2),t===null)return!0;l=qt(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=tu(i.stateNode,l,e),Cc(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ta===null||!ta.has(d))))return i.flags|=65536,u&=-u,i.lanes|=u,u=xm(u),bm(u,e,i,l),Cc(i,u),!1}i=i.return}while(i!==null);return!1}var nu=Error(s(461)),Ze=!1;function lt(e,t,i,l){t.child=e===null?Nd(t,null,i,l):ka(t,e.child,i,l)}function _m(e,t,i,l,u){i=i.render;var d=t.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Aa(t),l=Lc(e,t,i,v,d,u),w=$c(),e!==null&&!Ze?(Bc(e,t,u),wn(e,t,u)):(Te&&w&&vc(t),t.flags|=1,lt(e,t,l,u),t.child)}function wm(e,t,i,l,u){if(e===null){var d=i.type;return typeof d=="function"&&!gc(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,Sm(e,t,d,l,u)):(e=Ps(i.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!uu(e,u)){var v=d.memoizedProps;if(i=i.compare,i=i!==null?i:hr,i(v,l)&&e.ref===t.ref)return wn(e,t,u)}return t.flags|=1,e=pn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,i,l,u){if(e!==null){var d=e.memoizedProps;if(hr(d,l)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=l=d,uu(e,u))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,wn(e,t,u)}return au(e,t,i,l,u)}function Nm(e,t,i,l){var u=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~d}else l=0,t.child=null;return jm(e,t,d,i,l)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ws(t,d!==null?d.cachePool:null),d!==null?Td(t,d):Dc(),Ad(t);else return l=t.lanes=536870912,jm(e,t,d!==null?d.baseLanes|i:i,i,l)}else d!==null?(Ws(t,d.cachePool),Td(t,d),Zn(),t.memoizedState=null):(e!==null&&Ws(t,null),Dc(),Zn());return lt(e,t,u,i),t.child}function Tr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jm(e,t,i,l,u){var d=Tc();return d=d===null?null:{parent:Qe._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&Ws(t,null),Dc(),Ad(t),e!==null&&hi(e,t,l,!0),t.childLanes=u,null}function ml(e,t){return t=pl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Em(e,t,i){return ka(t,e.child,null,i),e=ml(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function bx(e,t,i){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(l.mode==="hidden")return e=ml(t,l),t.lanes=536870912,Tr(null,e);if(Uc(t),(e=qe)?(e=$g(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},i=cd(e),i.return=t,t.child=i,rt=t,qe=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return ml(t,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Uc(t),u)if(t.flags&256)t.flags&=-257,t=Em(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ze||hi(e,t,i,!1),u=(i&e.childLanes)!==0,Ze||u){if(l=ze,l!==null&&(v=ph(l,i),v!==0&&v!==d.retryLane))throw d.retryLane=v,Na(e,v),wt(l,e,v),nu;jl(),t=Em(e,t,i)}else e=d.treeContext,qe=Kt(v.nextSibling),rt=t,Te=!0,Yn=null,Vt=!1,e!==null&&hd(t,e),t=ml(t,l),t.flags|=4096;return t}return e=pn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function gl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function au(e,t,i,l,u){return Aa(t),i=Lc(e,t,i,l,void 0,u),l=$c(),e!==null&&!Ze?(Bc(e,t,u),wn(e,t,u)):(Te&&l&&vc(t),t.flags|=1,lt(e,t,i,u),t.child)}function Tm(e,t,i,l,u,d){return Aa(t),t.updateQueue=null,i=Od(t,l,i,u),Rd(e),l=$c(),e!==null&&!Ze?(Bc(e,t,d),wn(e,t,d)):(Te&&l&&vc(t),t.flags|=1,lt(e,t,i,d),t.child)}function Am(e,t,i,l,u){if(Aa(t),t.stateNode===null){var d=oi,v=i.contextType;typeof v=="object"&&v!==null&&(d=st(v)),d=new i(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=eu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Rc(t),v=i.contextType,d.context=typeof v=="object"&&v!==null?st(v):oi,d.state=t.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Fc(t,i,v,l),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&eu.enqueueReplaceState(d,d.state,null),wr(t,l,d,u),_r(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,C=Ma(i,w);d.props=C;var q=d.context,X=i.contextType;v=oi,typeof X=="object"&&X!==null&&(v=st(X));var P=i.getDerivedStateFromProps;X=typeof P=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==v)&&mm(t,d,l,v),In=!1;var H=t.memoizedState;d.state=H,wr(t,l,d,u),_r(),q=t.memoizedState,w||H!==q||In?(typeof P=="function"&&(Fc(t,i,P,l),q=t.memoizedState),(C=In||dm(t,i,C,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),d.props=l,d.state=q,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Oc(e,t),v=t.memoizedProps,X=Ma(i,v),d.props=X,P=t.pendingProps,H=d.context,q=i.contextType,C=oi,typeof q=="object"&&q!==null&&(C=st(q)),w=i.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==P||H!==C)&&mm(t,d,l,C),In=!1,H=t.memoizedState,d.state=H,wr(t,l,d,u),_r();var G=t.memoizedState;v!==P||H!==G||In||e!==null&&e.dependencies!==null&&Js(e.dependencies)?(typeof w=="function"&&(Fc(t,i,w,l),G=t.memoizedState),(X=In||dm(t,i,X,l,H,G,C)||e!==null&&e.dependencies!==null&&Js(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=G),d.props=l,d.state=G,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,gl(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=ka(t,e.child,null,u),t.child=ka(t,null,i,u)):lt(e,t,i,u),t.memoizedState=d.state,e=t.child):e=wn(e,t,u),e}function Rm(e,t,i,l){return Ea(),t.flags|=256,lt(e,t,i,l),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:vd()}}function su(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=kt),e}function Om(e,t,i){var l=t.pendingProps,u=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(u?Jn(t):Zn(),(e=qe)?(e=$g(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},i=cd(e),i.return=t,t.child=i,rt=t,qe=null)):e=null,e===null)throw Kn(t);return Gu(e)?t.lanes=32:t.lanes=536870912,null}var w=l.children;return l=l.fallback,u?(Zn(),u=t.mode,w=pl({mode:"hidden",children:w},u),l=ja(l,u,i,null),w.return=t,l.return=t,w.sibling=l,t.child=w,l=t.child,l.memoizedState=ru(i),l.childLanes=su(e,v,i),t.memoizedState=iu,Tr(null,l)):(Jn(t),lu(t,w))}var C=e.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(d)t.flags&256?(Jn(t),t.flags&=-257,t=ou(e,t,i)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),w=l.fallback,u=t.mode,l=pl({mode:"visible",children:l.children},u),w=ja(w,u,i,null),w.flags|=2,l.return=t,w.return=t,l.sibling=w,t.child=l,ka(t,e.child,null,i),l=t.child,l.memoizedState=ru(i),l.childLanes=su(e,v,i),t.memoizedState=iu,t=Tr(null,l));else if(Jn(t),Gu(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,gr({value:l,source:null,stack:null}),t=ou(e,t,i)}else if(Ze||hi(e,t,i,!1),v=(i&e.childLanes)!==0,Ze||v){if(v=ze,v!==null&&(l=ph(v,i),l!==0&&l!==C.retryLane))throw C.retryLane=l,Na(e,l),wt(v,e,l),nu;Hu(w)||jl(),t=ou(e,t,i)}else Hu(w)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,qe=Kt(w.nextSibling),rt=t,Te=!0,Yn=null,Vt=!1,e!==null&&hd(t,e),t=lu(t,l.children),t.flags|=4096);return t}return u?(Zn(),w=l.fallback,u=t.mode,C=e.child,q=C.sibling,l=pn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?w=pn(q,w):(w=ja(w,u,i,null),w.flags|=2),w.return=t,l.return=t,l.sibling=w,t.child=l,Tr(null,l),l=t.child,w=e.child.memoizedState,w===null?w=ru(i):(u=w.cachePool,u!==null?(C=Qe._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=vd(),w={baseLanes:w.baseLanes|i,cachePool:u}),l.memoizedState=w,l.childLanes=su(e,v,i),t.memoizedState=iu,Tr(e.child,l)):(Jn(t),i=e.child,e=i.sibling,i=pn(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=i,t.memoizedState=null,i)}function lu(e,t){return t=pl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pl(e,t){return e=At(22,e,null,t),e.lanes=0,e}function ou(e,t,i){return ka(t,e.child,null,i),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cm(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Sc(e.return,t,i)}function cu(e,t,i,l,u,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:u,treeForkCount:d}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=u,v.treeForkCount=d)}function km(e,t,i){var l=t.pendingProps,u=l.revealOrder,d=l.tail;l=l.children;var v=Ie.current,w=(v&2)!==0;if(w?(v=v&1|2,t.flags|=128):v&=1,ee(Ie,v),lt(e,t,l,i),l=Te?mr:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,i,t);else if(e.tag===19)Cm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&il(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),cu(t,!1,u,i,d,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&il(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}cu(t,!0,i,null,d,l);break;case"together":cu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function wn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(hi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=pn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=pn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function uu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Js(e)))}function _x(e,t,i){switch(t.tag){case 3:$e(t,t.stateNode.containerInfo),Xn(t,Qe,e.memoizedState.cache),Ea();break;case 27:case 5:Fi(t);break;case 4:$e(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Jn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Om(e,t,i):(Jn(t),e=wn(e,t,i),e!==null?e.sibling:null);Jn(t);break;case 19:var u=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(hi(e,t,i,!1),l=(i&t.childLanes)!==0),u){if(l)return km(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ee(Ie,Ie.current),l)break;return null;case 22:return t.lanes=0,Nm(e,t,i,t.pendingProps);case 24:Xn(t,Qe,e.memoizedState.cache)}return wn(e,t,i)}function Dm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!uu(e,i)&&(t.flags&128)===0)return Ze=!1,_x(e,t,i);Ze=(e.flags&131072)!==0}else Ze=!1,Te&&(t.flags&1048576)!==0&&fd(t,mr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Oa(t.elementType),t.type=e,typeof e=="function")gc(e)?(l=Ma(e,l),t.tag=1,t=Am(null,t,e,l,i)):(t.tag=0,t=au(null,t,e,l,i));else{if(e!=null){var u=e.$$typeof;if(u===R){t.tag=11,t=_m(null,t,e,l,i);break e}else if(u===J){t.tag=14,t=wm(null,t,e,l,i);break e}}throw t=B(e)||e,Error(s(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,u=Ma(l,t.pendingProps),Am(e,t,l,u,i);case 3:e:{if($e(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;u=d.element,Oc(e,t),wr(t,l,null,i);var v=t.memoizedState;if(l=v.cache,Xn(t,Qe,l),l!==d.cache&&Nc(t,[Qe],i,!0),_r(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Rm(e,t,l,i);break e}else if(l!==u){u=qt(Error(s(424)),t),gr(u),t=Rm(e,t,l,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=Kt(e.firstChild),rt=t,Te=!0,Yn=null,Vt=!0,i=Nd(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ea(),l===u){t=wn(e,t,i);break e}lt(e,t,l,i)}t=t.child}return t;case 26:return gl(e,t),e===null?(i=Yg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Te||(i=t.type,e=t.pendingProps,l=kl(ge.current).createElement(i),l[it]=t,l[pt]=e,ot(l,i,e),nt(l),t.stateNode=l):t.memoizedState=Yg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fi(t),e===null&&Te&&(l=t.stateNode=Hg(t.type,t.pendingProps,ge.current),rt=t,Vt=!0,u=qe,ra(t.type)?(Vu=u,qe=Kt(l.firstChild)):qe=u),lt(e,t,t.pendingProps.children,i),gl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((u=l=qe)&&(l=Zx(l,t.type,t.pendingProps,Vt),l!==null?(t.stateNode=l,rt=t,qe=Kt(l.firstChild),Vt=!1,u=!0):u=!1),u||Kn(t)),Fi(t),u=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,$u(u,d)?l=null:v!==null&&$u(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Lc(e,t,hx,null,null,i),Gr._currentValue=u),gl(e,t),lt(e,t,l,i),t.child;case 6:return e===null&&Te&&((e=i=qe)&&(i=Wx(i,t.pendingProps,Vt),i!==null?(t.stateNode=i,rt=t,qe=null,e=!0):e=!1),e||Kn(t)),null;case 13:return Om(e,t,i);case 4:return $e(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ka(t,null,l,i):lt(e,t,l,i),t.child;case 11:return _m(e,t,t.type,t.pendingProps,i);case 7:return lt(e,t,t.pendingProps,i),t.child;case 8:return lt(e,t,t.pendingProps.children,i),t.child;case 12:return lt(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Xn(t,t.type,l.value),lt(e,t,l.children,i),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Aa(t),u=st(u),l=l(u),t.flags|=1,lt(e,t,l,i),t.child;case 14:return wm(e,t,t.type,t.pendingProps,i);case 15:return Sm(e,t,t.type,t.pendingProps,i);case 19:return km(e,t,i);case 31:return bx(e,t,i);case 22:return Nm(e,t,i,t.pendingProps);case 24:return Aa(t),l=st(Qe),e===null?(u=Tc(),u===null&&(u=ze,d=jc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=i),u=d),t.memoizedState={parent:l,cache:u},Rc(t),Xn(t,Qe,u)):((e.lanes&i)!==0&&(Oc(e,t),wr(t,null,null,i),_r()),u=e.memoizedState,d=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Xn(t,Qe,l)):(l=d.cache,Xn(t,Qe,l),l!==u.cache&&Nc(t,[Qe],i,!0))),lt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Sn(e){e.flags|=4}function fu(e,t,i,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(sg())e.flags|=8192;else throw Ca=el,Ac}else e.flags&=-16777217}function Mm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qg(t))if(sg())e.flags|=8192;else throw Ca=el,Ac}function yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dh():536870912,e.lanes|=t,Ni|=t)}function Ar(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function wx(e,t,i){var l=t.pendingProps;switch(xc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),xn(Qe),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(fi(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),He(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(Sn(t),d!==null?(He(t),Mm(t,d)):(He(t),fu(t,u,null,l,i))):d?d!==e.memoizedState?(Sn(t),He(t),Mm(t,d)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sn(t),He(t),fu(t,u,e,l,i)),null;case 27:if(As(t),i=ge.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return He(t),null}e=ne.current,fi(t)?dd(t):(e=Hg(u,l,i),t.stateNode=e,Sn(t))}return He(t),null;case 5:if(As(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return He(t),null}if(d=ne.current,fi(t))dd(t);else{var v=kl(ge.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(u,{is:l.is}):v.createElement(u)}}d[it]=t,d[pt]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=d;e:switch(ot(d,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sn(t)}}return He(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=ge.current,fi(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,u=rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[it]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Og(e.nodeValue,i)),e||Kn(t,!0)}else e=kl(e).createTextNode(l),e[it]=t,t.stateNode=e}return He(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(l=fi(t),i!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[it]=t}else Ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else i=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(s(558))}return He(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=fi(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[it]=t}else Ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),u=!1}else u=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=i,t):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),yl(t,t.updateQueue),He(t),null);case 4:return Be(),e===null&&Du(t.stateNode.containerInfo),He(t),null;case 10:return xn(t.type),He(t),null;case 19:if(V(Ie),l=t.memoizedState,l===null)return He(t),null;if(u=(t.flags&128)!==0,d=l.rendering,d===null)if(u)Ar(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=il(e),d!==null){for(t.flags|=128,Ar(l,!1),e=d.updateQueue,t.updateQueue=e,yl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)od(i,e),i=i.sibling;return ee(Ie,Ie.current&1|2),Te&&yn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Nt()>wl&&(t.flags|=128,u=!0,Ar(l,!1),t.lanes=4194304)}else{if(!u)if(e=il(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,yl(t,e),Ar(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Te)return He(t),null}else 2*Nt()-l.renderingStartTime>wl&&i!==536870912&&(t.flags|=128,u=!0,Ar(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Nt(),e.sibling=null,i=Ie.current,ee(Ie,u?i&1|2:i&1),Te&&yn(t,l.treeForkCount),e):(He(t),null);case 22:case 23:return Ot(t),Mc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),i=t.updateQueue,i!==null&&yl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&V(Ra),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),xn(Qe),He(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Sx(e,t){switch(xc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Qe),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return As(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(s(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Ie),null;case 4:return Be(),null;case 10:return xn(t.type),null;case 22:case 23:return Ot(t),Mc(),e!==null&&V(Ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Qe),null;case 25:return null;default:return null}}function Um(e,t){switch(xc(t),t.tag){case 3:xn(Qe),Be();break;case 26:case 27:case 5:As(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:V(Ie);break;case 10:xn(t.type);break;case 22:case 23:Ot(t),Mc(),e!==null&&V(Ra);break;case 24:xn(Qe)}}function Rr(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var u=l.next;i=u;do{if((i.tag&e)===e){l=void 0;var d=i.create,v=i.inst;l=d(),v.destroy=l}i=i.next}while(i!==u)}}catch(w){ke(t,t.return,w)}}function Wn(e,t,i){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,u=t;var C=i,q=w;try{q()}catch(X){ke(u,C,X)}}}l=l.next}while(l!==d)}}catch(X){ke(t,t.return,X)}}function zm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Ed(t,i)}catch(l){ke(e,e.return,l)}}}function Lm(e,t,i){i.props=Ma(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){ke(e,t,l)}}function Or(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(u){ke(e,t,u)}}function sn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(u){ke(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){ke(e,t,u)}else i.current=null}function $m(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(u){ke(e,e.return,u)}}function hu(e,t,i){try{var l=e.stateNode;Kx(l,e.type,i,t),l[pt]=t}catch(u){ke(e,e.return,u)}}function Bm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ra(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mn));else if(l!==4&&(l===27&&ra(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,i),e=e.sibling;e!==null;)mu(e,t,i),e=e.sibling}function vl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&ra(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(vl(e,t,i),e=e.sibling;e!==null;)vl(e,t,i),e=e.sibling}function qm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ot(t,l,i),t[it]=e,t[pt]=i}catch(d){ke(e,e.return,d)}}var Nn=!1,We=!1,gu=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,at=null;function Nx(e,t){if(e=e.containerInfo,zu=Bl,e=Fh(e),oc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var v=0,w=-1,C=-1,q=0,X=0,P=e,H=null;t:for(;;){for(var G;P!==i||u!==0&&P.nodeType!==3||(w=v+u),P!==d||l!==0&&P.nodeType!==3||(C=v+l),P.nodeType===3&&(v+=P.nodeValue.length),(G=P.firstChild)!==null;)H=P,P=G;for(;;){if(P===e)break t;if(H===i&&++q===u&&(w=v),H===d&&++X===l&&(C=v),(G=P.nextSibling)!==null)break;P=H,H=P.parentNode}P=G}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Lu={focusedElem:e,selectionRange:i},Bl=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,u=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var se=Ma(i.type,u);e=l.getSnapshotBeforeUpdate(se,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){ke(i,i.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)qu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Gm(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:En(e,i),l&4&&Rr(5,i);break;case 1:if(En(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(v){ke(i,i.return,v)}else{var u=Ma(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ke(i,i.return,v)}}l&64&&zm(i),l&512&&Or(i,i.return);break;case 3:if(En(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Ed(e,t)}catch(v){ke(i,i.return,v)}}break;case 27:t===null&&l&4&&qm(i);case 26:case 5:En(e,i),t===null&&l&4&&$m(i),l&512&&Or(i,i.return);break;case 12:En(e,i);break;case 31:En(e,i),l&4&&Km(e,i);break;case 13:En(e,i),l&4&&Xm(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Dx.bind(null,i),Fx(e,i))));break;case 22:if(l=i.memoizedState!==null||Nn,!l){t=t!==null&&t.memoizedState!==null||We,u=Nn;var d=We;Nn=l,(We=t)&&!d?Tn(e,i,(i.subtreeFlags&8772)!==0):En(e,i),Nn=u,We=d}break;case 30:break;default:En(e,i)}}function Vm(e){var t=e.alternate;t!==null&&(e.alternate=null,Vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ko(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,vt=!1;function jn(e,t,i){for(i=i.child;i!==null;)Ym(e,t,i),i=i.sibling}function Ym(e,t,i){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(er,i)}catch{}switch(i.tag){case 26:We||sn(i,t),jn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:We||sn(i,t);var l=Ge,u=vt;ra(i.type)&&(Ge=i.stateNode,vt=!1),jn(e,t,i),Br(i.stateNode),Ge=l,vt=u;break;case 5:We||sn(i,t);case 6:if(l=Ge,u=vt,Ge=null,jn(e,t,i),Ge=l,vt=u,Ge!==null)if(vt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(d){ke(i,t,d)}else try{Ge.removeChild(i.stateNode)}catch(d){ke(i,t,d)}break;case 18:Ge!==null&&(vt?(e=Ge,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ki(e)):zg(Ge,i.stateNode));break;case 4:l=Ge,u=vt,Ge=i.stateNode.containerInfo,vt=!0,jn(e,t,i),Ge=l,vt=u;break;case 0:case 11:case 14:case 15:Wn(2,i,t),We||Wn(4,i,t),jn(e,t,i);break;case 1:We||(sn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Lm(i,t,l)),jn(e,t,i);break;case 21:jn(e,t,i);break;case 22:We=(l=We)||i.memoizedState!==null,jn(e,t,i),We=l;break;default:jn(e,t,i)}}function Km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ki(e)}catch(i){ke(t,t.return,i)}}}function Xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ki(e)}catch(i){ke(t,t.return,i)}}function jx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hm),t;default:throw Error(s(435,e.tag))}}function xl(e,t){var i=jx(e);t.forEach(function(l){if(!i.has(l)){i.add(l);var u=Mx.bind(null,e,l);l.then(u,u)}})}function xt(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var u=i[l],d=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(ra(w.type)){Ge=w.stateNode,vt=!1;break e}break;case 5:Ge=w.stateNode,vt=!1;break e;case 3:case 4:Ge=w.stateNode.containerInfo,vt=!0;break e}w=w.return}if(Ge===null)throw Error(s(160));Ym(d,v,u),Ge=null,vt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Im(t,e),t=t.sibling}var Qt=null;function Im(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),bt(e),l&4&&(Wn(3,e,e.return),Rr(3,e),Wn(5,e,e.return));break;case 1:xt(t,e),bt(e),l&512&&(We||i===null||sn(i,i.return)),l&64&&Nn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var u=Qt;if(xt(t,e),bt(e),l&512&&(We||i===null||sn(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[ar]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),ot(d,l,i),d[it]=e,nt(d),l=d;break e;case"link":var v=Ig("link","href",u).get(l+(i.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(w,1);break t}}d=u.createElement(l),ot(d,l,i),u.head.appendChild(d);break;case"meta":if(v=Ig("meta","content",u).get(l+(i.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(w,1);break t}}d=u.createElement(l),ot(d,l,i),u.head.appendChild(d);break;default:throw Error(s(468,l))}d[it]=e,nt(d),l=d}e.stateNode=l}else Pg(u,e.type,e.stateNode);else e.stateNode=Xg(u,l,e.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Pg(u,e.type,e.stateNode):Xg(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,i.memoizedProps)}break;case 27:xt(t,e),bt(e),l&512&&(We||i===null||sn(i,i.return)),i!==null&&l&4&&hu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(xt(t,e),bt(e),l&512&&(We||i===null||sn(i,i.return)),e.flags&32){u=e.stateNode;try{ti(u,"")}catch(se){ke(e,e.return,se)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hu(e,u,i!==null?i.memoizedProps:u)),l&1024&&(gu=!0);break;case 6:if(xt(t,e),bt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(se){ke(e,e.return,se)}}break;case 3:if(Ul=null,u=Qt,Qt=Dl(t.containerInfo),xt(t,e),Qt=u,bt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(se){ke(e,e.return,se)}gu&&(gu=!1,Pm(e));break;case 4:l=Qt,Qt=Dl(e.stateNode.containerInfo),xt(t,e),bt(e),Qt=l;break;case 12:xt(t,e),bt(e);break;case 31:xt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xl(e,l)));break;case 13:xt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(_l=Nt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xl(e,l)));break;case 22:u=e.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,q=Nn,X=We;if(Nn=q||u,We=X||C,xt(t,e),We=X,Nn=q,bt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||C||Nn||We||Ua(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){C=i=t;try{if(d=C.stateNode,u)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=C.stateNode;var P=C.memoizedProps.style,H=P!=null&&P.hasOwnProperty("display")?P.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(se){ke(C,C.return,se)}}}else if(t.tag===6){if(i===null){C=t;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(se){ke(C,C.return,se)}}}else if(t.tag===18){if(i===null){C=t;try{var G=C.stateNode;u?Lg(G,!0):Lg(C.stateNode,!1)}catch(se){ke(C,C.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,xl(e,i))));break;case 19:xt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xl(e,l)));break;case 30:break;case 21:break;default:xt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(Bm(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var u=i.stateNode,d=du(e);vl(e,d,u);break;case 5:var v=i.stateNode;i.flags&32&&(ti(v,""),i.flags&=-33);var w=du(e);vl(e,w,v);break;case 3:case 4:var C=i.stateNode.containerInfo,q=du(e);mu(e,q,C);break;default:throw Error(s(161))}}catch(X){ke(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Pm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function En(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gm(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Ua(t);break;case 1:sn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Lm(t,t.return,i),Ua(t);break;case 27:Br(t.stateNode);case 26:case 5:sn(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function Tn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tn(u,d,i),Rr(4,d);break;case 1:if(Tn(u,d,i),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(q){ke(l,l.return,q)}if(l=d,u=l.updateQueue,u!==null){var w=l.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)jd(C[u],w)}catch(q){ke(l,l.return,q)}}i&&v&64&&zm(d),Or(d,d.return);break;case 27:qm(d);case 26:case 5:Tn(u,d,i),i&&l===null&&v&4&&$m(d),Or(d,d.return);break;case 12:Tn(u,d,i);break;case 31:Tn(u,d,i),i&&v&4&&Km(u,d);break;case 13:Tn(u,d,i),i&&v&4&&Xm(u,d);break;case 22:d.memoizedState===null&&Tn(u,d,i),Or(d,d.return);break;case 30:break;default:Tn(u,d,i)}t=t.sibling}}function pu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&pr(i))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pr(e))}function Jt(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qm(e,t,i,l),t=t.sibling}function Qm(e,t,i,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,i,l),u&2048&&Rr(9,t);break;case 1:Jt(e,t,i,l);break;case 3:Jt(e,t,i,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pr(e)));break;case 12:if(u&2048){Jt(e,t,i,l),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ke(t,t.return,C)}}else Jt(e,t,i,l);break;case 31:Jt(e,t,i,l);break;case 13:Jt(e,t,i,l);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?Jt(e,t,i,l):Cr(e,t):d._visibility&2?Jt(e,t,i,l):(d._visibility|=2,_i(e,t,i,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&pu(v,t);break;case 24:Jt(e,t,i,l),u&2048&&yu(t.alternate,t);break;default:Jt(e,t,i,l)}}function _i(e,t,i,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,v=t,w=i,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:_i(d,v,w,C,u),Rr(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?_i(d,v,w,C,u):Cr(d,v):(X._visibility|=2,_i(d,v,w,C,u)),u&&q&2048&&pu(v.alternate,v);break;case 24:_i(d,v,w,C,u),u&&q&2048&&yu(v.alternate,v);break;default:_i(d,v,w,C,u)}t=t.sibling}}function Cr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,u=l.flags;switch(l.tag){case 22:Cr(i,l),u&2048&&pu(l.alternate,l);break;case 24:Cr(i,l),u&2048&&yu(l.alternate,l);break;default:Cr(i,l)}t=t.sibling}}var kr=8192;function wi(e,t,i){if(e.subtreeFlags&kr)for(e=e.child;e!==null;)Jm(e,t,i),e=e.sibling}function Jm(e,t,i){switch(e.tag){case 26:wi(e,t,i),e.flags&kr&&e.memoizedState!==null&&fb(i,Qt,e.memoizedState,e.memoizedProps);break;case 5:wi(e,t,i);break;case 3:case 4:var l=Qt;Qt=Dl(e.stateNode.containerInfo),wi(e,t,i),Qt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=kr,kr=16777216,wi(e,t,i),kr=l):wi(e,t,i));break;default:wi(e,t,i)}}function Zm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Dr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];at=l,Fm(l,e)}Zm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wm(e),e=e.sibling}function Wm(e){switch(e.tag){case 0:case 11:case 15:Dr(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Dr(e);break;case 12:Dr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bl(e)):Dr(e);break;default:Dr(e)}}function bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];at=l,Fm(l,e)}Zm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),bl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,bl(t));break;default:bl(t)}e=e.sibling}}function Fm(e,t){for(;at!==null;){var i=at;switch(i.tag){case 0:case 11:case 15:Wn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pr(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,at=l;else e:for(i=e;at!==null;){l=at;var u=l.sibling,d=l.return;if(Vm(l),l===i){at=null;break e}if(u!==null){u.return=d,at=u;break e}at=d}}}var Ex={getCacheForType:function(e){var t=st(Qe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return st(Qe).controller.signal}},Tx=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,we=null,je=0,Ce=0,Ct=null,Fn=!1,Si=!1,vu=!1,An=0,Ke=0,ea=0,za=0,xu=0,kt=0,Ni=0,Mr=null,_t=null,bu=!1,_l=0,eg=0,wl=1/0,Sl=null,ta=null,et=0,na=null,ji=null,Rn=0,_u=0,wu=null,tg=null,Ur=0,Su=null;function Dt(){return(Oe&2)!==0&&je!==0?je&-je:k.T!==null?Ru():yh()}function ng(){if(kt===0)if((je&536870912)===0||Te){var e=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),kt=e}else kt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),kt}function wt(e,t,i){(e===ze&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Ei(e,0),aa(e,je,kt,!1)),nr(e,i),((Oe&2)===0||e!==ze)&&(e===ze&&((Oe&2)===0&&(za|=i),Ke===4&&aa(e,je,kt,!1)),ln(e))}function ag(e,t,i){if((Oe&6)!==0)throw Error(s(327));var l=!i&&(t&127)===0&&(t&e.expiredLanes)===0||tr(e,t),u=l?Ox(e,t):ju(e,t,!0),d=l;do{if(u===0){Si&&!l&&aa(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!Ax(i)){u=ju(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var w=e;u=Mr;var C=w.current.memoizedState.isDehydrated;if(C&&(Ei(w,v).flags|=256),v=ju(w,v,!1),v!==2){if(vu&&!C){w.errorRecoveryDisabledLanes|=d,za|=d,u=4;break e}d=_t,_t=u,d!==null&&(_t===null?_t=d:_t.push.apply(_t,d))}u=v}if(d=!1,u!==2)continue}}if(u===1){Ei(e,0),aa(e,t,0,!0);break}e:{switch(l=e,d=u,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:aa(l,t,kt,!Fn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=_l+300-Nt(),10<u)){if(aa(l,t,kt,!Fn),Ds(l,0,!0)!==0)break e;Rn=t,l.timeoutHandle=Mg(ig.bind(null,l,i,_t,Sl,bu,t,kt,za,Ni,Fn,d,"Throttled",-0,0),u);break e}ig(l,i,_t,Sl,bu,t,kt,za,Ni,Fn,d,null,-0,0)}}break}while(!0);ln(e)}function ig(e,t,i,l,u,d,v,w,C,q,X,P,H,G){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},Jm(t,d,P);var se=(d&62914560)===d?_l-Nt():(d&4194048)===d?eg-Nt():0;if(se=hb(P,se),se!==null){Rn=d,e.cancelPendingCommit=se(hg.bind(null,e,t,d,i,l,u,v,w,C,X,P,null,H,G)),aa(e,d,v,!q);return}}hg(e,t,d,i,l,u,v,w,C)}function Ax(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var u=i[l],d=u.getSnapshot;u=u.value;try{if(!Tt(d(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function aa(e,t,i,l){t&=~xu,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var d=31-Et(u),v=1<<d;l[d]=-1,u&=~v}i!==0&&mh(e,i,t)}function Nl(){return(Oe&6)===0?(zr(0),!1):!0}function Nu(){if(we!==null){if(Ce===0)var e=we.return;else e=we,vn=Ta=null,qc(e),pi=null,vr=0,e=we;for(;e!==null;)Um(e.alternate,e),e=e.return;we=null}}function Ei(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Px(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Rn=0,Nu(),ze=e,we=i=pn(e.current,null),je=t,Ce=0,Ct=null,Fn=!1,Si=tr(e,t),vu=!1,Ni=kt=xu=za=ea=Ke=0,_t=Mr=null,bu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Et(l),d=1<<u;t|=e[u],l&=~d}return An=t,Ks(),i}function rg(e,t){xe=null,k.H=Er,t===gi||t===Fs?(t=_d(),Ce=3):t===Ac?(t=_d(),Ce=4):Ce=t===nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,we===null&&(Ke=1,dl(e,qt(t,e.current)))}function sg(){var e=Rt.current;return e===null?!0:(je&4194048)===je?Yt===null:(je&62914560)===je||(je&536870912)!==0?e===Yt:!1}function lg(){var e=k.H;return k.H=Er,e===null?Er:e}function og(){var e=k.A;return k.A=Ex,e}function jl(){Ke=4,Fn||(je&4194048)!==je&&Rt.current!==null||(Si=!0),(ea&134217727)===0&&(za&134217727)===0||ze===null||aa(ze,je,kt,!1)}function ju(e,t,i){var l=Oe;Oe|=2;var u=lg(),d=og();(ze!==e||je!==t)&&(Sl=null,Ei(e,t)),t=!1;var v=Ke;e:do try{if(Ce!==0&&we!==null){var w=we,C=Ct;switch(Ce){case 8:Nu(),v=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var q=Ce;if(Ce=0,Ct=null,Ti(e,w,C,q),i&&Si){v=0;break e}break;default:q=Ce,Ce=0,Ct=null,Ti(e,w,C,q)}}Rx(),v=Ke;break}catch(X){rg(e,X)}while(!0);return t&&e.shellSuspendCounter++,vn=Ta=null,Oe=l,k.H=u,k.A=d,we===null&&(ze=null,je=0,Ks()),v}function Rx(){for(;we!==null;)cg(we)}function Ox(e,t){var i=Oe;Oe|=2;var l=lg(),u=og();ze!==e||je!==t?(Sl=null,wl=Nt()+500,Ei(e,t)):Si=tr(e,t);e:do try{if(Ce!==0&&we!==null){t=we;var d=Ct;t:switch(Ce){case 1:Ce=0,Ct=null,Ti(e,t,d,1);break;case 2:case 9:if(xd(d)){Ce=0,Ct=null,ug(t);break}t=function(){Ce!==2&&Ce!==9||ze!==e||(Ce=7),ln(e)},d.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:xd(d)?(Ce=0,Ct=null,ug(t)):(Ce=0,Ct=null,Ti(e,t,d,7));break;case 5:var v=null;switch(we.tag){case 26:v=we.memoizedState;case 5:case 27:var w=we;if(v?Qg(v):w.stateNode.complete){Ce=0,Ct=null;var C=w.sibling;if(C!==null)we=C;else{var q=w.return;q!==null?(we=q,El(q)):we=null}break t}}Ce=0,Ct=null,Ti(e,t,d,5);break;case 6:Ce=0,Ct=null,Ti(e,t,d,6);break;case 8:Nu(),Ke=6;break e;default:throw Error(s(462))}}Cx();break}catch(X){rg(e,X)}while(!0);return vn=Ta=null,k.H=l,k.A=u,Oe=i,we!==null?0:(ze=null,je=0,Ks(),Ke)}function Cx(){for(;we!==null&&!ev();)cg(we)}function cg(e){var t=Dm(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?El(e):we=t}function ug(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Tm(i,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Tm(i,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:qc(t);default:Um(i,t),t=we=od(t,An),t=Dm(i,t,An)}e.memoizedProps=e.pendingProps,t===null?El(e):we=t}function Ti(e,t,i,l){vn=Ta=null,qc(t),pi=null,vr=0;var u=t.return;try{if(xx(e,u,t,i,je)){Ke=1,dl(e,qt(i,e.current)),we=null;return}}catch(d){if(u!==null)throw we=u,d;Ke=1,dl(e,qt(i,e.current)),we=null;return}t.flags&32768?(Te||l===1?e=!0:Si||(je&536870912)!==0?e=!1:(Fn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),fg(t,e)):El(t)}function El(e){var t=e;do{if((t.flags&32768)!==0){fg(t,Fn);return}e=t.return;var i=wx(t.alternate,t,An);if(i!==null){we=i;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ke===0&&(Ke=5)}function fg(e,t){do{var i=Sx(e.alternate,e);if(i!==null){i.flags&=32767,we=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=i}while(e!==null);Ke=6,we=null}function hg(e,t,i,l,u,d,v,w,C){e.cancelPendingCommit=null;do Tl();while(et!==0);if((Oe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=dc,uv(e,i,d,v,w,C),e===ze&&(we=ze=null,je=0),ji=t,na=e,Rn=i,_u=d,wu=u,tg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ux(Rs,function(){return yg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,u=Y.p,Y.p=2,v=Oe,Oe|=4;try{Nx(e,t,i)}finally{Oe=v,Y.p=u,k.T=l}}et=1,dg(),mg(),gg()}}function dg(){if(et===1){et=0;var e=na,t=ji,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var l=Y.p;Y.p=2;var u=Oe;Oe|=4;try{Im(t,e);var d=Lu,v=Fh(e.containerInfo),w=d.focusedElem,C=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Wh(w.ownerDocument.documentElement,w)){if(C!==null&&oc(w)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(X,w.value.length);else{var P=w.ownerDocument||document,H=P&&P.defaultView||window;if(H.getSelection){var G=H.getSelection(),se=w.textContent.length,he=Math.min(C.start,se),Ue=C.end===void 0?he:Math.min(C.end,se);!G.extend&&he>Ue&&(v=Ue,Ue=he,he=v);var z=Zh(w,he),M=Zh(w,Ue);if(z&&M&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var $=P.createRange();$.setStart(z.node,z.offset),G.removeAllRanges(),he>Ue?(G.addRange($),G.extend(M.node,M.offset)):($.setEnd(M.node,M.offset),G.addRange($))}}}}for(P=[],G=w;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<P.length;w++){var I=P[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Bl=!!zu,Lu=zu=null}finally{Oe=u,Y.p=l,k.T=i}}e.current=t,et=2}}function mg(){if(et===2){et=0;var e=na,t=ji,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var l=Y.p;Y.p=2;var u=Oe;Oe|=4;try{Gm(e,t.alternate,t)}finally{Oe=u,Y.p=l,k.T=i}}et=3}}function gg(){if(et===4||et===3){et=0,tv();var e=na,t=ji,i=Rn,l=tg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,ji=na=null,pg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ta=null),Vo(i),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(er,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=k.T,u=Y.p,Y.p=2,k.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{k.T=t,Y.p=u}}(Rn&3)!==0&&Tl(),ln(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Su?Ur++:(Ur=0,Su=e):Ur=0,zr(0)}}function pg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pr(t)))}function Tl(){return dg(),mg(),gg(),yg()}function yg(){if(et!==5)return!1;var e=na,t=_u;_u=0;var i=Vo(Rn),l=k.T,u=Y.p;try{Y.p=32>i?32:i,k.T=null,i=wu,wu=null;var d=na,v=Rn;if(et=0,ji=na=null,Rn=0,(Oe&6)!==0)throw Error(s(331));var w=Oe;if(Oe|=4,Wm(d.current),Qm(d,d.current,v,i),Oe=w,zr(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(er,d)}catch{}return!0}finally{Y.p=u,k.T=l,pg(e,t)}}function vg(e,t,i){t=qt(i,t),t=tu(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(nr(e,2),ln(e))}function ke(e,t,i){if(e.tag===3)vg(e,e,i);else for(;t!==null;){if(t.tag===3){vg(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ta===null||!ta.has(l))){e=qt(i,e),i=xm(2),l=Qn(t,i,2),l!==null&&(bm(i,l,t,e),nr(l,2),ln(l));break}}t=t.return}}function Eu(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Tx;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(i)||(vu=!0,u.add(i),e=kx.bind(null,e,t,i),t.then(e,e))}function kx(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(je&i)===i&&(Ke===4||Ke===3&&(je&62914560)===je&&300>Nt()-_l?(Oe&2)===0&&Ei(e,0):xu|=i,Ni===je&&(Ni=0)),ln(e)}function xg(e,t){t===0&&(t=dh()),e=Na(e,t),e!==null&&(nr(e,t),ln(e))}function Dx(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),xg(e,i)}function Mx(e,t){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),xg(e,i)}function Ux(e,t){return Bo(e,t)}var Al=null,Ai=null,Tu=!1,Rl=!1,Au=!1,ia=0;function ln(e){e!==Ai&&e.next===null&&(Ai===null?Al=Ai=e:Ai=Ai.next=e),Rl=!0,Tu||(Tu=!0,Lx())}function zr(e,t){if(!Au&&Rl){Au=!0;do for(var i=!1,l=Al;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Et(42|e)+1)-1,d&=u&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,Sg(l,d))}else d=je,d=Ds(l,l===ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||tr(l,d)||(i=!0,Sg(l,d));l=l.next}while(i);Au=!1}}function zx(){bg()}function bg(){Rl=Tu=!1;var e=0;ia!==0&&Ix()&&(e=ia);for(var t=Nt(),i=null,l=Al;l!==null;){var u=l.next,d=_g(l,t);d===0?(l.next=null,i===null?Al=u:i.next=u,u===null&&(Ai=i)):(i=l,(e!==0||(d&3)!==0)&&(Rl=!0)),l=u}et!==0&&et!==5||zr(e),ia!==0&&(ia=0)}function _g(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Et(d),w=1<<v,C=u[v];C===-1?((w&i)===0||(w&l)!==0)&&(u[v]=cv(w,t)):C<=t&&(e.expiredLanes|=w),d&=~w}if(t=ze,i=je,i=Ds(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&qo(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||tr(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&qo(l),Vo(i)){case 2:case 8:i=fh;break;case 32:i=Rs;break;case 268435456:i=hh;break;default:i=Rs}return l=wg.bind(null,e),i=Bo(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&qo(l),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Tl()&&e.callbackNode!==i)return null;var l=je;return l=Ds(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ag(e,l,t),_g(e,Nt()),e.callbackNode!=null&&e.callbackNode===i?wg.bind(null,e):null)}function Sg(e,t){if(Tl())return null;ag(e,t,!0)}function Lx(){Qx(function(){(Oe&6)!==0?Bo(uh,zx):bg()})}function Ru(){if(ia===0){var e=di;e===0&&(e=Os,Os<<=1,(Os&261888)===0&&(Os=256)),ia=e}return ia}function Ng(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ls(""+e)}function jg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function $x(e,t,i,l,u){if(t==="submit"&&i&&i.stateNode===u){var d=Ng((u[pt]||null).action),v=l.submitter;v&&(t=(t=v[pt]||null)?Ng(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var w=new Hs("action","action",null,l,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var C=v?jg(u,v):new FormData(u);Qc(i,{pending:!0,data:C,method:u.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=v?jg(u,v):new FormData(u),Qc(i,{pending:!0,data:C,method:u.method,action:d},d,C))},currentTarget:u}]})}}for(var Ou=0;Ou<hc.length;Ou++){var Cu=hc[Ou],Bx=Cu.toLowerCase(),qx=Cu[0].toUpperCase()+Cu.slice(1);Pt(Bx,"on"+qx)}Pt(nd,"onAnimationEnd"),Pt(ad,"onAnimationIteration"),Pt(id,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(nx,"onTransitionRun"),Pt(ax,"onTransitionStart"),Pt(ix,"onTransitionCancel"),Pt(rd,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lr));function Eg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],u=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var v=l.length-1;0<=v;v--){var w=l[v],C=w.instance,q=w.currentTarget;if(w=w.listener,C!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=q;try{d(u)}catch(X){Ys(X)}u.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(w=l[v],C=w.instance,q=w.currentTarget,w=w.listener,C!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=q;try{d(u)}catch(X){Ys(X)}u.currentTarget=null,d=C}}}}function Se(e,t){var i=t[Yo];i===void 0&&(i=t[Yo]=new Set);var l=e+"__bubble";i.has(l)||(Tg(t,e,2,!1),i.add(l))}function ku(e,t,i){var l=0;t&&(l|=4),Tg(i,e,l,t)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Ol]){e[Ol]=!0,bh.forEach(function(i){i!=="selectionchange"&&(Hx.has(i)||ku(i,!1,e),ku(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ol]||(t[Ol]=!0,ku("selectionchange",!1,t))}}function Tg(e,t,i,l){switch(n0(t)){case 2:var u=gb;break;case 8:u=pb;break;default:u=Pu}i=u.bind(null,t,i,e),u=void 0,!Fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Mu(e,t,i,l,u){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===u)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;w!==null;){if(v=Ja(w),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}w=w.parentNode}}l=l.return}kh(function(){var q=d,X=Zo(i),P=[];e:{var H=sd.get(e);if(H!==void 0){var G=Hs,se=e;switch(e){case"keypress":if(Bs(i)===0)break e;case"keydown":case"keyup":G=Mv;break;case"focusin":se="focus",G=ac;break;case"focusout":se="blur",G=ac;break;case"beforeblur":case"afterblur":G=ac;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Lv;break;case nd:case ad:case id:G=jv;break;case rd:G=Bv;break;case"scroll":case"scrollend":G=bv;break;case"wheel":G=Hv;break;case"copy":case"cut":case"paste":G=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Lh;break;case"toggle":case"beforetoggle":G=Vv}var he=(t&4)!==0,Ue=!he&&(e==="scroll"||e==="scrollend"),z=he?H!==null?H+"Capture":null:H;he=[];for(var M=q,$;M!==null;){var I=M;if($=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||$===null||z===null||(I=rr(M,z),I!=null&&he.push($r(M,I,$))),Ue)break;M=M.return}0<he.length&&(H=new G(H,se,null,i,X),P.push({event:H,listeners:he}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&i!==Jo&&(se=i.relatedTarget||i.fromElement)&&(Ja(se)||se[Qa]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(se=i.relatedTarget||i.toElement,G=q,se=se?Ja(se):null,se!==null&&(Ue=c(se),he=se.tag,se!==Ue||he!==5&&he!==27&&he!==6)&&(se=null)):(G=null,se=q),G!==se)){if(he=Uh,I="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(he=Lh,I="onPointerLeave",z="onPointerEnter",M="pointer"),Ue=G==null?H:ir(G),$=se==null?H:ir(se),H=new he(I,M+"leave",G,i,X),H.target=Ue,H.relatedTarget=$,I=null,Ja(X)===q&&(he=new he(z,M+"enter",se,i,X),he.target=$,he.relatedTarget=Ue,I=he),Ue=I,G&&se)t:{for(he=Gx,z=G,M=se,$=0,I=z;I;I=he(I))$++;I=0;for(var ue=M;ue;ue=he(ue))I++;for(;0<$-I;)z=he(z),$--;for(;0<I-$;)M=he(M),I--;for(;$--;){if(z===M||M!==null&&z===M.alternate){he=z;break t}z=he(z),M=he(M)}he=null}else he=null;G!==null&&Ag(P,H,G,he,!1),se!==null&&Ue!==null&&Ag(P,Ue,se,he,!0)}}e:{if(H=q?ir(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Ae=Kh;else if(Vh(H))if(Xh)Ae=Fv;else{Ae=Zv;var oe=Jv}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Qo(q.elementType)&&(Ae=Kh):Ae=Wv;if(Ae&&(Ae=Ae(e,q))){Yh(P,Ae,i,X);break e}oe&&oe(e,H,q),e==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Po(H,"number",H.value)}switch(oe=q?ir(q):window,e){case"focusin":(Vh(oe)||oe.contentEditable==="true")&&(ri=oe,cc=q,dr=null);break;case"focusout":dr=cc=ri=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,ed(P,i,X);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":ed(P,i,X)}var be;if(rc)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ii?Hh(e,i)&&(Ee="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ee="onCompositionStart");Ee&&($h&&i.locale!=="ko"&&(ii||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ii&&(be=Dh()):(Gn=X,ec="value"in Gn?Gn.value:Gn.textContent,ii=!0)),oe=Cl(q,Ee),0<oe.length&&(Ee=new zh(Ee,e,null,i,X),P.push({event:Ee,listeners:oe}),be?Ee.data=be:(be=Gh(i),be!==null&&(Ee.data=be)))),(be=Kv?Xv(e,i):Iv(e,i))&&(Ee=Cl(q,"onBeforeInput"),0<Ee.length&&(oe=new zh("onBeforeInput","beforeinput",null,i,X),P.push({event:oe,listeners:Ee}),oe.data=be)),$x(P,e,q,i,X)}Eg(P,t)})}function $r(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Cl(e,t){for(var i=t+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=rr(e,i),u!=null&&l.unshift($r(e,u,d)),u=rr(e,t),u!=null&&l.push($r(e,u,d))),e.tag===3)return l;e=e.return}return[]}function Gx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ag(e,t,i,l,u){for(var d=t._reactName,v=[];i!==null&&i!==l;){var w=i,C=w.alternate,q=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||q===null||(C=q,u?(q=rr(i,d),q!=null&&v.unshift($r(i,q,C))):u||(q=rr(i,d),q!=null&&v.push($r(i,q,C)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var Vx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(Vx,`
`).replace(Yx,"")}function Og(e,t){return t=Rg(t),Rg(e)===t}function Me(e,t,i,l,u,d){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ti(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ti(e,""+l);break;case"className":Us(e,"class",l);break;case"tabIndex":Us(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Us(e,i,l);break;case"style":Oh(e,l,d);break;case"data":if(t!=="object"){Us(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ls(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&Me(e,t,"name",u.name,u,null),Me(e,t,"formEncType",u.formEncType,u,null),Me(e,t,"formMethod",u.formMethod,u,null),Me(e,t,"formTarget",u.formTarget,u,null)):(Me(e,t,"encType",u.encType,u,null),Me(e,t,"method",u.method,u,null),Me(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ls(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=mn);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Ls(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ms(e,"popover",l);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ms(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=vv.get(i)||i,Ms(e,i,l))}}function Uu(e,t,i,l,u,d){switch(i){case"style":Oh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?ti(e,l):(typeof l=="number"||typeof l=="bigint")&&ti(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_h.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),d=e[pt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,u);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Ms(e,i,l)}}}function ot(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,u=!1,d;for(d in i)if(i.hasOwnProperty(d)){var v=i[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,d,v,i,null)}}u&&Me(e,t,"srcSet",i.srcSet,i,null),l&&Me(e,t,"src",i.src,i,null);return;case"input":Se("invalid",e);var w=d=v=u=null,C=null,q=null;for(l in i)if(i.hasOwnProperty(l)){var X=i[l];if(X!=null)switch(l){case"name":u=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,t));break;default:Me(e,t,l,X,i,null)}}Eh(e,d,w,C,q,v,u,!1);return;case"select":Se("invalid",e),l=v=d=null;for(u in i)if(i.hasOwnProperty(u)&&(w=i[u],w!=null))switch(u){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Me(e,t,u,w,i,null)}t=d,i=v,e.multiple=!!l,t!=null?ei(e,!!l,t,!1):i!=null&&ei(e,!!l,i,!0);return;case"textarea":Se("invalid",e),d=u=l=null;for(v in i)if(i.hasOwnProperty(v)&&(w=i[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":u=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Me(e,t,v,w,i,null)}Ah(e,l,u,d);return;case"option":for(C in i)i.hasOwnProperty(C)&&(l=i[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Me(e,t,C,l,i,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<Lr.length;l++)Se(Lr[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(l=i[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,q,l,i,null)}return;default:if(Qo(t)){for(X in i)i.hasOwnProperty(X)&&(l=i[X],l!==void 0&&Uu(e,t,X,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&Me(e,t,w,l,i,null))}function Kx(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,v=null,w=null,C=null,q=null,X=null;for(G in i){var P=i[G];if(i.hasOwnProperty(G)&&P!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=P;default:l.hasOwnProperty(G)||Me(e,t,G,null,l,P)}}for(var H in l){var G=l[H];if(P=i[H],l.hasOwnProperty(H)&&(G!=null||P!=null))switch(H){case"type":d=G;break;case"name":u=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:G!==P&&Me(e,t,H,G,l,P)}}Io(e,v,w,C,q,X,d,u);return;case"select":G=v=w=H=null;for(d in i)if(C=i[d],i.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Me(e,t,d,null,l,C)}for(u in l)if(d=l[u],C=i[u],l.hasOwnProperty(u)&&(d!=null||C!=null))switch(u){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==C&&Me(e,t,u,d,l,C)}t=w,i=v,l=G,H!=null?ei(e,!!i,H,!1):!!l!=!!i&&(t!=null?ei(e,!!i,t,!0):ei(e,!!i,i?[]:"",!1));return;case"textarea":G=H=null;for(w in i)if(u=i[w],i.hasOwnProperty(w)&&u!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Me(e,t,w,null,l,u)}for(v in l)if(u=l[v],d=i[v],l.hasOwnProperty(v)&&(u!=null||d!=null))switch(v){case"value":H=u;break;case"defaultValue":G=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==d&&Me(e,t,v,u,l,d)}Th(e,H,G);return;case"option":for(var se in i)H=i[se],i.hasOwnProperty(se)&&H!=null&&!l.hasOwnProperty(se)&&(se==="selected"?e.selected=!1:Me(e,t,se,null,l,H));for(C in l)H=l[C],G=i[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null)&&(C==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Me(e,t,C,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in i)H=i[he],i.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&Me(e,t,he,null,l,H);for(q in l)if(H=l[q],G=i[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:Me(e,t,q,H,l,G)}return;default:if(Qo(t)){for(var Ue in i)H=i[Ue],i.hasOwnProperty(Ue)&&H!==void 0&&!l.hasOwnProperty(Ue)&&Uu(e,t,Ue,void 0,l,H);for(X in l)H=l[X],G=i[X],!l.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||Uu(e,t,X,H,l,G);return}}for(var z in i)H=i[z],i.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Me(e,t,z,null,l,H);for(P in l)H=l[P],G=i[P],!l.hasOwnProperty(P)||H===G||H==null&&G==null||Me(e,t,P,H,l,G)}function Cg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var u=i[l],d=u.transferSize,v=u.initiatorType,w=u.duration;if(d&&w&&Cg(v)){for(v=0,w=u.responseEnd,l+=1;l<i.length;l++){var C=i[l],q=C.startTime;if(q>w)break;var X=C.transferSize,P=C.initiatorType;X&&Cg(P)&&(C=C.responseEnd,v+=X*(C<w?1:(w-q)/(C-q)))}if(--l,t+=8*(d+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zu=null,Lu=null;function kl(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bu=null;function Ix(){var e=window.event;return e&&e.type==="popstate"?e===Bu?!1:(Bu=e,!0):(Bu=null,!1)}var Mg=typeof setTimeout=="function"?setTimeout:void 0,Px=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch(Jx)}:Mg;function Jx(e){setTimeout(function(){throw e})}function ra(e){return e==="head"}function zg(e,t){var i=t,l=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(u),ki(t);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Br(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Br(i);for(var d=i.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[ar]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=v}}else i==="body"&&Br(e.ownerDocument.body);i=u}while(i);ki(t)}function Lg(e,t){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function qu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":qu(i),Ko(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Zx(e,t,i,l){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ar])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Wx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kt(e.nextSibling),e===null))return null;return e}function $g(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Hu(e){return e.data==="$?"||e.data==="$~"}function Gu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fx(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vu=null;function Bg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Kt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,i){switch(t=kl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Br(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ko(e)}var Xt=new Map,Gg=new Set;function Dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=Y.d;Y.d={f:eb,r:tb,D:nb,C:ab,L:ib,m:rb,X:lb,S:sb,M:ob};function eb(){var e=On.f(),t=Nl();return e||t}function tb(e){var t=Za(e);t!==null&&t.tag===5&&t.type==="form"?rm(t):On.r(e)}var Ri=typeof document>"u"?null:document;function Vg(e,t,i){var l=Ri;if(l&&typeof t=="string"&&t){var u=$t(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Gg.has(u)||(Gg.add(u),e={rel:e,crossOrigin:i,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),ot(t,"link",e),nt(t),l.head.appendChild(t)))}}function nb(e){On.D(e),Vg("dns-prefetch",e,null)}function ab(e,t){On.C(e,t),Vg("preconnect",e,t)}function ib(e,t,i){On.L(e,t,i);var l=Ri;if(l&&e&&t){var u='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+$t(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+$t(i.imageSizes)+'"]')):u+='[href="'+$t(e)+'"]';var d=u;switch(t){case"style":d=Oi(e);break;case"script":d=Ci(e)}Xt.has(d)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Xt.set(d,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(qr(d))||t==="script"&&l.querySelector(Hr(d))||(t=l.createElement("link"),ot(t,"link",e),nt(t),l.head.appendChild(t)))}}function rb(e,t){On.m(e,t);var i=Ri;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(e)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ci(e)}if(!Xt.has(d)&&(e=b({rel:"modulepreload",href:e},t),Xt.set(d,e),i.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Hr(d)))return}l=i.createElement("link"),ot(l,"link",e),nt(l),i.head.appendChild(l)}}}function sb(e,t,i){On.S(e,t,i);var l=Ri;if(l&&e){var u=Wa(l).hoistableStyles,d=Oi(e);t=t||"default";var v=u.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(qr(d)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Xt.get(d))&&Yu(e,i);var C=v=l.createElement("link");nt(C),ot(C,"link",e),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ml(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:w},u.set(d,v)}}}function lb(e,t){On.X(e,t);var i=Ri;if(i&&e){var l=Wa(i).hoistableScripts,u=Ci(e),d=l.get(u);d||(d=i.querySelector(Hr(u)),d||(e=b({src:e,async:!0},t),(t=Xt.get(u))&&Ku(e,t),d=i.createElement("script"),nt(d),ot(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function ob(e,t){On.M(e,t);var i=Ri;if(i&&e){var l=Wa(i).hoistableScripts,u=Ci(e),d=l.get(u);d||(d=i.querySelector(Hr(u)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Xt.get(u))&&Ku(e,t),d=i.createElement("script"),nt(d),ot(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function Yg(e,t,i,l){var u=(u=ge.current)?Dl(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Oi(i.href),i=Wa(u).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Oi(i.href);var d=Wa(u).hoistableStyles,v=d.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=u.querySelector(qr(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Xt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xt.set(e,i),d||cb(u,e,i,v.state))),t&&l===null)throw Error(s(528,""));return v}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ci(i),i=Wa(u).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Oi(e){return'href="'+$t(e)+'"'}function qr(e){return'link[rel="stylesheet"]['+e+"]"}function Kg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function cb(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ot(t,"link",i),nt(t),e.head.appendChild(t))}function Ci(e){return'[src="'+$t(e)+'"]'}function Hr(e){return"script[async]"+e}function Xg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+$t(i.href)+'"]');if(l)return t.instance=l,nt(l),l;var u=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),nt(l),ot(l,"style",u),Ml(l,i.precedence,e),t.instance=l;case"stylesheet":u=Oi(i.href);var d=e.querySelector(qr(u));if(d)return t.state.loading|=4,t.instance=d,nt(d),d;l=Kg(i),(u=Xt.get(u))&&Yu(l,u),d=(e.ownerDocument||e).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),ot(d,"link",l),t.state.loading|=4,Ml(d,i.precedence,e),t.instance=d;case"script":return d=Ci(i.src),(u=e.querySelector(Hr(d)))?(t.instance=u,nt(u),u):(l=i,(u=Xt.get(d))&&(l=b({},i),Ku(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),nt(u),ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ml(l,i.precedence,e));return t.instance}function Ml(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===t)d=w;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ul=null;function Ig(e,t,i){if(Ul===null){var l=new Map,u=Ul=new Map;u.set(i,l)}else u=Ul,l=u.get(i),l||(l=new Map,u.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var d=i[u];if(!(d[ar]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function Pg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function ub(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fb(e,t,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Oi(l.href),d=t.querySelector(qr(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,l=Kg(l),(u=Xt.get(u))&&Yu(l,u),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),ot(d,"link",l),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=zl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Xu=0;function hb(e,t){return e.stylesheets&&e.count===0&&$l(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&$l(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Xu===0&&(Xu=62500*Xx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$l(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Xu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$l(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function $l(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,t.forEach(db,e),Ll=null,zl.call(e))}function db(e,t){if(!(t.state.loading&4)){var i=Ll.get(e);if(i)var l=i.get(null);else{i=new Map,Ll.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var v=u[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}u=t.instance,v=u.getAttribute("data-precedence"),d=i.get(v)||l,d===l&&i.set(null,u),i.set(v,u),this.count++,l=zl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Gr={$$typeof:D,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function mb(e,t,i,l,u,d,v,w,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Jg(e,t,i,l,u,d,v,w,C,q,X,P){return e=new mb(e,t,i,v,C,q,X,P,w),t=1,d===!0&&(t|=24),d=At(3,null,null,t),e.current=d,d.stateNode=e,t=jc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:t},Rc(d),e}function Zg(e){return e?(e=oi,e):oi}function Wg(e,t,i,l,u,d){u=Zg(u),l.context===null?l.context=u:l.pendingContext=u,l=Pn(t),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Qn(e,l,t),i!==null&&(wt(i,e,t),br(i,e,t))}function Fg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Iu(e,t){Fg(e,t),(e=e.alternate)&&Fg(e,t)}function e0(e){if(e.tag===13||e.tag===31){var t=Na(e,67108864);t!==null&&wt(t,e,67108864),Iu(e,67108864)}}function t0(e){if(e.tag===13||e.tag===31){var t=Dt();t=Go(t);var i=Na(e,t);i!==null&&wt(i,e,t),Iu(e,t)}}var Bl=!0;function gb(e,t,i,l){var u=k.T;k.T=null;var d=Y.p;try{Y.p=2,Pu(e,t,i,l)}finally{Y.p=d,k.T=u}}function pb(e,t,i,l){var u=k.T;k.T=null;var d=Y.p;try{Y.p=8,Pu(e,t,i,l)}finally{Y.p=d,k.T=u}}function Pu(e,t,i,l){if(Bl){var u=Qu(l);if(u===null)Mu(e,t,l,ql,i),a0(e,l);else if(vb(u,e,t,i,l))l.stopPropagation();else if(a0(e,l),t&4&&-1<yb.indexOf(e)){for(;u!==null;){var d=Za(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xa(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var C=1<<31-Et(v);w.entanglements[1]|=C,v&=~C}ln(d),(Oe&6)===0&&(wl=Nt()+500,zr(0))}}break;case 31:case 13:w=Na(d,2),w!==null&&wt(w,d,2),Nl(),Iu(d,2)}if(d=Qu(l),d===null&&Mu(e,t,l,ql,i),d===u)break;u=d}u!==null&&l.stopPropagation()}else Mu(e,t,l,null,i)}}function Qu(e){return e=Zo(e),Ju(e)}var ql=null;function Ju(e){if(ql=null,e=Ja(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ql=e,null}function n0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nv()){case uh:return 2;case fh:return 8;case Rs:case av:return 32;case hh:return 268435456;default:return 32}default:return 32}}var Zu=!1,sa=null,la=null,oa=null,Vr=new Map,Yr=new Map,ca=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(t.pointerId)}}function Kr(e,t,i,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Za(t),t!==null&&e0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function vb(e,t,i,l,u){switch(t){case"focusin":return sa=Kr(sa,e,t,i,l,u),!0;case"dragenter":return la=Kr(la,e,t,i,l,u),!0;case"mouseover":return oa=Kr(oa,e,t,i,l,u),!0;case"pointerover":var d=u.pointerId;return Vr.set(d,Kr(Vr.get(d)||null,e,t,i,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Yr.set(d,Kr(Yr.get(d)||null,e,t,i,l,u)),!0}return!1}function i0(e){var t=Ja(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,vh(e.priority,function(){t0(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,vh(e.priority,function(){t0(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qu(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Jo=l,i.target.dispatchEvent(l),Jo=null}else return t=Za(i),t!==null&&e0(t),e.blockedOn=i,!1;t.shift()}return!0}function r0(e,t,i){Hl(e)&&i.delete(t)}function xb(){Zu=!1,sa!==null&&Hl(sa)&&(sa=null),la!==null&&Hl(la)&&(la=null),oa!==null&&Hl(oa)&&(oa=null),Vr.forEach(r0),Yr.forEach(r0)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xb)))}var Vl=null;function s0(e){Vl!==e&&(Vl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vl===e&&(Vl=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Ju(l||i)===null)continue;break}var d=Za(i);d!==null&&(e.splice(t,3),t-=3,Qc(d,{pending:!0,data:u,method:i.method,action:l},l,u))}}))}function ki(e){function t(C){return Gl(C,e)}sa!==null&&Gl(sa,e),la!==null&&Gl(la,e),oa!==null&&Gl(oa,e),Vr.forEach(t),Yr.forEach(t);for(var i=0;i<ca.length;i++){var l=ca[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ca.length&&(i=ca[0],i.blockedOn===null);)i0(i),i.blockedOn===null&&ca.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var u=i[l],d=i[l+1],v=u[pt]||null;if(typeof d=="function")v||s0(i);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(u=d,v=d[pt]||null)w=v.formAction;else if(Ju(u)!==null)continue}else w=v.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),s0(i)}}}function l0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Wu(e){this._internalRoot=e}Yl.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,l=Dt();Wg(i,l,e,t,null,null)},Yl.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wg(e.current,2,null,e,null,null),Nl(),t[Qa]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ca.length&&t!==0&&t<ca[i].priority;i++);ca.splice(i,0,e),i===0&&i0(e)}};var o0=n.version;if(o0!=="19.2.4")throw Error(s(527,o0,"19.2.4"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{er=Kl.inject(bb),jt=Kl}catch{}}return Ir.createRoot=function(e,t){if(!o(e))throw Error(s(299));var i=!1,l="",u=gm,d=pm,v=ym;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Jg(e,1,!1,null,null,i,l,null,u,d,v,l0),e[Qa]=t.current,Du(e),new Wu(t)},Ir.hydrateRoot=function(e,t,i){if(!o(e))throw Error(s(299));var l=!1,u="",d=gm,v=pm,w=ym,C=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),t=Jg(e,1,!0,t,i??null,l,u,C,d,v,w,l0),t.context=Zg(null),i=t.current,l=Dt(),l=Go(l),u=Pn(l),u.callback=null,Qn(i,u,l),i=l,t.current.lanes=i,nr(t,i),ln(t),e[Qa]=t.current,Du(e),new Yl(t)},Ir.version="19.2.4",Ir}var v0;function Ob(){if(v0)return tf.exports;v0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),tf.exports=Rb(),tf.exports}var Cb=Ob();var x0="popstate";function kb(a={}){function n(s,o){let{pathname:c,search:f,hash:m}=s.location;return _f("",{pathname:c,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:is(o)}return Mb(n,r,null,a)}function Ve(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function tn(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Db(){return Math.random().toString(36).substring(2,10)}function b0(a,n){return{usr:a.state,key:a.key,idx:n}}function _f(a,n,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?Ji(n):n,state:r,key:n&&n.key||s||Db()}}function is({pathname:a="/",search:n="",hash:r=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Ji(a){let n={};if(a){let r=a.indexOf("#");r>=0&&(n.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(n.search=a.substring(s),a=a.substring(0,s)),a&&(n.pathname=a)}return n}function Mb(a,n,r,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function b(){m="POP";let N=y(),E=N==null?null:N-g;g=N,p&&p({action:m,location:S.location,delta:E})}function _(N,E){m="PUSH";let T=_f(S.location,N,E);g=y()+1;let D=b0(T,g),R=S.createHref(T);try{f.pushState(D,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(R)}c&&p&&p({action:m,location:S.location,delta:1})}function x(N,E){m="REPLACE";let T=_f(S.location,N,E);g=y();let D=b0(T,g),R=S.createHref(T);f.replaceState(D,"",R),c&&p&&p({action:m,location:S.location,delta:0})}function j(N){return Ub(N)}let S={get action(){return m},get location(){return a(o,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(x0,b),p=N,()=>{o.removeEventListener(x0,b),p=null}},createHref(N){return n(o,N)},createURL:j,encodeLocation(N){let E=j(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:_,replace:x,go(N){return f.go(N)}};return S}function Ub(a,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:is(a);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function kp(a,n,r="/"){return zb(a,n,r,!1)}function zb(a,n,r,s){let o=typeof n=="string"?Ji(n):n,c=zn(o.pathname||"/",r);if(c==null)return null;let f=Dp(a);Lb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Pb(c);m=Xb(f[p],g,s)}return m}function Dp(a,n=[],r=[],s="",o=!1){let c=(f,m,p=o,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Ve(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Un([s,y.relativePath]),_=r.concat(y);f.children&&f.children.length>0&&(Ve(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Dp(f.children,n,_,b,p)),!(f.path==null&&!f.index)&&n.push({path:b,score:Yb(b,f.index),routesMeta:_})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of Mp(f.path))c(f,m,!0,p)}),n}function Mp(a){let n=a.split("/");if(n.length===0)return[];let[r,...s]=n,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Mp(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function Lb(a){a.sort((n,r)=>n.score!==r.score?r.score-n.score:Kb(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var $b=/^:[\w-]+$/,Bb=3,qb=2,Hb=1,Gb=10,Vb=-2,_0=a=>a==="*";function Yb(a,n){let r=a.split("/"),s=r.length;return r.some(_0)&&(s+=Vb),n&&(s+=qb),r.filter(o=>!_0(o)).reduce((o,c)=>o+($b.test(c)?Bb:c===""?Hb:Gb),s)}function Kb(a,n){return a.length===n.length&&a.slice(0,-1).every((s,o)=>s===n[o])?a[a.length-1]-n[n.length-1]:0}function Xb(a,n,r=!1){let{routesMeta:s}=a,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,y=c==="/"?n:n.slice(c.length)||"/",b=mo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),_=p.route;if(!b&&g&&r&&!s[s.length-1].route.index&&(b=mo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Un([c,b.pathname]),pathnameBase:Wb(Un([c,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(c=Un([c,b.pathnameBase]))}return f}function mo(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=Ib(a.path,a.caseSensitive,a.end),o=n.match(r);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:b},_)=>{if(y==="*"){let j=m[_]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const x=m[_];return b&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:a}}function Ib(a,n=!1,r=!0){tn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function Pb(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return tn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function zn(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Jb(a,n="/"){let{pathname:r,search:s="",hash:o=""}=typeof a=="string"?Ji(a):a,c;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?c=w0(r.substring(1),"/"):c=w0(r,n)):c=n,{pathname:c,search:Fb(s),hash:e_(o)}}function w0(a,n){let r=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function sf(a,n,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zb(a){return a.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Up(a){let n=Zb(a);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function zp(a,n,r,s=!1){let o;typeof a=="string"?o=Ji(a):(o={...a},Ve(!o.pathname||!o.pathname.includes("?"),sf("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),sf("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),sf("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=r;else{let b=n.length-1;if(!s&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}m=b>=0?n[b]:"/"}let p=Jb(o,m),g=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Un=a=>a.join("/").replace(/\/\/+/g,"/"),Wb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Fb=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,e_=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,t_=class{constructor(a,n,r,s=!1){this.status=a,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function n_(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function a_(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $p(a,n){let r=a;if(typeof r!="string"||!Qb.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,o=!1;if(Lp)try{let c=new URL(window.location.href),f=r.startsWith("//")?new URL(c.protocol+r):new URL(r),m=zn(f.pathname,n);f.origin===c.origin&&m!=null?r=m+f.search+f.hash:o=!0}catch{tn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bp=["POST","PUT","PATCH","DELETE"];new Set(Bp);var i_=["GET",...Bp];new Set(i_);var Zi=A.createContext(null);Zi.displayName="DataRouter";var No=A.createContext(null);No.displayName="DataRouterState";var r_=A.createContext(!1),qp=A.createContext({isTransitioning:!1});qp.displayName="ViewTransition";var s_=A.createContext(new Map);s_.displayName="Fetchers";var l_=A.createContext(null);l_.displayName="Await";var It=A.createContext(null);It.displayName="Navigation";var xs=A.createContext(null);xs.displayName="Location";var fn=A.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var Yf=A.createContext(null);Yf.displayName="RouteError";var Hp="REACT_ROUTER_ERROR",o_="REDIRECT",c_="ROUTE_ERROR_RESPONSE";function u_(a){if(a.startsWith(`${Hp}:${o_}:{`))try{let n=JSON.parse(a.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function f_(a){if(a.startsWith(`${Hp}:${c_}:{`))try{let n=JSON.parse(a.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new t_(n.status,n.statusText,n.data)}catch{}}function h_(a,{relative:n}={}){Ve(bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=A.useContext(It),{hash:o,pathname:c,search:f}=ws(a,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:Un([r,c])),s.createHref({pathname:m,search:f,hash:o})}function bs(){return A.useContext(xs)!=null}function $n(){return Ve(bs(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(xs).location}var Gp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vp(a){A.useContext(It).static||A.useLayoutEffect(a)}function _s(){let{isDataRoute:a}=A.useContext(fn);return a?j_():d_()}function d_(){Ve(bs(),"useNavigate() may be used only in the context of a <Router> component.");let a=A.useContext(Zi),{basename:n,navigator:r}=A.useContext(It),{matches:s}=A.useContext(fn),{pathname:o}=$n(),c=JSON.stringify(Up(s)),f=A.useRef(!1);return Vp(()=>{f.current=!0}),A.useCallback((p,g={})=>{if(tn(f.current,Gp),!f.current)return;if(typeof p=="number"){r.go(p);return}let y=zp(p,JSON.parse(c),o,g.relative==="path");a==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Un([n,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[n,r,c,o,a])}A.createContext(null);function jo(){let{matches:a}=A.useContext(fn),n=a[a.length-1];return n?n.params:{}}function ws(a,{relative:n}={}){let{matches:r}=A.useContext(fn),{pathname:s}=$n(),o=JSON.stringify(Up(r));return A.useMemo(()=>zp(a,JSON.parse(o),s,n==="path"),[a,o,s,n])}function m_(a,n){return Yp(a,n)}function Yp(a,n,r,s,o){Ve(bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=A.useContext(It),{matches:f}=A.useContext(fn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",b=m&&m.route;{let T=b&&b.path||"";Xp(g,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=$n(),x;if(n){let T=typeof n=="string"?Ji(n):n;Ve(y==="/"||T.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),x=T}else x=_;let j=x.pathname||"/",S=j;if(y!=="/"){let T=y.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let N=kp(a,{pathname:S});tn(b||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),tn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=x_(N&&N.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Un([y,c.encodeLocation?c.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Un([y,c.encodeLocation?c.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),f,r,s,o);return n&&E?A.createElement(xs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function g_(){let a=N_(),n=n_(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:c},"ErrorBoundary")," or"," ",A.createElement("code",{style:c},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},n),r?A.createElement("pre",{style:o},r):null,f)}var p_=A.createElement(g_,null),Kp=class extends A.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const r=f_(a.digest);r&&(a=r)}let n=a!==void 0?A.createElement(fn.Provider,{value:this.props.routeContext},A.createElement(Yf.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?A.createElement(y_,{error:a},n):n}};Kp.contextType=r_;var lf=new WeakMap;function y_({children:a,error:n}){let{basename:r}=A.useContext(It);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=u_(n.digest);if(s){let o=lf.get(n);if(o)throw o;let c=$p(s.location,r);if(Lp&&!lf.get(n))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw lf.set(n,f),f}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return a}function v_({routeContext:a,match:n,children:r}){let s=A.useContext(Zi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(fn.Provider,{value:a},r)}function x_(a,n=[],r=null,s=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let c=a,f=r?.errors;if(f!=null){let y=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Ve(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,p=-1;if(r)for(let y=0;y<c.length;y++){let b=c[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:_,errors:x}=r,j=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||j){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=r&&s?(y,b)=>{s(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:a_(r.matches),errorInfo:b})}:void 0;return c.reduceRight((y,b,_)=>{let x,j=!1,S=null,N=null;r&&(x=f&&b.route.id?f[b.route.id]:void 0,S=b.route.errorElement||p_,m&&(p<0&&_===0?(Xp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,N=null):p===_&&(j=!0,N=b.route.hydrateFallbackElement||null)));let E=n.concat(c.slice(0,_+1)),T=()=>{let D;return x?D=S:j?D=N:b.route.Component?D=A.createElement(b.route.Component,null):b.route.element?D=b.route.element:D=y,A.createElement(v_,{match:b,routeContext:{outlet:y,matches:E,isDataRoute:r!=null},children:D})};return r&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?A.createElement(Kp,{location:r.location,revalidation:r.revalidation,component:S,error:x,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:g}):T()},null)}function Kf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(a){let n=A.useContext(Zi);return Ve(n,Kf(a)),n}function __(a){let n=A.useContext(No);return Ve(n,Kf(a)),n}function w_(a){let n=A.useContext(fn);return Ve(n,Kf(a)),n}function Xf(a){let n=w_(a),r=n.matches[n.matches.length-1];return Ve(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function S_(){return Xf("useRouteId")}function N_(){let a=A.useContext(Yf),n=__("useRouteError"),r=Xf("useRouteError");return a!==void 0?a:n.errors?.[r]}function j_(){let{router:a}=b_("useNavigate"),n=Xf("useNavigate"),r=A.useRef(!1);return Vp(()=>{r.current=!0}),A.useCallback(async(o,c={})=>{tn(r.current,Gp),r.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...c}))},[a,n])}var S0={};function Xp(a,n,r){!n&&!S0[a]&&(S0[a]=!0,tn(!1,r))}A.memo(E_);function E_({routes:a,future:n,state:r,onError:s}){return Yp(a,void 0,r,s,n)}function ut(a){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T_({basename:a="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Ve(!bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=A.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof r=="string"&&(r=Ji(r));let{pathname:g="/",search:y="",hash:b="",state:_=null,key:x="default"}=r,j=A.useMemo(()=>{let S=zn(g,m);return S==null?null:{location:{pathname:S,search:y,hash:b,state:_,key:x},navigationType:s}},[m,g,y,b,_,x,s]);return tn(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:A.createElement(It.Provider,{value:p},A.createElement(xs.Provider,{children:n,value:j}))}function A_({children:a,location:n}){return m_(wf(a),n)}function wf(a,n=[]){let r=[];return A.Children.forEach(a,(s,o)=>{if(!A.isValidElement(s))return;let c=[...n,o];if(s.type===A.Fragment){r.push.apply(r,wf(s.props.children,c));return}Ve(s.type===ut,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wf(s.props.children,c)),r.push(f)}),r}var lo="get",oo="application/x-www-form-urlencoded";function Eo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function R_(a){return Eo(a)&&a.tagName.toLowerCase()==="button"}function O_(a){return Eo(a)&&a.tagName.toLowerCase()==="form"}function C_(a){return Eo(a)&&a.tagName.toLowerCase()==="input"}function k_(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function D_(a,n){return a.button===0&&(!n||n==="_self")&&!k_(a)}function Sf(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,r)=>{let s=a[r];return n.concat(Array.isArray(s)?s.map(o=>[r,o]):[[r,s]])},[]))}function M_(a,n){let r=Sf(a);return n&&n.forEach((s,o)=>{r.has(o)||n.getAll(o).forEach(c=>{r.append(o,c)})}),r}var Xl=null;function U_(){if(Xl===null)try{new FormData(document.createElement("form"),0),Xl=!1}catch{Xl=!0}return Xl}var z_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(a){return a!=null&&!z_.has(a)?(tn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oo}"`),null):a}function L_(a,n){let r,s,o,c,f;if(O_(a)){let m=a.getAttribute("action");s=m?zn(m,n):null,r=a.getAttribute("method")||lo,o=of(a.getAttribute("enctype"))||oo,c=new FormData(a)}else if(R_(a)||C_(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(s=p?zn(p,n):null,r=a.getAttribute("formmethod")||m.getAttribute("method")||lo,o=of(a.getAttribute("formenctype"))||of(m.getAttribute("enctype"))||oo,c=new FormData(m,a),!U_()){let{name:g,type:y,value:b}=a;if(y==="image"){let _=g?`${g}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else g&&c.append(g,b)}}else{if(Eo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=lo,s=null,o=oo,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function If(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function $_(a,n,r,s){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:n&&zn(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function B_(a,n){if(a.id in n)return n[a.id];try{let r=await import(a.module);return n[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q_(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function H_(a,n,r){let s=await Promise.all(a.map(async o=>{let c=n.routes[o.route.id];if(c){let f=await B_(c,r);return f.links?f.links():[]}return[]}));return K_(s.flat(1).filter(q_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N0(a,n,r,s,o,c){let f=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,m=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return c==="assets"?n.filter((p,g)=>f(p,g)||m(p,g)):c==="data"?n.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function G_(a,n,{includeHydrateFallback:r}={}){return V_(a.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function V_(a){return[...new Set(a)]}function Y_(a){let n={},r=Object.keys(a).sort();for(let s of r)n[s]=a[s];return n}function K_(a,n){let r=new Set;return new Set(n),a.reduce((s,o)=>{let c=JSON.stringify(Y_(o));return r.has(c)||(r.add(c),s.push({key:c,link:o})),s},[])}function Ip(){let a=A.useContext(Zi);return If(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function X_(){let a=A.useContext(No);return If(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Pf=A.createContext(void 0);Pf.displayName="FrameworkContext";function Pp(){let a=A.useContext(Pf);return If(a,"You must render this element inside a <HydratedRouter> element"),a}function I_(a,n){let r=A.useContext(Pf),[s,o]=A.useState(!1),[c,f]=A.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=n,_=A.useRef(null);A.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let S=E=>{E.forEach(T=>{f(T.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[a]),A.useEffect(()=>{if(s){let S=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(S)}}},[s]);let x=()=>{o(!0)},j=()=>{o(!1),f(!1)};return r?a!=="intent"?[c,_,{}]:[c,_,{onFocus:Pr(m,x),onBlur:Pr(p,j),onMouseEnter:Pr(g,x),onMouseLeave:Pr(y,j),onTouchStart:Pr(b,x)}]:[!1,_,{}]}function Pr(a,n){return r=>{a&&a(r),r.defaultPrevented||n(r)}}function P_({page:a,...n}){let{router:r}=Ip(),s=A.useMemo(()=>kp(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?A.createElement(J_,{page:a,matches:s,...n}):null}function Q_(a){let{manifest:n,routeModules:r}=Pp(),[s,o]=A.useState([]);return A.useEffect(()=>{let c=!1;return H_(a,n,r).then(f=>{c||o(f)}),()=>{c=!0}},[a,n,r]),s}function J_({page:a,matches:n,...r}){let s=$n(),{future:o,manifest:c,routeModules:f}=Pp(),{basename:m}=Ip(),{loaderData:p,matches:g}=X_(),y=A.useMemo(()=>N0(a,n,g,c,s,"data"),[a,n,g,c,s]),b=A.useMemo(()=>N0(a,n,g,c,s,"assets"),[a,n,g,c,s]),_=A.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let S=new Set,N=!1;if(n.forEach(T=>{let D=c.routes[T.route.id];!D||!D.hasLoader||(!y.some(R=>R.route.id===T.route.id)&&T.route.id in p&&f[T.route.id]?.shouldRevalidate||D.hasClientLoader?N=!0:S.add(T.route.id))}),S.size===0)return[];let E=$_(a,m,o.unstable_trailingSlashAwareDataRequests,"data");return N&&S.size>0&&E.searchParams.set("_routes",n.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,c,y,n,a,f]),x=A.useMemo(()=>G_(b,c),[b,c]),j=Q_(b);return A.createElement(A.Fragment,null,_.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),x.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),j.map(({key:S,link:N})=>A.createElement("link",{key:S,nonce:r.nonce,...N,crossOrigin:N.crossOrigin??r.crossOrigin})))}function Z_(...a){return n=>{a.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.13.0")}catch{}function F_({basename:a,children:n,unstable_useTransitions:r,window:s}){let o=A.useRef();o.current==null&&(o.current=kb({window:s,v5Compat:!0}));let c=o.current,[f,m]=A.useState({action:c.action,location:c.location}),p=A.useCallback(g=>{r===!1?m(g):A.startTransition(()=>m(g))},[r]);return A.useLayoutEffect(()=>c.listen(p),[c,p]),A.createElement(T_,{basename:a,children:n,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:r})}var Qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=A.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...x},j){let{basename:S,unstable_useTransitions:N}=A.useContext(It),E=typeof g=="string"&&Qp.test(g),T=$p(g,S);g=T.to;let D=h_(g,{relative:o}),[R,L,Z]=I_(s,x),J=aw(g,{replace:f,state:m,target:p,preventScrollReset:y,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:N});function ie(Q){n&&n(Q),Q.defaultPrevented||J(Q)}let K=A.createElement("a",{...x,...Z,href:T.absoluteURL||D,onClick:T.isExternal||c?n:ie,ref:Z_(j,L),target:p,"data-discover":!E&&r==="render"?"true":void 0});return R&&!E?A.createElement(A.Fragment,null,K,A.createElement(P_,{page:D})):K});ye.displayName="Link";var ew=A.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...g},y){let b=ws(f,{relative:g.relative}),_=$n(),x=A.useContext(No),{navigator:j,basename:S}=A.useContext(It),N=x!=null&&cw(b)&&m===!0,E=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,T=_.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(T=T.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&S&&(D=zn(D,S)||D);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=T===E||!o&&T.startsWith(E)&&T.charAt(R)==="/",Z=D!=null&&(D===E||!o&&D.startsWith(E)&&D.charAt(E.length)==="/"),J={isActive:L,isPending:Z,isTransitioning:N},ie=L?n:void 0,K;typeof s=="function"?K=s(J):K=[s,L?"active":null,Z?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Q=typeof c=="function"?c(J):c;return A.createElement(ye,{...g,"aria-current":ie,className:K,ref:y,style:Q,to:f,viewTransition:m},typeof p=="function"?p(J):p)});ew.displayName="NavLink";var tw=A.forwardRef(({discover:a="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:o,state:c,method:f=lo,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...x},j)=>{let{unstable_useTransitions:S}=A.useContext(It),N=lw(),E=ow(m,{relative:g}),T=f.toLowerCase()==="get"?"get":"post",D=typeof m=="string"&&Qp.test(m),R=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let Z=L.nativeEvent.submitter,J=Z?.getAttribute("formmethod")||f,ie=()=>N(Z||L.currentTarget,{fetcherKey:n,method:J,navigate:r,replace:o,state:c,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_});S&&r!==!1?A.startTransition(()=>ie()):ie()};return A.createElement("form",{ref:j,method:T,action:E,onSubmit:s?p:R,...x,"data-discover":!D&&a==="render"?"true":void 0})});tw.displayName="Form";function nw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jp(a){let n=A.useContext(Zi);return Ve(n,nw(a)),n}function aw(a,{target:n,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=_s(),y=$n(),b=ws(a,{relative:c});return A.useCallback(_=>{if(D_(_,n)){_.preventDefault();let x=r!==void 0?r:is(y)===is(b),j=()=>g(a,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m});p?A.startTransition(()=>j()):j()}},[y,g,b,r,s,n,a,o,c,f,m,p])}function iw(a){tn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=A.useRef(Sf(a)),r=A.useRef(!1),s=$n(),o=A.useMemo(()=>M_(s.search,r.current?null:n.current),[s.search]),c=_s(),f=A.useCallback((m,p)=>{const g=Sf(typeof m=="function"?m(new URLSearchParams(o)):m);r.current=!0,c("?"+g,p)},[c,o]);return[o,f]}var rw=0,sw=()=>`__${String(++rw)}__`;function lw(){let{router:a}=Jp("useSubmit"),{basename:n}=A.useContext(It),r=S_(),s=a.fetch,o=a.navigate;return A.useCallback(async(c,f={})=>{let{action:m,method:p,encType:g,formData:y,body:b}=L_(c,n);if(f.navigate===!1){let _=f.fetcherKey||sw();await s(_,r,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,n,r])}function ow(a,{relative:n}={}){let{basename:r}=A.useContext(It),s=A.useContext(fn);Ve(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...ws(a||".",{relative:n})},f=$n();if(a==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Un([r,c.pathname])),is(c)}function cw(a,{relative:n}={}){let r=A.useContext(qp);Ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jp("useViewTransitionState"),o=ws(a,{relative:n});if(!r.isTransitioning)return!1;let c=zn(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=zn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return mo(o.pathname,f)!=null||mo(o.pathname,c)!=null}function To(a,n){var r={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(r[s[o]]=a[s[o]]);return r}function uw(a,n,r,s){function o(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function m(y){try{g(s.next(y))}catch(b){f(b)}}function p(y){try{g(s.throw(y))}catch(b){f(b)}}function g(y){y.done?c(y.value):o(y.value).then(m,p)}g((s=s.apply(a,n||[])).next())})}const fw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class Qf extends Error{constructor(n,r="FunctionsError",s){super(n),this.name=r,this.context=s}}class hw extends Qf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class j0 extends Qf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class E0 extends Qf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Nf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Nf||(Nf={}));class dw{constructor(n,{headers:r={},customFetch:s,region:o=Nf.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=fw(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return uw(this,arguments,void 0,function*(r,s={}){var o;let c,f;try{const{headers:m,method:p,body:g,signal:y,timeout:b}=s;let _={},{region:x}=s;x||(x=this.region);const j=new URL(`${this.url}/${r}`);x&&x!=="any"&&(_["x-region"]=x,j.searchParams.set("forceFunctionRegion",x));let S;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(_["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(_["Content-Type"]="application/json",S=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?S=JSON.stringify(g):S=g;let N=y;b&&(f=new AbortController,c=setTimeout(()=>f.abort(),b),y?(N=f.signal,y.addEventListener("abort",()=>f.abort())):N=f.signal);const E=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:S,signal:N}).catch(L=>{throw new hw(L)}),T=E.headers.get("x-relay-error");if(T&&T==="true")throw new j0(E);if(!E.ok)throw new E0(E);let D=((o=E.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return D==="application/json"?R=yield E.json():D==="application/octet-stream"||D==="application/pdf"?R=yield E.blob():D==="text/event-stream"?R=E:D==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(m){return{data:null,error:m,response:m instanceof E0||m instanceof j0?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var mw=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},gw=class{constructor(a){var n,r,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(r=a.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(s=a.urlLengthLimit)!==null&&s!==void 0?s:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,m=null,p=null,g=c.status,y=c.statusText;if(c.ok){var b,_;if(r.method!=="HEAD"){var x;const E=await c.text();E===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const S=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),N=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");S&&N&&N.length>1&&(p=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var j;const S=await c.text();try{f=JSON.parse(S),Array.isArray(f)&&c.status===404&&(m=[],f=null,g=200,y="OK")}catch{c.status===404&&S===""?(g=204,y="No Content"):f={message:S}}if(f&&r.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&r.shouldThrowOnError)throw new mw(f)}return{error:f,data:m,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let m="",p="",g="";const y=c?.cause;if(y){var b,_,x,j;const E=(b=y?.message)!==null&&b!==void 0?b:"",T=(_=y?.code)!==null&&_!==void 0?_:"";m=`${(x=c?.name)!==null&&x!==void 0?x:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(j=y?.name)!==null&&j!==void 0?j:"Error"}: ${E}`,T&&(m+=` (${T})`),y?.stack&&(m+=`
${y.stack}`)}else{var S;m=(S=c?.stack)!==null&&S!==void 0?S:""}const N=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(g="",p="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",p="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(p+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:m,hint:p,code:g},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},pw=class extends gw{select(a){let n=!1;const r=(a??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(c,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:c="text"}={}){var f;const m=[a?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const T0=new RegExp("[,()]");var Hi=class extends pw{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&T0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${r})`),this}notIn(a,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&T0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${r})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(a,`${o}fts${c}.${n}`),this}match(a){return Object.entries(a).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(a,n,r){return this.url.searchParams.append(a,`not.${n}.${r}`),this}or(a,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,n,r){return this.url.searchParams.append(a,`${n}.${r}`),this}},yw=class{constructor(a,{headers:n={},schema:r,fetch:s,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=r,this.fetch=s,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:r=!1,count:s}=n??{},o=r?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),s&&p.append("Prefer",`count=${s}`),new Hi({method:o,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:r=!0}={}){var s;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);c.searchParams.set("columns",p.join(","))}}return new Hi({method:o,url:c,headers:f,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var c;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),s&&p.append("Prefer",`count=${s}`),o||p.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);m.searchParams.set("columns",y.join(","))}}return new Hi({method:f,url:m,headers:p,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var r;const s="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Hi({method:s,url:o,headers:c,schema:this.schema,body:a,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const r="DELETE",{url:s,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new Hi({method:r,url:s,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function rs(a){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rs(a)}function vw(a,n){if(rs(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(rs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function xw(a){var n=vw(a,"string");return rs(n)=="symbol"?n:n+""}function bw(a,n,r){return(n=xw(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function A0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,s)}return r}function Il(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?A0(Object(r),!0).forEach(function(s){bw(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):A0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var _w=class Zp{constructor(n,{headers:r={},schema:s,fetch:o,timeout:c,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(r),this.schemaName=s,this.urlLengthLimit=f;const m=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(p,g)=>{const y=new AbortController,b=setTimeout(()=>y.abort(),c),_=g?.signal;if(_){if(_.aborted)return clearTimeout(b),m(p,g);const x=()=>{clearTimeout(b),y.abort()};return _.addEventListener("abort",x,{once:!0}),m(p,Il(Il({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(b),_.removeEventListener("abort",x)})}return m(p,Il(Il({},g),{},{signal:y.signal})).finally(()=>clearTimeout(b))}:this.fetch=m}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yw(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new Zp(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,r={},{head:s=!1,get:o=!1,count:c}={}){var f;let m;const p=new URL(`${this.url}/rpc/${n}`);let g;const y=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(y)),b=s&&Object.values(r).some(y);b?(m="POST",g=r):s||o?(m=s?"HEAD":"GET",Object.entries(r).filter(([x,j])=>j!==void 0).map(([x,j])=>[x,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([x,j])=>{p.searchParams.append(x,j)})):(m="POST",g=r);const _=new Headers(this.headers);return b?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new Hi({method:m,url:p,headers:_,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class ww{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const o=s.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const s=this.getWebSocketConstructor();return new s(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Sw="2.95.3",Nw=`realtime-js/${Sw}`,jw="1.0.0",Wp="2.0.0",R0=Wp,jf=1e4,Ew=1e3,Tw=100;var fa;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(fa||(fa={}));var tt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(tt||(tt={}));var Ft;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Ft||(Ft={}));var Ef;(function(a){a.websocket="websocket"})(Ef||(Ef={}));var Ha;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ha||(Ha={}));class Aw{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,s;const o=(s=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var r,s;const o=(s=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,s){var o,c;const f=n.topic,m=(o=n.ref)!==null&&o!==void 0?o:"",p=(c=n.join_ref)!==null&&c!==void 0?c:"",g=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+g.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(x),S=0;j.setUint8(S++,this.KINDS.userBroadcastPush),j.setUint8(S++,p.length),j.setUint8(S++,m.length),j.setUint8(S++,f.length),j.setUint8(S++,g.length),j.setUint8(S++,b.length),j.setUint8(S++,r),Array.from(p,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(m,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(f,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(g,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(b,E=>j.setUint8(S++,E.charCodeAt(0)));var N=new Uint8Array(x.byteLength+s.byteLength);return N.set(new Uint8Array(x),0),N.set(new Uint8Array(s),x.byteLength),N.buffer}decode(n,r){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return r(s)}if(typeof n=="string"){const s=JSON.parse(n),[o,c,f,m,p]=s;return r({join_ref:o,ref:c,topic:f,event:m,payload:p})}return r({})}_binaryDecode(n){const r=new DataView(n),s=r.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,o)}_decodeUserBroadcast(n,r,s){const o=r.getUint8(1),c=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+4;const g=s.decode(n.slice(p,p+o));p=p+o;const y=s.decode(n.slice(p,p+c));p=p+c;const b=s.decode(n.slice(p,p+f));p=p+f;const _=n.slice(p,n.byteLength),x=m===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,j={type:this.BROADCAST_EVENT,event:y,payload:x};return f>0&&(j.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>r.includes(s)))}}let Fp=class{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Le;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Le||(Le={}));const O0=(a,n,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=Rw(f,a,n,o),c),{}):{}},Rw=(a,n,r,s)=>{const o=n.find(m=>m.name===a),c=o?.type,f=r[a];return c&&!s.includes(c)?ey(c,f):Tf(f)},ey=(a,n)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return Dw(n,r)}switch(a){case Le.bool:return Ow(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Cw(n);case Le.json:case Le.jsonb:return kw(n);case Le.timestamp:return Mw(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Tf(n);default:return Tf(n)}},Tf=a=>a,Ow=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Cw=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},kw=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},Dw=(a,n)=>{if(typeof a!="string")return a;const r=a.length-1,s=a[r];if(a[0]==="{"&&s==="}"){let c;const f=a.slice(1,r);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>ey(n,m))}return a},Mw=a=>typeof a=="string"?a.replace(" ","T"):a,ty=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class cf{constructor(n,r,s={},o=jf){this.channel=n,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var s;return this._hasReceived(n)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var C0;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(C0||(C0={}));class ns{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ns.syncState(this.state,o,c,f),this.pendingDiffs.forEach(p=>{this.state=ns.syncDiff(this.state,p,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ns.syncDiff(this.state,o,c,f),m())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,s,o){const c=this.cloneDeep(n),f=this.transformState(r),m={},p={};return this.map(c,(g,y)=>{f[g]||(p[g]=y)}),this.map(f,(g,y)=>{const b=c[g];if(b){const _=y.map(N=>N.presence_ref),x=b.map(N=>N.presence_ref),j=y.filter(N=>x.indexOf(N.presence_ref)<0),S=b.filter(N=>_.indexOf(N.presence_ref)<0);j.length>0&&(m[g]=j),S.length>0&&(p[g]=S)}else m[g]=y}),this.syncDiff(c,{joins:m,leaves:p},s,o)}static syncDiff(n,r,s,o){const{joins:c,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(m,p)=>{var g;const y=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(p),y.length>0){const b=n[m].map(x=>x.presence_ref),_=y.filter(x=>b.indexOf(x.presence_ref)<0);n[m].unshift(..._)}s(m,y,p)}),this.map(f,(m,p)=>{let g=n[m];if(!g)return;const y=p.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),n[m]=g,o(m,g,p),g.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(s=>r(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,s)=>{const o=n[s];return"metas"in o?r[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k0;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(k0||(k0={}));var as;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(as||(as={}));var kn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class Yi{constructor(n,r={config:{}},s){var o,c;if(this.topic=n,this.params=r,this.socket=s,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cf(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ns(this),this.broadcastEndpointURL=ty(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var s,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[as.PRESENCE]&&this.bindings[as.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>n?.(kn.CHANNEL_ERROR,x)),this._onClose(()=>n?.(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){n?.(kn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,N=(j=S?.length)!==null&&j!==void 0?j:0,E=[];for(let T=0;T<N;T++){const D=S[T],{filter:{event:R,schema:L,table:Z,filter:J}}=D,ie=x&&x[T];if(ie&&ie.event===R&&Yi.isFilterValueEqual(ie.schema,L)&&Yi.isFilterValueEqual(ie.table,Z)&&Yi.isFilterValueEqual(ie.filter,J))E.push(Object.assign(Object.assign({},D),{id:ie.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(kn.SUBSCRIBED);return}}).receive("error",x=>{this.state=tt.errored,n?.(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n?.(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,s){return this.state===tt.joined&&n===as.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,s)}async httpSend(n,r,s={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(n,r={}){var s,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,p;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new cf(this,Ft.leave,{},n),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,r,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),f}_push(n,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cf(this,n,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Tw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,s){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,s){var o,c;const f=n.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=Ft;if(s&&[m,p,g,y].indexOf(f)>=0&&s!==this._joinRef())return;let _=this._onMessage(f,r,s);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var j,S,N;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(S=x.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(x=>x.callback(_,s)):(c=this.bindings[f])===null||c===void 0||c.filter(x=>{var j,S,N,E,T,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const R=x.id,L=(j=x.filter)===null||j===void 0?void 0:j.event;return R&&((S=r.ids)===null||S===void 0?void 0:S.includes(R))&&(L==="*"||L?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const R=(T=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return R==="*"||R===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:S,table:N,commit_timestamp:E,type:T,errors:D}=j;_=Object.assign(Object.assign({},{schema:S,table:N,commit_timestamp:E,eventType:T,new:{},old:{},errors:D}),this._getPayloadRecords(j))}x.callback(_,s)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,s){const o=n.toLocaleLowerCase(),c={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,r){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Yi.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const s in n)if(n[s]!==r[s])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ft.close,{},n)}_onError(n){this._on(Ft.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=O0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=O0(n.columns,n.old_record)),r}}const uf=()=>{},Pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Uw=[1e3,2e3,5e3,1e4],zw=1e4,Lw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $w{constructor(n,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jf,this.transport=null,this.heartbeatIntervalMs=Pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uf,this.ref=0,this.reconnectTimer=null,this.vsn=R0,this.logger=uf,this.conn=null,this.sendBuffer=[],this.serializer=new Aw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Ef.websocket}`,this.httpEndpoint=ty(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ww.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return r==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,s){this.logger(n,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return Ha.Connecting;case fa.open:return Ha.Open;case fa.closing:return Ha.Closing;default:return Ha.Closed}}isConnected(){return this.connectionState()===Ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const s=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new Yi(`realtime:${n}`,r,this);return this.channels.push(c),c}}push(n){const{topic:r,event:s,payload:o,ref:c}=n,f=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${r} ${s} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Ew,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:c,ref:f}=r,m=f?`(${f})`:"",p=c.status||"";this.log("receive",`${p} ${s} ${o} ${m}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(o,c,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fa.open||this.conn.readyState===fa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ft.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const s=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${s}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const s=new Blob([Lw],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,s=!1;if(n)r=n,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:Nw};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,s,o,c,f,m,p,g,y,b,_,x;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:jf,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Pl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:uf,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:R0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(j=>Uw[j-1]||zw),this.vsn){case jw:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((j,S)=>S(JSON.stringify(j))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((j,S)=>S(JSON.parse(j)));break;case Wp:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(x=n?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ss=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Bw(a,n,r){const s=new URL(n,a);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&s.searchParams.set(o,c);return s.toString()}async function qw(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Hw(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:c,headers:f}){const m=Bw(a.baseUrl,s,o),p=await qw(a.auth),g=await n(m,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...p,...f},body:c?JSON.stringify(c):void 0}),y=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),_=b&&y?JSON.parse(y):y;if(!g.ok){const x=b?_:void 0,j=x?.error;throw new ss(j?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:j?.type,icebergCode:j?.code,details:x})}return{status:g.status,headers:g.headers,data:_}}}}function Ql(a){return a.join("")}var Gw=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:Ql(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const r={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ql(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ql(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ql(a.namespace)}`}),!0}catch(n){if(n instanceof ss&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(r){if(r instanceof ss&&r.status===409)return;throw r}}};function Di(a){return a.join("")}var Vw=class{constructor(a,n="",r){this.client=a,this.prefix=n,this.accessDelegation=r}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(a.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(a,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Di(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Di(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(r){if(r instanceof ss&&r.status===404)return!1;throw r}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(r){if(r instanceof ss&&r.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw r}}},Yw=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const r=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Hw({baseUrl:r,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new Gw(this.client,n),this.tableOps=new Vw(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Ao=class extends Error{constructor(a,n="storage",r,s){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Ro(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var Jl=class extends Ao{constructor(a,n,r,s="storage"){super(a,s,n,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ny=class extends Ao{constructor(a,n,r="storage"){super(a,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Kw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Xw=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Af=a=>{if(Array.isArray(a))return a.map(r=>Af(r));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Af(s)}),n},Iw=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function ls(a){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ls(a)}function Pw(a,n){if(ls(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(ls(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Qw(a){var n=Pw(a,"string");return ls(n)=="symbol"?n:n+""}function Jw(a,n,r){return(n=Qw(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function D0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,s)}return r}function me(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?D0(Object(r),!0).forEach(function(s){Jw(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):D0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}const M0=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},Zw=async(a,n,r,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!r?.noResolveJson){const o=a,c=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const m=f?.statusCode||f?.code||c+"";n(new Jl(M0(f),c,m,s))}).catch(()=>{if(s==="vectors"){const f=c+"";n(new Jl(o.statusText||`HTTP ${c} error`,c,f,s))}else{const f=c+"";n(new Jl(o.statusText||`HTTP ${c} error`,c,f,s))}});else{const f=c+"";n(new Jl(o.statusText||`HTTP ${c} error`,c,f,s))}}else n(new ny(M0(a),a,s))},Ww=(a,n,r,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!s?me(me({},o),r):(Xw(s)?(o.headers=me({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,n?.duplex&&(o.duplex=n.duplex),me(me({},o),r))};async function Qr(a,n,r,s,o,c,f){return new Promise((m,p)=>{a(r,Ww(n,s,o,c)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;if(f==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>Zw(g,p,s,f))})}function ay(a="storage"){return{get:async(n,r,s,o)=>Qr(n,"GET",r,s,o,void 0,a),post:async(n,r,s,o,c)=>Qr(n,"POST",r,o,c,s,a),put:async(n,r,s,o,c)=>Qr(n,"PUT",r,o,c,s,a),head:async(n,r,s,o)=>Qr(n,"HEAD",r,me(me({},s),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,r,s,o,c)=>Qr(n,"DELETE",r,o,c,s,a)}}const Fw=ay("storage"),{get:os,post:Wt,put:Rf,head:e1,remove:Jf}=Fw,Ut=ay("vectors");var Wi=class{constructor(a,n={},r,s="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Kw(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}},t1=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Ro(n))return{data:null,error:n};throw n}}};let iy;iy=Symbol.toStringTag;var n1=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[iy]="BlobDownloadBuilder",this.promise=null}asStream(){return new t1(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Ro(n))return{data:null,error:n};throw n}}};const a1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},U0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var i1=class extends Wi{constructor(a,n={},r,s){super(a,n,s,"storage"),this.bucketId=r}async uploadOrUpdate(a,n,r,s){var o=this;return o.handleOperation(async()=>{let c;const f=me(me({},U0),s);let m=me(me({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),p&&c.append("metadata",o.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),p&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(p))):(c=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(m=me(me({},m),s.headers));const g=o._removeEmptyFolders(n),y=o._getFinalPath(g),b=await(a=="PUT"?Rf:Wt)(o.fetch,`${o.url}/object/${y}`,c,me({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(a,n,r){return this.uploadOrUpdate("POST",a,n,r)}async uploadToSignedUrl(a,n,r,s){var o=this;const c=o._removeEmptyFolders(a),f=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),o.handleOperation(async()=>{let p;const g=me({upsert:U0.upsert},s),y=me(me({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:c,fullPath:(await Rf(o.fetch,m.toString(),p,{headers:y})).Key}})}async createSignedUploadUrl(a,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(a);const o=me({},r.headers);n?.upsert&&(o["x-upsert"]="true");const c=await Wt(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(r.url+c.url),m=f.searchParams.get("token");if(!m)throw new Ao("No token returned by API");return{signedUrl:f.toString(),path:a,token:m}})}async update(a,n,r){return this.uploadOrUpdate("PUT",a,n,r)}async move(a,n,r){var s=this;return s.handleOperation(async()=>await Wt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:s.headers}))}async copy(a,n,r){var s=this;return s.handleOperation(async()=>({path:(await Wt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(a,n,r){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(a),c=await Wt(s.fetch,`${s.url}/object/sign/${o}`,me({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${c.signedURL}${f}`)}})}async createSignedUrls(a,n,r){var s=this;return s.handleOperation(async()=>{const o=await Wt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:a},{headers:s.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(f=>me(me({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${c}`):null}))})}download(a,n,r){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"",f=this._getFinalPath(a),m=()=>os(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0},r);return new n1(m,this.shouldThrowOnError)}async info(a){var n=this;const r=n._getFinalPath(a);return n.handleOperation(async()=>Af(await os(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(a){var n=this;const r=n._getFinalPath(a);try{return await e1(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ro(s)&&s instanceof ny){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,n){const r=this._getFinalPath(a),s=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${m}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await Jf(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,r){var s=this;return s.handleOperation(async()=>{const o=me(me(me({},a1),n),{},{prefix:a||""});return await Wt(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},r)})}async listV2(a,n){var r=this;return r.handleOperation(async()=>{const s=me({},a);return await Wt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const r1="2.95.3",Ss={"X-Client-Info":`storage-js/${r1}`};var s1=class extends Wi{constructor(a,n={},r,s){const o=new URL(a);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),f=me(me({},Ss),n);super(c,f,r,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(a);return await os(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await os(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var r=this;return r.handleOperation(async()=>await Wt(r.fetch,`${r.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(a,n){var r=this;return r.handleOperation(async()=>await Rf(r.fetch,`${r.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await Wt(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Jf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},l1=class extends Wi{constructor(a,n={},r){const s=a.replace(/\/$/,""),o=me(me({},Ss),n);super(s,o,r,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Wt(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const s=r.toString(),o=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await os(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Jf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!Iw(a))throw new Ao("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Yw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(o,m),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}},o1=class extends Wi{constructor(a,n={},r){const s=a.replace(/\/$/,""),o=me(me({},Ss),{},{"Content-Type":"application/json"},n);super(s,o,r,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var r=this;return r.handleOperation(async()=>await Ut.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var r=this;return r.handleOperation(async()=>await Ut.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers})||{})}},c1=class extends Wi{constructor(a,n={},r){const s=a.replace(/\/$/,""),o=me(me({},Ss),{},{"Content-Type":"application/json"},n);super(s,o,r,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},u1=class extends Wi{constructor(a,n={},r){const s=a.replace(/\/$/,""),o=me(me({},Ss),{},{"Content-Type":"application/json"},n);super(s,o,r,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},f1=class extends u1{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new h1(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,r=this;return n().call(r,a)}async getBucket(a){var n=()=>super.getBucket,r=this;return n().call(r,a)}async listBuckets(a={}){var n=()=>super.listBuckets,r=this;return n().call(r,a)}async deleteBucket(a){var n=()=>super.deleteBucket,r=this;return n().call(r,a)}},h1=class extends o1{constructor(a,n,r,s){super(a,n,s),this.vectorBucketName=r}async createIndex(a){var n=()=>super.createIndex,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,a)}index(a){return new d1(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},d1=class extends c1{constructor(a,n,r,s,o){super(a,n,o),this.vectorBucketName=r,this.indexName=s}async putVectors(a){var n=()=>super.putVectors,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(a){var n=()=>super.getVectors,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,r=this;return n().call(r,me(me({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},m1=class extends s1{constructor(a,n={},r,s){super(a,n,r,s)}from(a){return new i1(this.url,this.headers,a,this.fetch)}get vectors(){return new f1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new l1(this.url+"/iceberg",this.headers,this.fetch)}};const ry="2.95.3",Gi=30*1e3,Of=3,ff=Of*Gi,g1="http://localhost:9999",p1="supabase.auth.token",y1={"X-Client-Info":`gotrue-js/${ry}`},Cf="X-Supabase-Api-Version",sy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x1=600*1e3;class cs extends Error{constructor(n,r,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ce(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class b1 extends cs{constructor(n,r,s){super(n,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function _1(a){return ce(a)&&a.name==="AuthApiError"}class Ga extends cs{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Bn extends cs{constructor(n,r,s,o){super(n,s,o),this.name=r,this.status=s}}class Mt extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hf(a){return ce(a)&&a.name==="AuthSessionMissingError"}class Mi extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zl extends Bn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Wl extends Bn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w1(a){return ce(a)&&a.name==="AuthImplicitGrantRedirectError"}class z0 extends Bn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S1 extends Bn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kf extends Bn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function df(a){return ce(a)&&a.name==="AuthRetryableFetchError"}class L0 extends Bn{constructor(n,r,s){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Df extends Bn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),N1=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<$0.length;n+=1)a[$0[n].charCodeAt(0)]=-2;for(let n=0;n<go.length;n+=1)a[go[n].charCodeAt(0)]=n;return a})();function B0(a,n,r){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;r(go[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;r(go[s]),n.queuedBits-=6}}function ly(a,n,r){const s=N1[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function q0(a){const n=[],r=f=>{n.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{T1(f,s,r)};for(let f=0;f<a.length;f+=1)ly(a.charCodeAt(f),o,c);return n.join("")}function j1(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function E1(a,n){for(let r=0;r<a.length;r+=1){let s=a.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(a.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}j1(s,n)}}function T1(a,n,r){if(n.utf8seq===0){if(a<=127){r(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Ki(a){const n=[],r={queue:0,queuedBits:0},s=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)ly(a.charCodeAt(o),r,s);return new Uint8Array(n)}function A1(a){const n=[];return E1(a,r=>n.push(r)),new Uint8Array(n)}function Va(a){const n=[],r={queue:0,queuedBits:0},s=o=>{n.push(o)};return a.forEach(o=>B0(o,r,s)),B0(null,r,s),n.join("")}function R1(a){return Math.round(Date.now()/1e3)+a}function O1(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",La={tested:!1,writable:!1},oy=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(La.tested)return La.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),La.tested=!0,La.writable=!0}catch{La.tested=!0,La.writable=!1}return La.writable};function C1(a){const n={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return r.searchParams.forEach((s,o)=>{n[o]=s}),n}const cy=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),k1=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Vi=async(a,n,r)=>{await a.setItem(n,JSON.stringify(r))},$a=async(a,n)=>{const r=await a.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ct=async(a,n)=>{await a.removeItem(n)};class Oo{constructor(){this.promise=new Oo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Oo.promiseConstructor=Promise;function Fl(a){const n=a.split(".");if(n.length!==3)throw new Df("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!v1.test(n[s]))throw new Df("JWT not in base64url format");return{header:JSON.parse(q0(n[0])),payload:JSON.parse(q0(n[1])),signature:Ki(n[2]),raw:{header:n[0],payload:n[1]}}}async function D1(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function M1(a,n){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await a(c);if(!n(c,null,f)){s(f);return}}catch(f){if(!n(c,f)){o(f);return}}})()})}function U1(a){return("0"+a.toString(16)).substr(-2)}function z1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(n),Array.from(n,U1).join("")}async function L1(a){const r=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function $1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await L1(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ui(a,n,r=!1){const s=z1();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Vi(a,`${n}-code-verifier`,o);const c=await $1(s);return[c,s===c?"plain":"s256"]}const B1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q1(a){const n=a.headers.get(Cf);if(!n||!n.match(B1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function H1(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function G1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const V1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zi(a){if(!V1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mf(){const a={};return new Proxy(a,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Y1(a,n){return new Proxy(a,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,s,o)}})}function H0(a){return JSON.parse(JSON.stringify(a))}const qa=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),K1=[502,503,504];async function G0(a){var n;if(!k1(a))throw new kf(qa(a),0);if(K1.includes(a.status))throw new kf(qa(a),a.status);let r;try{r=await a.json()}catch(c){throw new Ga(qa(c),c)}let s;const o=q1(a);if(o&&o.getTime()>=sy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new L0(qa(r),a.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new Mt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new L0(qa(r),a.status,r.weak_password.reasons);throw new b1(qa(r),a.status||500,s)}const X1=(a,n,r,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function de(a,n,r,s){var o;const c=Object.assign({},s?.headers);c[Cf]||(c[Cf]=sy["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await I1(a,n,r+m,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function I1(a,n,r,s,o,c){const f=X1(n,s,o,c);let m;try{m=await a(r,Object.assign({},f))}catch(p){throw console.error(p),new kf(qa(p),0)}if(m.ok||await G0(m),s?.noResolveJson)return m;try{return await m.json()}catch(p){await G0(p)}}function Zt(a){var n;let r=null;J1(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=R1(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:r,user:s},error:null}}function V0(a){const n=Zt(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function da(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function P1(a){return{data:a,error:null}}function Q1(a){const{action_link:n,email_otp:r,hashed_token:s,redirect_to:o,verification_type:c}=a,f=To(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:s,redirect_to:o,verification_type:c},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function Y0(a){return a}function J1(a){return a.access_token&&a.refresh_token&&a.expires_in}const gf=["global","local","others"];class Z1{constructor({url:n="",headers:r={},fetch:s}){this.url=n,this.headers=r,this.fetch=cy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=gf[0]){if(gf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gf.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:da})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:r}=n,s=To(n,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Q1,redirectTo:r?.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:da})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,s,o,c,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Y0});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);g[`${N}Page`]=S}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ce(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){zi(n);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:da})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){zi(n);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:da})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,r=!1){zi(n);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:da})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){zi(n.userId);try{const{data:r,error:s}=await de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(n){zi(n.userId),zi(n.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,s,o,c,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Y0});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);g[`${N}Page`]=S}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ce(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function K0(a={}){return{getItem:n=>a[n]||null,setItem:(n,r)=>{a[n]=r},removeItem:n=>{delete a[n]}}}const Li={debug:!!(globalThis&&oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class W1 extends uy{}async function F1(a,n,r){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),Li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await r()}finally{Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new W1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Li.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function e2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function t2(a){return parseInt(a,16)}function n2(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function a2(a){var n;const{chainId:r,domain:s,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:y,uri:b,version:_}=a;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const x=fy(a.address),j=y?`${y}://${s}`:s,S=a.statement?`${a.statement}
`:"",N=`${j} wants you to sign in with your Ethereum account:
${x}

${S}`;let E=`URI: ${b}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),m&&(E+=`
Not Before: ${m.toISOString()}`),p&&(E+=`
Request ID: ${p}`),g){let T=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);T+=`
- ${D}`}E+=T}return`${N}
${E}`}class Fe extends Error{constructor({message:n,code:r,cause:s,name:o}){var c;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=o??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class po extends Fe{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function i2({error:a,options:n}){var r,s,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Fe({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(hy(f)){if(c.rp.id!==f)return new Fe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function r2({error:a,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Fe({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(hy(s)){if(r.rpId!==s)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class s2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const l2=new s2;function o2(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:r,excludeCredentials:s}=a,o=To(a,["challenge","user","excludeCredentials"]),c=Ki(n).buffer,f=Object.assign(Object.assign({},r),{id:Ki(r.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:f});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const g=s[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ki(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function c2(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:r}=a,s=To(a,["challenge","allowCredentials"]),o=Ki(n).buffer,c=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];c.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Ki(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function u2(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a;return{id:a.id,rawId:a.id,response:{attestationObject:Va(new Uint8Array(a.response.attestationObject)),clientDataJSON:Va(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function f2(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a,s=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Va(new Uint8Array(o.authenticatorData)),clientDataJSON:Va(new Uint8Array(o.clientDataJSON)),signature:Va(new Uint8Array(o.signature)),userHandle:o.userHandle?Va(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function hy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function X0(){var a,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function h2(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new po("Browser returned unexpected credential type",n)}:{data:null,error:new po("Empty credential response",n)}}catch(n){return{data:null,error:i2({error:n,options:a})}}}async function d2(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new po("Browser returned unexpected credential type",n)}:{data:null,error:new po("Empty credential response",n)}}catch(n){return{data:null,error:r2({error:n,options:a})}}}const m2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},g2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yo(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of a)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))s[c]=f;else if(r(f))s[c]=f;else if(n(f)){const m=s[c];n(m)?s[c]=yo(m,f):s[c]=yo(f)}else s[c]=f}return s}function p2(a,n){return yo(m2,a,n||{})}function y2(a,n){return yo(g2,a,n||{})}class v2{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:s,signal:o},c){var f;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!m)return{data:null,error:p};const g=o??l2.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:y}=m.webauthn.credential_options.publicKey;if(!y.name){const b=s;if(b)y.name=`${y.id}:${b}`;else{const x=(await this.client.getUser()).data.user,j=((f=x?.user_metadata)===null||f===void 0?void 0:f.name)||x?.email||x?.id||"User";y.name=`${y.id}:${j}`}}y.displayName||(y.displayName=y.name)}switch(m.webauthn.type){case"create":{const y=p2(m.webauthn.credential_options.publicKey,c?.create),{data:b,error:_}=await h2({publicKey:y,signal:g});return b?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=y2(m.webauthn.credential_options.publicKey,c?.request),{data:b,error:_}=await d2(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(m){return ce(m)?{data:null,error:m}:{data:null,error:new Ga("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new cs("rpId is required for WebAuthn authentication")};try{if(!X0())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:c});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:s,credential_response:p.credential_response}})}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new Ga("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new cs("rpId is required for WebAuthn registration")};try{if(!X0())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:c});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new Ga("Unexpected error in register",f)}}}}e2();const x2={url:g1,storageKey:p1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function I0(a,n,r){return await r()}const $i={};class us{get jwks(){var n,r;return(r=(n=$i[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){$i[this.storageKey]=Object.assign(Object.assign({},$i[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=$i[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){$i[this.storageKey]=Object.assign(Object.assign({},$i[this.storageKey]),{cachedAt:n})}constructor(n){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},x2),n);if(this.storageKey=c.storageKey,this.instanceID=(r=us.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,us.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Z1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=cy(c.fetch),this.lock=c.lock||I0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&ft()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=F1:this.lock=I0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=K0(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ry}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},s="none";if(ft()&&(r=C1(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),ft()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),w1(c)){const p=(n=c.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?this._returnResult({error:r}):this._returnResult({error:new Ga("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,s,o;try{const c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Zt}),{data:f,error:m}=c;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var r,s,o;try{let c;if("email"in n){const{email:y,password:b,options:_}=n;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await Ui(this.storage,this.storageKey)),c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:j},xform:Zt})}else if("phone"in n){const{phone:y,password:b,options:_}=n;c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Zt})}else throw new Zl("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let r;if("email"in n){const{email:c,password:f,options:m}=n;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:V0})}else if("phone"in n){const{phone:c,password:f,options:m}=n;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:V0})}else throw new Zl("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const c=new Mi;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,s,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,s,o,c,f,m,p,g,y,b,_;let x,j;if("message"in n)x=n.message,j=n.signature;else{const{chain:S,wallet:N,statement:E,options:T}=n;let D;if(ft())if(typeof N=="object")D=N;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")D=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=N}const R=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href),L=await D.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=fy(L[0]);let J=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!J){const K=await D.request({method:"eth_chainId"});J=t2(K)}const ie={domain:R.host,address:Z,statement:E,uri:R.href,version:"1",chainId:J,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=T?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=T?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=a2(ie),j=await D.request({method:"personal_sign",params:[n2(x),Z]})}try{const{data:S,error:N}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:j},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Zt});if(N)throw N;if(!S||!S.session||!S.user){const E=new Mi;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if(ce(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(n){var r,s,o,c,f,m,p,g,y,b,_,x;let j,S;if("message"in n)j=n.message,S=n.signature;else{const{chain:N,wallet:E,statement:T,options:D}=n;let R;if(ft())if(typeof E=="object")R=E;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))R=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const L=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const Z=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),T?{statement:T}:null));let J;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")J=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)J=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)j=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),S=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${L.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(s=D?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=D?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((b=(y=D?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...D.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Z=await R.signMessage(new TextEncoder().encode(j),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=Z}}try{const{data:N,error:E}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Va(S)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zt});if(E)throw E;if(!N||!N.session||!N.user){const T=new Mi;return this._returnResult({data:{user:null,session:null},error:T})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:E})}catch(N){if(ce(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(n){const r=await $a(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new S1;const{data:c,error:f}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:Zt});if(await ct(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const m=new Mi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:r,provider:s,token:o,access_token:c,nonce:f}=n,m=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zt}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new Mi;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,s,o,c,f;try{if("email"in n){const{email:m,options:p}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ui(this.storage,this.storageKey));const{error:b}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:m,options:p}=n,{data:g,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new Zl("You must provide either an email or phone number.")}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var r,s;try{let o,c;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,c=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:m}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Zt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,s,o,c,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Ui(this.storage,this.storageKey));const g=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:P1});return!((c=g.data)===null||c===void 0)&&c.url&&ft()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)throw s;if(!r)throw new Mt;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:s,type:o,options:c}=n,{error:f}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:s,type:o,options:c}=n,{data:f,error:m}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Zl("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await $a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<ff:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const f=await $a(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=mf()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Y1(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:da}):await this._useSession(async r=>{var s,o,c;const{data:f,error:m}=r;if(m)throw m;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:da})})}catch(r){if(ce(r))return hf(r)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new Mt;const f=o.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await Ui(this.storage,this.storageKey));const{data:g,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:da});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Mt;const r=Date.now()/1e3;let s=r,o=!0,c=null;const{payload:f}=Fl(n.access_token);if(f.exp&&(s=f.exp,o=s<=r),o){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var s;if(!n){const{data:f,error:m}=r;if(m)throw m;n=(s=f.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new Mt;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ft())throw new Wl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Wl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new z0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new z0("No code detected.");const{data:T,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=n;if(!c||!m||!f||!g)throw new Wl("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let _=y+b;p&&(_=parseInt(p));const x=_-y;x*1e3<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const j=_-b;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,y);const{data:S,error:N}=await this._getUser(c);if(N)throw N;const E={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:_,refresh_token:f,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await $a(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:c}=r;if(c&&!hf(c))return this._returnResult({error:c});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(_1(m)&&(m.status===404||m.status===401||m.status===403)||hf(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=O1(),s={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async r=>{var s,o;try{const{data:{session:c},error:f}=r;if(f)throw f;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ui(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:s,error:o}=await this._useSession(async c=>{var f,m,p,g,y;const{data:b,error:_}=c;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return ft()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(ce(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:f,provider:m,token:p,access_token:g,nonce:y}=n,b=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt}),{data:_,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Mi}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var s,o;const{data:c,error:f}=r;if(f)throw f;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await M1(async o=>(o>0&&await D1(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Zt})),(o,c)=>{const f=200*Math.pow(2,o);return c&&df(c)&&Date.now()+f-s<Gi})}catch(s){if(this._debug(r,"error",s),ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",s),ft()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await $a(this.storage,this.storageKey);if(o&&this.userStorage){let f=await $a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Vi(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:mf()}else if(o&&!o.user&&!o.user){const f=await $a(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ct(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,o)):o.user=mf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ff;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${ff}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),df(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(o.access_token);!m&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var r,s;if(!n)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Oo;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Mt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),ce(c)){const f={data:null,error:c};return df(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,s=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:r});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(p){c.push(p)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=H0(o);await Vi(this.storage,this.storageKey,c)}else{const o=H0(r);await Vi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Gi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-n)/Gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Gi}ms, refresh threshold is ${Of} ticks`),o<=Of&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof uy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,f]=await Ui(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var s;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var s,o;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:g}=await de(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?u2(n.webauthn.credential_response):f2(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:o2(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:c2(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,s,o,c;if(n)try{const{payload:x}=Fl(n);let j=null;x.aal&&(j=x.aal);let S=j;const{data:{user:N},error:E}=await this.getUser(n);if(E)return this._returnResult({data:null,error:E});((s=(r=N?.factors)===null||r===void 0?void 0:r.filter(R=>R.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(S="aal2");const D=x.amr||[];return{data:{currentLevel:j,nextLevel:S,currentAuthenticationMethods:D},error:null}}catch(x){if(ce(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Fl(f.access_token);let g=null;p.aal&&(g=p.aal);let y=g;((c=(o=f.user.factors)===null||o===void 0?void 0:o.filter(x=>x.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const _=p.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const f=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ft()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,r){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const f=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ft()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let s=r.keys.find(m=>m.kid===n);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(m=>m.kid===n),s&&this.jwks_cached_at+x1>o)return s;const{data:c,error:f}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(m=>m.kid===n),!s)?null:s}async getClaims(n,r={}){try{let s=n;if(!s){const{data:x,error:j}=await this.getSession();if(j||!x.session)return this._returnResult({data:null,error:j});s=x.session.access_token}const{header:o,payload:c,signature:f,raw:{header:m,payload:p}}=Fl(s);r?.allowExpired||H1(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:c,header:o,signature:f},error:null}}const y=G1(o.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,f,A1(`${m}.${p}`)))throw new Df("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}}us.nextInstanceID={};const b2=us,_2="2.95.3";let Wr="";typeof Deno<"u"?Wr="deno":typeof document<"u"?Wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wr="react-native":Wr="node";const w2={"X-Client-Info":`supabase-js-${Wr}/${_2}`},S2={headers:w2},N2={schema:"public"},j2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},E2={};function fs(a){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fs(a)}function T2(a,n){if(fs(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(fs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function A2(a){var n=T2(a,"string");return fs(n)=="symbol"?n:n+""}function R2(a,n,r){return(n=A2(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function P0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,s)}return r}function Xe(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?P0(Object(r),!0).forEach(function(s){R2(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):P0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}const O2=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),C2=()=>Headers,k2=(a,n,r)=>{const s=O2(r),o=C2();return async(c,f)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:a;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),s(c,Xe(Xe({},f),{},{headers:g}))}};function D2(a){return a.endsWith("/")?a:a+"/"}function M2(a,n){var r,s;const{db:o,auth:c,realtime:f,global:m}=a,{db:p,auth:g,realtime:y,global:b}=n,_={db:Xe(Xe({},p),o),auth:Xe(Xe({},g),c),realtime:Xe(Xe({},y),f),storage:{},global:Xe(Xe(Xe({},b),m),{},{headers:Xe(Xe({},(r=b?.headers)!==null&&r!==void 0?r:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function U2(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D2(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var z2=class extends b2{constructor(a){super(a)}},L2=class{constructor(a,n,r){var s,o;this.supabaseUrl=a,this.supabaseKey=n;const c=U2(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:N2,realtime:E2,auth:Xe(Xe({},j2),{},{storageKey:f}),global:S2},p=M2(r??{},m);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=k2(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new _w(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new m1(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new dw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,r)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,r;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(n=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:c,flowType:f,lock:m,debug:p,throwOnError:g},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z2({url:this.authUrl.href,headers:Xe(Xe({},_),y),storageKey:c,autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:f,lock:m,debug:p,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new $w(this.realtimeUrl.href,Xe(Xe({},a),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $2=(a,n,r)=>new L2(a,n,r);function B2(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}B2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q2="https://hvbdpgkdcdskhpbdeeim.supabase.co",H2="sb_publishable_kB69BlNpkNhOllwGMOE6xg_i4l1VHMv",F=$2(q2,H2),ga={idea:"#5b9de4",proposal:"#3d7cc9",commitment:"#f4d9a0",pattern:"#7ccfb8",synthesis:"#a8d4f0",question:"#c4b5fd",reflection:"#fca5a5"},un={resource:"#4a8c6f",event:"#c4956a",agent:"#8bbfff"},Ns={resource:"Resource",event:"Event",agent:"Agent"},pa={human:"#c4956a","non-human":"#8bbfff"},Co={human:"Human","non-human":"Non-Human"},hs={seed:"Seed",discussed:"Discussed",proposed:"Proposed",committed:"Committed",active:"Active",completed:"Completed",archived:"Archived",superseded:"Superseded"};const dy=(...a)=>a.filter((n,r,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===r).join(" ").trim();const G2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const V2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,s)=>s?s.toUpperCase():r.toLowerCase());const Q0=a=>{const n=V2(a);return n.charAt(0).toUpperCase()+n.slice(1)};var Y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const K2=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const X2=A.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},p)=>A.createElement("svg",{ref:p,...Y2,width:n,height:n,stroke:a,strokeWidth:s?Number(r)*24/Number(n):r,className:dy("lucide",o),...!c&&!K2(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,y])=>A.createElement(g,y)),...Array.isArray(c)?c:[c]]));const Ne=(a,n)=>{const r=A.forwardRef(({className:s,...o},c)=>A.createElement(X2,{ref:c,iconNode:n,className:dy(`lucide-${G2(Q0(a))}`,`lucide-${a}`,s),...o}));return r.displayName=Q0(a),r};const I2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],my=Ne("activity",I2);const P2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Q2=Ne("book-open",P2);const J2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z2=Ne("calendar",J2);const W2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gy=Ne("check",W2);const F2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eS=Ne("chevron-down",F2);const tS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ya=Ne("chevron-right",tS);const nS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],J0=Ne("circle-alert",nS);const aS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iS=Ne("circle-check-big",aS);const rS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],py=Ne("clock",rS);const sS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lS=Ne("file-text",sS);const oS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],cS=Ne("flame",oS);const uS=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],fS=Ne("git-branch",uS);const hS=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],dS=Ne("git-commit-horizontal",hS);const mS=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Ya=Ne("handshake",mS);const gS=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],pS=Ne("inbox",gS);const yS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vS=Ne("info",yS);const xS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Z0=Ne("layers",xS);const bS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],yy=Ne("link-2",bS);const _S=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eo=Ne("loader-circle",_S);const wS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],SS=Ne("mail",wS);const NS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jS=Ne("menu",NS);const ES=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],W0=Ne("message-circle",ES);const TS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vy=Ne("message-square",TS);const AS=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],F0=Ne("network",AS);const RS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xy=Ne("pen-line",RS);const OS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CS=Ne("plus",OS);const kS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],DS=Ne("refresh-cw",kS);const MS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fr=Ne("search",MS);const US=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zS=Ne("send",US);const LS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$S=Ne("sparkles",LS);const BS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],qS=Ne("tag",BS);const HS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],GS=Ne("trending-up",HS);const VS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YS=Ne("triangle-alert",VS);const KS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ds=Ne("user",KS);const XS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zf=Ne("users",XS);const IS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PS=Ne("x",IS);const QS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],by=Ne("zap",QS),_y={id:"00000000-0000-0000-0000-000000000100",name:"ETHBoulder 2026",description:null,theme_primary:"#c3fd50",theme_bg:"#0f0f0f",theme_surface:"#1a1a1a",theme_border:"#262626",logo_text:"EthBoulder",logo_accent:".commons.id",tagline:"Knowledge Graph  Live",dimensions:[{key:"e",letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",tag:"hlamt:E"},{key:"H",letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",tag:"hlamt:H"},{key:"L",letter:"L/",name:"Language",desc:"How We Talk",color:"#c3fd50",tag:"hlamt:L"},{key:"A",letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",tag:"hlamt:A"},{key:"M",letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",tag:"hlamt:M"},{key:"T",letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",tag:"hlamt:T"}]};let Bi=null;async function JS(){if(Bi)return Bi;try{const{data:a}=await F.rpc("get_active_convergence");if(a&&a.length>0)return Bi=a[0],Bi}catch(a){console.error("Failed to load convergence config:",a)}return Bi=_y,Bi}function wy(){return _y}const Sy=A.createContext({convergence:wy(),loading:!0});function Ny(){return A.useContext(Sy)}function ZS({children:a}){const[n,r]=A.useState(wy()),[s,o]=A.useState(!0);return A.useEffect(()=>{async function c(){const f=await JS();r(f),o(!1)}c()},[]),h.jsx(Sy.Provider,{value:{convergence:n,loading:s},children:a})}const WS=["idea","proposal","commitment","pattern","synthesis","question","reflection"];function ep(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function FS(){const{convergence:a}=Ny(),n=a.dimensions,[r,s]=A.useState([]),[o,c]=A.useState(!0),[f,m]=A.useState(""),[p,g]=A.useState(""),[y,b]=A.useState(""),[_,x]=A.useState(""),[j,S]=A.useState("recent"),[N,E]=A.useState({}),[T,D]=A.useState(null),[R,L]=A.useState([]),[Z,J]=A.useState({});A.useEffect(()=>{re();const U=F.channel("explore-artifacts").on("postgres_changes",{event:"INSERT",schema:"public",table:"artifacts"},ae=>{s(O=>[ae.new,...O].slice(0,50)),ie()}).subscribe(),W=F.channel("explore-contributions").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},()=>{K()}).subscribe();return()=>{F.removeChannel(U),F.removeChannel(W)}},[]),A.useEffect(()=>{le()},[p,y,_,j]);async function ie(){const[{data:U},{count:W},{data:ae}]=await Promise.all([F.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%"),F.from("participants").select("*",{count:"exact",head:!0}),F.rpc("word_frequencies")]),O={};if(U)for(const V of U){const ee=V.artifact_tags;O[V.name]=ee?.[0]?.count??0}O["hlamt:H"]=W??0,ae&&(O["hlamt:L"]=ae.length),J(O)}async function K(){const{data:U}=await F.from("contribution_feed").select("*").limit(30);L(U||[])}async function Q(){const{data:U}=await F.from("coordination_interests").select("artifact_id"),W={};if(U)for(const ae of U)W[ae.artifact_id]=(W[ae.artifact_id]||0)+1;return E(W),W}async function re(){const[{data:U}]=await Promise.all([F.from("artifacts").select("*").order("created_at",{ascending:!1}).limit(50)]);s(U||[]),await Promise.all([K(),ie(),Q()]),c(!1)}async function le(){if(p){const{data:U}=await F.from("tags").select("id").eq("name",p).single();if(U){const{data:W}=await F.from("artifact_tags").select("artifact_id").eq("tag_id",U.id);if(W&&W.length>0){const ae=W.map(ee=>ee.artifact_id);let O=F.from("artifacts").select("*").in("id",ae).order("created_at",{ascending:!1}).limit(50);y&&(O=O.eq("type",y)),_&&(O=O.eq("state",_));const{data:V}=await O;s(V||[])}else s([])}else s([])}else{let U=F.from("artifacts").select("*").order("created_at",{ascending:!1}).limit(50);y&&(U=U.eq("type",y)),_&&(U=U.eq("state",_));const{data:W}=await U;s(W||[])}D(null)}async function _e(){if(!f.trim()){D(null);return}const{data:U}=await F.rpc("search_artifacts",{p_query:f});D(U||[])}const[B,te]=A.useState(!1),k=j==="coordination"?[...r].sort((U,W)=>(N[W.id]||0)-(N[U.id]||0)):r,Y=T??k;return o?h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Explore"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph and live activity, side by side."})]}),h.jsxs("div",{className:"mb-6 bg-[#1a1a1a] border border-[#262626] rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>te(!B),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-[#262626] transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vS,{className:"w-5 h-5 text-[#c3fd50]"}),h.jsx("span",{className:"text-sm font-medium text-white",children:"How it works"})]}),h.jsx(eS,{className:`w-5 h-5 text-gray-400 transition-transform ${B?"rotate-180":""}`})]}),B&&h.jsxs("div",{className:"px-4 pb-4 text-sm space-y-3 border-t border-[#262626] pt-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:h.jsx(xy,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-medium mb-1",children:"Contribute observations"}),h.jsx("div",{className:"text-gray-400",children:"Share what you noticed at ETHBoulder  session notes, ideas, commitments, questions. Write naturally."})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:h.jsx($S,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-medium mb-1",children:"AI extracts knowledge"}),h.jsx("div",{className:"text-gray-400",children:"Each contribution is analyzed, broken into artifacts (resources, events, agents), and tagged by dimension."})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:h.jsx(fS,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-medium mb-1",children:"The graph grows"}),h.jsx("div",{className:"text-gray-400",children:"Artifacts connect to each other. Patterns emerge. The collective knowledge becomes navigable by dimension, type, and relationship."})]})]}),h.jsx("div",{className:"pt-2 border-t border-[#262626]",children:h.jsx(ye,{to:"/contribute",className:"text-[#c3fd50] hover:text-white text-sm font-medium",children:"Try it yourself "})})]})]}),h.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Graph Dimensions"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-2 mb-6",children:n.map(U=>{const W=Z[U.tag]??0;return h.jsxs(ye,{to:`/d/${U.key}`,className:"block rounded-lg border border-[#262626] bg-[#1a1a1a] p-3 sm:p-4 hover:border-[#c3fd50] transition-colors text-center group",children:[h.jsx("div",{className:"text-xs font-medium mb-1 truncate",style:{color:U.color},children:U.name}),h.jsxs("div",{className:"flex items-baseline justify-center gap-1 sm:gap-1.5",children:[h.jsx("span",{className:"font-mono text-xl sm:text-2xl font-bold",style:{color:U.color},children:U.letter}),h.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:W})]}),h.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors block truncate",children:U.desc})]},U.key)})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Graph Index"}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex gap-2 mb-3",children:[h.jsx("input",{value:f,onChange:U=>m(U.target.value),onKeyDown:U=>U.key==="Enter"&&_e(),placeholder:"Search the graph...",className:"flex-1 bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] text-sm"}),h.jsx("button",{onClick:_e,className:"bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm whitespace-nowrap",children:"Search"})]}),h.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[h.jsxs("select",{value:p,onChange:U=>g(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"",children:"All dimensions"}),n.map(U=>h.jsxs("option",{value:U.tag,children:[U.letter," ",U.name]},U.key))]}),h.jsxs("select",{value:y,onChange:U=>b(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"",children:"All types"}),WS.map(U=>h.jsx("option",{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))]}),h.jsxs("select",{value:_,onChange:U=>x(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"",children:"All states"}),Object.entries(hs).map(([U,W])=>h.jsx("option",{value:U,children:W},U))]}),h.jsxs("select",{value:j,onChange:U=>S(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"recent",children:"Sort: Recent"}),h.jsx("option",{value:"coordination",children:"Sort: Coordination"})]}),(p||y||_||T)&&h.jsx("button",{onClick:()=>{g(""),b(""),x(""),m(""),D(null),S("recent")},className:"text-xs text-gray-400 hover:text-white flex-shrink-0",children:"Clear"})]})]}),Y.length===0?h.jsx("div",{className:"text-center py-16",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6",children:h.jsx(pS,{className:"w-10 h-10 text-gray-600"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:T?"No matching artifacts":"The knowledge graph is empty"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:T?"Try a different search term or clear your filters.":"Be the first to contribute. Share an observation, idea, or commitment from ETHBoulder and watch it become part of the living archive."}),h.jsx(ye,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] font-medium px-6 py-3 rounded-lg hover:bg-[#d4fe80] transition-colors",children:"Contribute to the Commons"})]})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Y.map(U=>h.jsxs(ye,{to:`/artifact/${U.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:ga[U.type]}}),h.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:U.type}),U.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[U.rea_role],borderColor:un[U.rea_role]+"40"},children:Ns[U.rea_role]}),U.agent_type&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:pa[U.agent_type],borderColor:pa[U.agent_type]+"40"},children:Co[U.agent_type]}),h.jsx("span",{className:"ml-auto text-xs text-gray-500",children:hs[U.state]})]}),h.jsx("h3",{className:"font-semibold text-white group-hover:text-[#c3fd50] transition-colors mb-1 text-sm",children:U.title}),U.summary&&h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:U.summary}),h.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-600",children:[h.jsx("span",{children:ep(U.created_at)}),(N[U.id]||0)>0&&h.jsxs("span",{className:"flex items-center gap-1 text-[#c3fd50]",children:[h.jsx(Ya,{className:"w-3 h-3"}),N[U.id]]})]})]},U.id))})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Live Activity"}),R.length===0?h.jsx("div",{className:"text-gray-500 text-center py-8 text-sm",children:"No contributions yet"}):h.jsx("div",{className:"space-y-1.5",children:R.map(U=>h.jsxs(ye,{to:`/contribution/${U.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${U.status==="complete"?"bg-[#c3fd50]":U.status==="processing"?"bg-blue-400 animate-pulse":U.status==="error"?"bg-red-400":"bg-yellow-400"}`}),U.participant_name&&U.participant_id&&h.jsx(ye,{to:`/p/${U.participant_id}`,className:"text-xs font-medium text-gray-300 truncate hover:text-[#c3fd50] transition-colors",onClick:W=>W.stopPropagation(),children:U.participant_name}),U.participant_name&&!U.participant_id&&h.jsx("span",{className:"text-xs font-medium text-gray-300 truncate",children:U.participant_name}),h.jsx("span",{className:"text-xs text-gray-600 ml-auto flex-shrink-0",children:ep(U.created_at)})]}),h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2 mb-1.5",children:U.preview}),U.status==="complete"&&U.edge_count>0&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(dS,{className:"w-3 h-3 text-[#c3fd50]"}),h.jsx("span",{className:"text-xs font-mono text-[#c3fd50]",children:U.edge_count}),h.jsx("span",{className:"text-xs text-gray-600",children:U.edge_count===1?"edge":"edges"}),h.jsxs("span",{className:"text-xs text-gray-700 ml-1",children:["(",U.artifact_count,"a ",U.relationship_count,"r ",U.commitment_count,"c)"]})]}),U.status==="processing"&&h.jsx("span",{className:"text-xs text-blue-400",children:"Extracting..."}),U.status==="error"&&h.jsx("span",{className:"text-xs text-red-400",children:"Extraction failed"})]},U.id))})]})]})]})}function eN({artifactId:a,participantId:n,compact:r=!1}){const[s,o]=A.useState(!1),[c,f]=A.useState(0),[m,p]=A.useState(!1);A.useEffect(()=>{async function y(){const{count:b}=await F.from("coordination_interests").select("*",{count:"exact",head:!0}).eq("artifact_id",a);if(f(b||0),n){const{data:_}=await F.from("coordination_interests").select("id").eq("artifact_id",a).eq("participant_id",n).maybeSingle();o(!!_)}}y()},[a,n]);async function g(){if(!(!n||m)){p(!0);try{s?(await F.from("coordination_interests").delete().eq("artifact_id",a).eq("participant_id",n),o(!1),f(y=>Math.max(0,y-1))):(await F.from("coordination_interests").insert({artifact_id:a,participant_id:n}),o(!0),f(y=>y+1))}catch(y){console.error("Coordinate toggle error:",y)}p(!1)}}return r?h.jsxs("button",{onClick:y=>{y.preventDefault(),y.stopPropagation(),g()},disabled:!n||m,className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full transition-colors ${s?"bg-[#c3fd50]/20 text-[#c3fd50] border border-[#c3fd50]/30":"bg-[#262626] text-gray-400 hover:text-[#c3fd50] hover:bg-[#c3fd50]/10"} ${n?"":"opacity-50 cursor-not-allowed"}`,title:n?s?"Remove coordination interest":"I want to coordinate on this":"Sign in to coordinate",children:[h.jsx(Ya,{className:"w-3 h-3"}),c>0&&h.jsx("span",{children:c})]}):h.jsxs("button",{onClick:g,disabled:!n||m,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm ${s?"bg-[#c3fd50]/20 text-[#c3fd50] border border-[#c3fd50]/30":"bg-[#262626] text-gray-300 hover:text-[#c3fd50] hover:bg-[#c3fd50]/10"} ${n?"":"opacity-50 cursor-not-allowed"}`,children:[h.jsx(Ya,{className:"w-4 h-4"}),h.jsx("span",{children:s?"Coordinating":"Coordinate"}),c>0&&h.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-[#262626] text-xs",children:c})]})}const tN={"hlamt:e":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:E":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:H":{letter:"H/",name:"Human",color:"#c4956a"},"hlamt:L":{letter:"L/",name:"Language",color:"#c3fd50"},"hlamt:A":{letter:"A/",name:"Artifacts",color:"#8bbfff"},"hlamt:M":{letter:"M/",name:"Methodology",color:"#7ccfb8"},"hlamt:T":{letter:"T/",name:"Training",color:"#e8927c"}};function tp(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function nN(){const{id:a}=jo(),[n,r]=A.useState(null),[s,o]=A.useState([]),[c,f]=A.useState([]),[m,p]=A.useState([]),[g,y]=A.useState([]),[b,_]=A.useState(null),[x,j]=A.useState(null),[S,N]=A.useState(!0),[E,T]=A.useState(null);A.useEffect(()=>{a&&(D(),F.auth.getUser().then(async({data:{user:R}})=>{if(R){const{data:L}=await F.from("participants").select("id").eq("auth_user_id",R.id).maybeSingle();L&&T(L.id)}}))},[a]);async function D(){N(!0);const{data:R}=await F.from("artifacts").select("*").eq("id",a).single();if(!R){N(!1);return}r(R);const{data:L}=await F.from("artifact_tags").select("tags(name)").eq("artifact_id",a),Z=(L||[]).map(le=>le.tags?.name).filter(Boolean);if(f(Z.filter(le=>le.startsWith("hlamt:"))),o(Z.filter(le=>!le.startsWith("hlamt:"))),R.steward_id){const{data:le}=await F.from("participants").select("id, name").eq("id",R.steward_id).single();le&&_(le)}const[{data:J},{data:ie}]=await Promise.all([F.from("artifact_relationships").select("*, to_artifact_id").eq("from_artifact_id",a),F.from("artifact_relationships").select("*, from_artifact_id").eq("to_artifact_id",a)]),K=[...(J||[]).map(le=>({...le,direction:"to",related_id:le.to_artifact_id})),...(ie||[]).map(le=>({...le,direction:"from",related_id:le.from_artifact_id}))];if(p(K),K.length>0){const le=K.map(B=>B.related_id),{data:_e}=await F.from("artifacts").select("*").in("id",le);y(_e||[])}const{data:Q}=await F.from("contributions").select("id, content, created_at, extraction").eq("status","complete").order("created_at",{ascending:!1}).limit(20),re=Q?.find(le=>le.extraction?.artifacts?le.extraction.artifacts.some(_e=>_e.title===R.title):!1);re&&j(re),N(!1)}return S?h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):n?h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-4",children:[h.jsx(ye,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Graph Index"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-white truncate max-w-[200px]",children:n.title})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[h.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ga[n.type]}}),h.jsx("span",{className:"text-xs uppercase tracking-wider",style:{color:ga[n.type]},children:n.type}),n.rea_role&&h.jsx("span",{className:"text-xs px-2 py-0.5 rounded border font-medium",style:{color:un[n.rea_role],borderColor:un[n.rea_role]+"40"},children:Ns[n.rea_role]}),n.agent_type&&h.jsx("span",{className:"text-xs px-2 py-0.5 rounded border font-medium",style:{color:pa[n.agent_type],borderColor:pa[n.agent_type]+"40"},children:Co[n.agent_type]}),h.jsx("span",{className:"text-xs text-gray-500",children:hs[n.state]}),n.created_by_agent&&h.jsx("span",{className:"text-xs bg-[#262626] text-gray-400 px-2 py-0.5 rounded",children:"AI-extracted"}),h.jsx("span",{className:"ml-auto text-xs text-gray-600",children:tp(n.created_at)})]}),h.jsx("h1",{className:"text-2xl font-bold mb-3 leading-tight",children:n.title}),n.summary&&h.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:n.summary}),h.jsx("div",{className:"mb-4",children:h.jsx(eN,{artifactId:n.id,participantId:E})}),n.body&&h.jsx("div",{className:"text-sm text-gray-400 mb-4 whitespace-pre-wrap leading-relaxed border-t border-[#262626] pt-4",children:n.body}),c.length>0&&h.jsxs("div",{className:"mb-4 pb-4 border-b border-[#262626]",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Dimensions"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(R=>{const L=tN[R];return L?h.jsxs("span",{className:"px-2 py-1 rounded text-xs border",style:{color:L.color,borderColor:L.color+"40"},children:[h.jsx("span",{className:"font-mono font-semibold",children:L.letter})," ",L.name]},R):null})})]}),s.length>0&&h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(R=>h.jsx("span",{className:"bg-[#262626] text-gray-300 text-xs px-2 py-1 rounded",children:R},R))})]}),h.jsxs("div",{className:"text-xs text-gray-600 pt-4 border-t border-[#262626] space-y-1",children:[b&&h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Steward:"})," ",h.jsx(ye,{to:`/p/${b.id}`,className:"text-gray-400 hover:text-[#c3fd50] transition-colors",children:b.name})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"ID:"})," ",h.jsx("span",{className:"font-mono",children:n.id.slice(0,13)})]})]})]}),x&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(vy,{className:"w-4 h-4"}),"Source Contribution"]}),h.jsx(ye,{to:"/me",className:"block text-sm text-gray-400 hover:text-white line-clamp-3 mb-2",children:x.content}),h.jsx("div",{className:"text-xs text-gray-600",children:tp(x.created_at)})]}),m.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(yy,{className:"w-4 h-4"}),"Related Artifacts"]}),h.jsx("div",{className:"space-y-2",children:m.map(R=>{const L=g.find(Z=>Z.id===R.related_id);return L?h.jsxs(ye,{to:`/artifact/${L.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ga[L.type]}}),h.jsx("span",{className:"text-xs uppercase text-gray-500",children:L.type}),h.jsxs("span",{className:"text-xs text-gray-600",children:[" ",R.type.replace(/_/g," ")]})]}),h.jsx("div",{className:"text-sm text-white group-hover:text-[#c3fd50] transition-colors font-medium",children:L.title}),L.summary&&h.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:L.summary})]},R.id):null})})]})]}):h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Artifact not found"})}function np(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function aN(){const[a,n]=A.useState(null),[r,s]=A.useState(null),[o,c]=A.useState([]),[f,m]=A.useState([]),[p,g]=A.useState([]);A.useEffect(()=>{F.auth.getSession().then(({data:j})=>{if(n(j.session),!j.session){y(null);return}b(j.session.user.id)});const x=F.channel("my-contributions").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},()=>{y(r)}).subscribe();return()=>{F.removeChannel(x)}},[]),A.useEffect(()=>{r!==null&&y(r)},[r]);async function y(x){let j=F.from("contributions").select("*").order("created_at",{ascending:!1}).limit(20);x&&(j=j.eq("participant_id",x));const{data:S}=await j;g(S||[])}async function b(x){const{data:j}=await F.from("participants").select("id").eq("auth_user_id",x).single();if(!j)return;s(j.id);const[{data:S},{data:N}]=await Promise.all([F.from("artifacts").select("*").or(`created_by.eq.${j.id},steward_id.eq.${j.id}`).order("created_at",{ascending:!1}).limit(20),F.from("commitments").select("*").eq("participant_id",j.id).order("created_at",{ascending:!1})]);c(S||[]),m(N||[])}const _={pending:"bg-yellow-900/50 text-yellow-300",processing:"bg-blue-900/50 text-blue-300",complete:"bg-green-900/50 text-green-300",error:"bg-red-900/50 text-red-300"};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"My Thread"}),h.jsxs(ye,{to:"/contribute",className:"bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] px-4 py-2 rounded-lg text-sm transition-colors inline-flex items-center gap-1.5",children:[h.jsx(CS,{className:"w-4 h-4"})," Contribute"]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-300",children:"Contributions"}),r&&h.jsx("span",{className:"text-xs text-gray-500",children:"Showing your contributions only"}),!a&&h.jsxs("span",{className:"text-xs text-gray-500",children:["Showing all contributions  ",h.jsx(ye,{to:"/auth",className:"text-[#c3fd50] hover:text-white",children:"Sign in"})]})]}),p.length===0?h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 text-center",children:[h.jsx("p",{className:"text-gray-400",children:"No contributions yet."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Share something on the Contribute page and watch it appear here."})]}):h.jsx("div",{className:"space-y-2",children:p.map(x=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${_[x.status]||"bg-gray-800 text-gray-400"}`,children:x.status}),h.jsx("span",{className:"text-xs text-gray-500",children:np(x.created_at)})]}),h.jsx("p",{className:"text-sm text-gray-300 line-clamp-3",children:x.content}),x.processed_at&&h.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Processed ",np(x.processed_at)]})]},x.id))})]}),o.length>0&&h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-300",children:"My Artifacts"}),h.jsx("div",{className:"space-y-2",children:o.map(x=>h.jsxs(ye,{to:`/artifact/${x.id}`,className:"flex items-center gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[h.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ga[x.type]}}),h.jsx("span",{className:"flex-1 font-medium",children:x.title}),h.jsx("span",{className:"text-xs text-gray-500",children:hs[x.state]})]},x.id))})]}),f.length>0&&h.jsxs("section",{children:[h.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-300",children:"My Commitments"}),h.jsx("div",{className:"space-y-2",children:f.map(x=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-[#f4d9a0]",children:x.description}),h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="fulfilled"?"bg-green-900 text-green-300":x.status==="in_progress"?"bg-blue-900 text-blue-300":x.status==="broken"?"bg-red-900 text-red-300":"bg-gray-800 text-gray-400"}`,children:x.status})]}),x.due_date&&h.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Due: ",x.due_date]})]},x.id))})]})]})}const iN={e:{label:"Ecology",desc:"Environmental context, place, watershed, seasonal patterns"},H:{label:"Human",desc:"People, capabilities, relationships, lived experience"},L:{label:"Language",desc:"Shared vocabulary, frameworks, definitions"},A:{label:"Artifacts",desc:"Tools, documents, code, physical objects, infrastructure"},M:{label:"Methodology",desc:"Processes, workflows, practices, coordination patterns"},T:{label:"Training",desc:"Learning, skill development, transformation, practice"}},rN="00000000-0000-0000-0000-000000000100";function sN(){const a=_s(),[n,r]=A.useState(""),[s,o]=A.useState("idle"),[c,f]=A.useState(""),[m,p]=A.useState(null),[g,y]=A.useState(0),[b,_]=A.useState([]);A.useEffect(()=>{if(!m)return;const j=F.channel(`contribution-${m}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"contributions",filter:`id=eq.${m}`},async S=>{const N=S.new.status;if(N==="processing")o("extracting");else if(N==="complete"){const E=S.new.extraction;if(E?.artifacts){y(E.artifacts.length);const T=E.artifacts.map(R=>R.title),{data:D}=await F.from("artifacts").select("id, title, type").in("title",T).order("created_at",{ascending:!1}).limit(10);_(D||[])}o("done")}else N==="error"&&(f("Extraction failed. Please try again."),o("error"))}).subscribe();return()=>{F.removeChannel(j)}},[m]);async function x(j){if(j.preventDefault(),!!n.trim()){o("submitting"),f("");try{const{data:{user:S}}=await F.auth.getUser();let N=null;if(S){const{data:D,error:R}=await F.from("participants").select("id").eq("auth_user_id",S.id).maybeSingle();if(R)throw R;if(D)N=D.id;else{const{data:L,error:Z}=await F.from("participants").insert({auth_user_id:S.id,name:S.email?.split("@")[0]||"Anonymous",email:S.email}).select("id").single();if(Z)throw Z;N=L.id}}const{data:E,error:T}=await F.from("contributions").insert({content:n,convergence_id:rN,participant_id:N,status:"pending"}).select("id").single();if(T)throw T;p(E.id),o("extracting")}catch(S){f(S?.message||"Something went wrong. Please try again."),o("error")}}}return s==="extracting"?h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6 animate-pulse",children:h.jsx(by,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("h2",{className:"text-xl font-bold mb-3",children:"Extracting knowledge..."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"AI is analyzing your contribution, identifying artifacts, tagging by dimension, and linking to the knowledge graph."}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"300ms"}})]})]})}):s==="done"?h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:h.jsx(gy,{className:"w-8 h-8 text-[#0f0f0f]",strokeWidth:3})}),h.jsxs("h2",{className:"text-xl font-bold mb-3",children:["Done! ",g," ",g===1?"artifact":"artifacts"," created"]}),h.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Your contribution has been processed and added to the knowledge graph."}),b.length>0&&h.jsxs("div",{className:"mb-8 max-w-md mx-auto",children:[h.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Extracted artifacts:"}),h.jsx("div",{className:"space-y-2",children:b.map(j=>h.jsx(ye,{to:`/artifact/${j.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors text-left",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:j.type}),h.jsx("span",{className:"text-sm text-gray-300",children:j.title})]})},j.id))})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsx("button",{onClick:()=>{o("idle"),r(""),p(null),_([]),y(0)},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Contribute more"}),h.jsx("button",{onClick:()=>a("/"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Explore"})]})]})}):h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Contribute"}),h.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Share what you observed, learned, built, or committed to. Write naturally  AI will figure out the rest."}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("textarea",{value:n,onChange:j=>r(j.target.value),placeholder:"What's on your mind? Session notes, an idea, a commitment, a reflection  just write. The AI will identify what kind of contribution this is, extract the key concepts, classify by e/H-LAM/T dimension, and connect it to the knowledge graph.",rows:12,required:!0,className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] resize-y leading-relaxed text-base"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2 mt-2",children:[h.jsx("span",{className:"text-xs text-gray-600",children:"AI classifies contribution type, extracts artifacts, and records relationships automatically."}),h.jsxs("span",{className:"text-xs text-gray-500",children:[n.length," chars"]})]})]}),c&&h.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:c}),h.jsx("button",{type:"submit",disabled:s==="submitting"||!n.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:s==="submitting"?"Saving...":"Submit to the Commons"})]}),h.jsxs("details",{className:"mt-8",children:[h.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-300 transition-colors",children:"What is e/H-LAM/T?"}),h.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(iN).map(([j,{label:S,desc:N}])=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[h.jsxs("div",{className:"text-xs font-mono text-[#c3fd50] mb-1",children:[j,"/"]}),h.jsx("div",{className:"text-sm font-medium text-gray-300 mb-1",children:S}),h.jsx("div",{className:"text-xs text-gray-500 leading-relaxed",children:N})]},j))})]})]})}const lN=[{letter:"e/",color:"#4a8c6f",text:"Ground ideas in place and ecology"},{letter:"H/",color:"#c4956a",text:"Connect with people who share your questions"},{letter:"A/",color:"#8bbfff",text:"Build artifacts that outlast the event"}];function oN(){const[a,n]=A.useState(""),[r,s]=A.useState(!1),[o,c]=A.useState(!1),[f,m]=A.useState(""),p=_s();async function g(y){y.preventDefault(),s(!0),m("");const{error:b}=await F.auth.signInWithOtp({email:a,options:{emailRedirectTo:"https://commons.id/app/"}});s(!1),b?m(b.message):c(!0)}return o?h.jsxs("div",{className:"max-w-lg mx-auto text-center py-16",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:h.jsx(SS,{className:"w-10 h-10 text-[#0f0f0f]"})}),h.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Check your inbox"}),h.jsxs("p",{className:"text-gray-400 mb-2",children:["We sent a magic link to ",h.jsx("span",{className:"text-white font-medium",children:a})]}),h.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Click the link in the email to sign in. It expires in 1 hour."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsx("button",{onClick:()=>{c(!1),n("")},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Try a different email"}),h.jsx("button",{onClick:()=>p("/"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Explore while you wait"})]})]}):h.jsxs("div",{className:"max-w-lg mx-auto py-8 sm:py-16",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsxs("h1",{className:"text-3xl font-bold mb-3",children:["Join the ",h.jsx("span",{className:"text-[#c3fd50]",children:"Commons"})]}),h.jsx("p",{className:"text-gray-400 max-w-sm mx-auto leading-relaxed",children:"A living archive of what emerges when people converge. Your observations become part of the knowledge graph."})]}),h.jsx("div",{className:"mb-10 space-y-3",children:lN.map(y=>h.jsxs("div",{className:"flex items-start gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[h.jsx("span",{className:"font-mono text-lg font-bold flex-shrink-0 mt-0.5",style:{color:y.color},children:y.letter}),h.jsx("span",{className:"text-sm text-gray-300",children:y.text})]},y.letter))}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Sign in with email"}),h.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"No password needed. We'll send you a magic link."}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsx("div",{children:h.jsx("input",{type:"email",value:a,onChange:y=>n(y.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full bg-[#0f0f0f] border border-[#333333] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#c3fd50] transition-colors"})}),f&&h.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:f}),h.jsx("button",{type:"submit",disabled:r||!a.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] font-medium hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:r?"Sending magic link...":"Continue with magic link"})]})]}),h.jsxs("div",{className:"text-center mt-8",children:[h.jsxs("p",{className:"text-sm text-gray-600",children:["Don't want to sign in?"," ",h.jsx(ye,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore as a guest"})]}),h.jsx("p",{className:"text-xs text-gray-700 mt-3",children:"ETHBoulder 2026  commons.id"})]})]})}const cN=[{key:"e",letter:"e/",name:"Ecology",tagName:"hlamt:E",description:"Where We Are  place, environment, context",color:"#4a8c6f"},{key:"H",letter:"H/",name:"Human",tagName:"hlamt:H",description:"Who's Here  people, participants, relationships",color:"#c4956a"},{key:"L",letter:"L/",name:"Language",tagName:"hlamt:L",description:"How We Talk  vocabulary, tags, shared concepts",color:"#c3fd50"},{key:"A",letter:"A/",name:"Artifacts",tagName:"hlamt:A",description:"What We're Building  tools, documents, infrastructure",color:"#8bbfff"},{key:"M",letter:"M/",name:"Methodology",tagName:"hlamt:M",description:"How We Work  processes, governance, coordination",color:"#7ccfb8"},{key:"T",letter:"T/",name:"Training",tagName:"hlamt:T",description:"What We're Learning  skills, transformation, practice",color:"#e8927c"}];function uN(){const[a,n]=A.useState({});return A.useEffect(()=>{async function r(){const{data:s}=await F.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%");if(s){const o={};for(const c of s){const f=c.artifact_tags;o[c.name]=f?.[0]?.count??0}n(o)}}r()},[]),h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"e/H-LAM/T"}),h.jsx("p",{className:"text-gray-400",children:"Six dimensions of the knowledge graph. Each is a lens into the commons."})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:cN.map(r=>h.jsxs(ye,{to:`/d/${r.key}`,className:"block rounded-xl border border-[#262626] bg-[#1a1a1a] p-5 hover:bg-[#1a1a1a] transition-colors group",children:[h.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[h.jsx("span",{className:"font-mono text-2xl font-bold",style:{color:r.color},children:r.letter}),h.jsx("span",{className:"text-lg font-semibold text-white",children:r.name})]}),h.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.description}),h.jsx("div",{className:"text-xs text-gray-500",children:a[r.tagName]!==void 0?`${a[r.tagName]} artifacts`:"--"})]},r.key))})]})}function fN(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}const Mf={e:{letter:"e/",name:"Ecology",subtitle:"Where We Are",tagName:"hlamt:E",color:"#4a8c6f"},H:{letter:"H/",name:"Human",subtitle:"Who's Here",tagName:"hlamt:H",color:"#c4956a"},L:{letter:"L/",name:"Language",subtitle:"How We Talk",tagName:"hlamt:L",color:"#c3fd50"},A:{letter:"A/",name:"Artifacts",subtitle:"What We're Building",tagName:"hlamt:A",color:"#8bbfff"},M:{letter:"M/",name:"Methodology",subtitle:"How We Work",tagName:"hlamt:M",color:"#7ccfb8"},T:{letter:"T/",name:"Training",subtitle:"What We're Learning",tagName:"hlamt:T",color:"#e8927c"}};function Wf({artifact:a}){return h.jsxs(ye,{to:`/artifact/${a.id}`,className:"block rounded-lg border border-[#262626] bg-[#1a1a1a] p-4 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:ga[a.type]}}),h.jsx("span",{className:"text-xs text-gray-500 uppercase",children:a.type}),a.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[a.rea_role],borderColor:un[a.rea_role]+"40"},children:Ns[a.rea_role]}),a.agent_type&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:pa[a.agent_type],borderColor:pa[a.agent_type]+"40"},children:Co[a.agent_type]}),h.jsx("span",{className:"ml-auto text-xs text-gray-600",children:fN(a.created_at)})]}),h.jsx("h3",{className:"font-medium text-white group-hover:text-[#c3fd50] transition-colors mb-1",children:a.title}),a.summary&&h.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:a.summary})]})}function hN({artifacts:a}){const[n,r]=A.useState([]),[s,o]=A.useState({});return A.useEffect(()=>{async function c(){const{data:f}=await F.from("participants").select("*").order("name");if(f){r(f);const m={};for(const p of f){const{data:g}=await F.from("artifacts").select("*").eq("created_by",p.id).order("created_at",{ascending:!1}).limit(3);g&&(m[p.id]=g)}o(m)}}c()},[]),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Participants (",n.length,")"]}),h.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:n.map(c=>h.jsxs("div",{className:"rounded-lg border border-[#262626] bg-[#1a1a1a] p-4",children:[h.jsx("h3",{className:"font-medium text-white mb-1",style:{color:"#c4956a"},children:c.name}),c.affiliation&&h.jsx("p",{className:"text-xs text-gray-500 mb-1",children:c.affiliation}),c.bio&&h.jsx("p",{className:"text-sm text-gray-400 mb-2",children:c.bio}),c.interests?.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:c.interests.map((f,m)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-[#262626] text-gray-400",children:f},m))}),s[c.id]?.length>0&&h.jsxs("div",{className:"mt-2 border-t border-[#262626] pt-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:"Recent contributions:"}),s[c.id].map(f=>h.jsx(ye,{to:`/artifact/${f.id}`,className:"block text-xs text-[#c3fd50] hover:text-white mt-1",children:f.title},f.id))]})]},c.id))}),n.length===0&&h.jsx("div",{className:"text-center py-12 bg-[#1a1a1a] border border-[#262626] rounded-lg mt-4",children:h.jsxs("div",{className:"max-w-sm mx-auto",children:[h.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#c4956a20"},children:h.jsx(Zf,{className:"w-8 h-8",style:{color:"#c4956a"}})}),h.jsx("h3",{className:"text-white font-semibold mb-2",children:"No participants registered yet"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Sign in to create your participant profile and link your contributions to your identity."}),h.jsx(ye,{to:"/auth",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#d4fe80] transition-colors",children:"Sign In"})]})})]}),a.length>0&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Human-tagged Artifacts"}),h.jsx("div",{className:"grid gap-3",children:a.map(c=>h.jsx(Wf,{artifact:c},c.id))})]})]})}function ap({words:a,maxCount:n,label:r}){return a.length===0?null:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:[r," (",a.length," terms)"]}),h.jsx("div",{className:"space-y-1",children:a.map(s=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm text-gray-300 w-32 sm:w-40 truncate font-mono",children:s.word}),h.jsx("div",{className:"flex-1 h-4 bg-[#1a1a1a] rounded overflow-hidden",children:h.jsx("div",{className:"h-full rounded",style:{width:`${s.count/n*100}%`,backgroundColor:"#c3fd50",opacity:.6}})}),h.jsx("span",{className:"text-xs text-gray-500 w-8 text-right",children:s.count})]},s.word))})]})}function dN({artifacts:a}){const[n,r]=A.useState([]),[s,o]=A.useState({}),[c,f]=A.useState([]),[m,p]=A.useState(null),[g,y]=A.useState("collective");A.useEffect(()=>{async function S(){const{data:N}=await F.rpc("word_frequencies");N&&r(N.slice(0,25));const{data:E}=await F.from("participants").select("id, name").order("name");E&&f(E)}S()},[]);async function b(S){if(s[S])return;const{data:N}=await F.rpc("word_frequencies",{p_participant_id:S});N&&o(E=>({...E,[S]:N.slice(0,30)}))}A.useEffect(()=>{m&&b(m)},[m]);const _=n[0]?.count??1,x=m?s[m]||[]:[],j=x[0]?.count??1;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>y("collective"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="collective"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-400 hover:text-white"}`,children:"Collective"}),h.jsx("button",{onClick:()=>y("participant"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="participant"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-400 hover:text-white"}`,children:"By Participant"})]}),g==="collective"&&h.jsx(ap,{words:n,maxCount:_,label:"Emergent Vocabulary"}),g==="participant"&&h.jsx("div",{className:"space-y-4",children:c.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(S=>h.jsx("button",{onClick:()=>p(S.id),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${m===S.id?"bg-[#c4956a] text-[#0f0f0f] font-medium":"bg-[#262626] text-gray-400 hover:text-white"}`,children:S.name},S.id))}),m&&h.jsx(ap,{words:x,maxCount:j,label:`${c.find(S=>S.id===m)?.name||"Participant"} Vocabulary`}),!m&&h.jsx("p",{className:"text-gray-500 text-sm",children:"Select a participant to see their vocabulary."})]}):h.jsx("p",{className:"text-gray-500 text-sm",children:"No participants yet."})}),a.length>0&&h.jsxs("div",{children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Language Artifacts (",a.length,")"]}),h.jsx("div",{className:"grid gap-3",children:a.map(S=>h.jsx(Wf,{artifact:S},S.id))})]})]})}const mN={e:"Share observations about place, environment, or ecological context.",H:"Introduce yourself, share who you met, or describe collaborative dynamics.",L:"Define terms, propose frameworks, or capture shared vocabulary.",A:"Document tools, code, designs, or infrastructure being built.",M:"Describe processes, workflows, or coordination patterns.",T:"Share learnings, skill development, or transformative experiences."};function gN({artifacts:a,dim:n}){const r=Object.keys(Mf).find(o=>Mf[o]===n),s=r?mN[r]:"Be the first to contribute here.";return h.jsxs("div",{children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:[n.name," Artifacts (",a.length,")"]}),a.length===0?h.jsx("div",{className:"text-center py-12 bg-[#1a1a1a] border border-[#262626] rounded-lg",children:h.jsxs("div",{className:"max-w-sm mx-auto",children:[h.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:n.color+"20"},children:h.jsx("span",{className:"text-3xl font-mono font-bold",style:{color:n.color},children:n.letter})}),h.jsxs("h3",{className:"text-white font-semibold mb-2",children:["No ",n.name.toLowerCase()," artifacts yet"]}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:s}),h.jsx(ye,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#d4fe80] transition-colors",children:"Contribute"})]})}):h.jsx("div",{className:"grid gap-3",children:a.map(o=>h.jsx(Wf,{artifact:o},o.id))})]})}function pN(){const{dimension:a}=jo(),[n,r]=A.useState([]),[s,o]=A.useState(!0),c=a?Mf[a]:null;return A.useEffect(()=>{if(!c)return;async function f(){o(!0);const{data:m}=await F.from("tags").select("id").eq("name",c.tagName).single();if(m){const{data:p}=await F.from("artifact_tags").select("artifact_id").eq("tag_id",m.id);if(p&&p.length>0){const g=p.map(b=>b.artifact_id),{data:y}=await F.from("artifacts").select("*").in("id",g).order("created_at",{ascending:!1});y&&r(y)}}o(!1)}f()},[c?.tagName]),c?h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-3",children:[h.jsx(ye,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Graph Dimensions"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsxs("span",{style:{color:c.color},children:[c.letter," ",c.name]})]}),h.jsxs("div",{className:"flex items-baseline gap-3",children:[h.jsx("span",{className:"font-mono text-3xl font-bold",style:{color:c.color},children:c.letter}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:c.name}),h.jsx("p",{className:"text-gray-400",children:c.subtitle})]})]})]}),s?h.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."}):h.jsxs(h.Fragment,{children:[a==="H"&&h.jsx(hN,{artifacts:n}),a==="L"&&h.jsx(dN,{artifacts:n}),a!=="H"&&a!=="L"&&h.jsx(gN,{artifacts:n,dim:c})]})]}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-400",children:"Unknown dimension."}),h.jsx(ye,{to:"/dimensions",className:"text-[#c3fd50] hover:text-white text-sm mt-2 inline-block",children:"Back to Dimensions"})]})}const ip=["This artifact hasn't been extracted from the collective consciousness yet.","You've wandered beyond the knowledge graph. Even the AI doesn't know what's here.","404: The commons giveth, and the commons taketh away.","Somewhere between the convergence tents, you took a wrong turn.","This page was last seen vibing at ETHBoulder. It hasn't come back.","The e/H-LAM/T dimensions don't include 'lost.' We checked.","You've discovered the one place the knowledge graph can't reach.","This page committed to existing but never followed through."];function yN(){const a=ip[Math.floor(Math.random()*ip.length)];return h.jsxs("div",{className:"text-center py-24 max-w-lg mx-auto",children:[h.jsx("div",{className:"text-8xl font-mono font-bold text-[#c3fd50] mb-4",children:"404"}),h.jsx("p",{className:"text-lg text-gray-300 mb-2",children:a}),h.jsx("p",{className:"text-sm text-gray-500 mb-10",children:"The page you're looking for doesn't exist, was never extracted, or has returned to the void."}),h.jsxs("div",{className:"flex gap-3 justify-center",children:[h.jsx(ye,{to:"/",className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm font-medium",children:"Back to Explore"}),h.jsx(ye,{to:"/contribute",className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Contribute something real"})]})]})}const vN="https://hvbdpgkdcdskhpbdeeim.supabase.co";function qi({items:a,color:n="bg-[#262626] text-gray-300"}){return!a||a.length===0?null:h.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((r,s)=>h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${n}`,children:r},s))})}function Ba({label:a,children:n}){return h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:a}),n]})}function rp({profile:a,extracted:n,label:r}){return h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold",children:a.name}),a.affiliation&&h.jsx("p",{className:"text-sm text-gray-400",children:a.affiliation}),a.location&&h.jsx("p",{className:"text-xs text-gray-500",children:a.location})]}),r&&h.jsx("span",{className:"text-xs text-gray-500",children:r})]}),a.bio&&h.jsx("p",{className:"text-gray-300 text-sm mb-4",children:a.bio}),a.background&&h.jsx(Ba,{label:"Background",children:h.jsx("p",{className:"text-sm text-gray-400",children:a.background})}),a.skills&&a.skills.length>0&&h.jsx(Ba,{label:"Skills",children:h.jsx(qi,{items:a.skills,color:"bg-[#262626] text-gray-300"})}),a.experience&&a.experience.length>0&&h.jsx(Ba,{label:"Experience",children:h.jsx(qi,{items:a.experience,color:"bg-[#262626] text-gray-300"})}),a.capabilities&&a.capabilities.length>0&&h.jsx(Ba,{label:"Capabilities",children:h.jsx(qi,{items:a.capabilities,color:"bg-blue-900/30 text-blue-300"})}),a.offering&&a.offering.length>0&&h.jsx(Ba,{label:"Offering",children:h.jsx(qi,{items:a.offering,color:"bg-green-900/30 text-green-300"})}),a.looking_for&&a.looking_for.length>0&&h.jsx(Ba,{label:"Looking for",children:h.jsx(qi,{items:a.looking_for,color:"bg-amber-900/30 text-amber-300"})}),a.interests&&a.interests.length>0&&h.jsx(Ba,{label:"Interests",children:h.jsx(qi,{items:a.interests})}),n?.hlamt_tags&&n.hlamt_tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.hlamt_tags.map((s,o)=>h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c3fd50]/10 text-[#c3fd50] font-mono",children:s},o))})]})}function xN(){const a=_s(),[n,r]=A.useState(""),[s,o]=A.useState("loading"),[c,f]=A.useState(""),[m,p]=A.useState(null),[g,y]=A.useState(null),[b,_]=A.useState(null);A.useEffect(()=>{async function j(){const{data:{user:S}}=await F.auth.getUser();if(!S){a("/auth");return}y(S.id);const{data:N}=await F.from("participants").select("id, name, affiliation, bio, background, experience, skills, capabilities, interests, looking_for, offering, location").eq("auth_user_id",S.id).maybeSingle();N&&p(N),o("idle")}j()},[a]);async function x(j){if(j.preventDefault(),!(!n.trim()||!g)){o("submitting"),f("");try{o("extracting");const S=await fetch(`${vN}/functions/v1/process-profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await F.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({content:n,auth_user_id:g})}),N=await S.json();if(!S.ok)throw new Error(N.error||"Profile processing failed");p(N.participant),_(N.extracted),o("done")}catch(S){f(S?.message||"Something went wrong. Please try again."),o("error")}}}return s==="loading"?h.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-4 animate-pulse",children:h.jsx(ds,{className:"w-8 h-8 text-gray-500"})}),h.jsx("p",{className:"text-gray-400",children:"Loading profile..."})]}):s==="extracting"?h.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6 animate-pulse",children:h.jsx(by,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("h2",{className:"text-xl font-bold mb-3",children:"Building your profile..."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"AI is reading your introduction, extracting your name, interests, and dimensional focus."}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"300ms"}})]})]}):s==="done"&&m?h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:h.jsx(gy,{className:"w-8 h-8 text-[#0f0f0f]",strokeWidth:3})}),h.jsxs("h2",{className:"text-xl font-bold mb-3",children:["Profile ",b?.isUpdate?"updated":"created","!"]})]}),h.jsx(rp,{profile:m,extracted:b}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsx("button",{onClick:()=>{o("idle"),r("")},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Update profile"}),h.jsx("button",{onClick:()=>a("/contribute"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Start contributing"})]})]}):h.jsxs("div",{className:"max-w-2xl mx-auto",children:[m?h.jsxs(h.Fragment,{children:[h.jsx(rp,{profile:m,label:"Your current profile"}),h.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[h.jsx(xy,{className:"w-5 h-5 text-[#c3fd50]"}),"Update Your Profile"]}),h.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Tell us what's changed. Write naturally  AI will update your profile."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[h.jsx(ds,{className:"w-5 h-5 text-[#c3fd50]"}),"Join the Commons"]}),h.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Introduce yourself. Write naturally  AI will extract your name, interests, and focus areas to build your profile."})]}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("textarea",{value:n,onChange:j=>r(j.target.value),placeholder:m?"Share what's new  new projects, interests, or affiliations. AI will update your profile accordingly.":"Hi, I'm... Tell us about yourself: your name, what you work on, what you're interested in, what brought you here. Write as much or as little as you want  the AI will figure out the structure.",rows:8,required:!0,className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] resize-y leading-relaxed text-base"}),h.jsxs("div",{className:"flex justify-between mt-2",children:[h.jsx("span",{className:"text-xs text-gray-600",children:"AI extracts your name, affiliation, bio, interests, and dimensional focus."}),h.jsxs("span",{className:"text-xs text-gray-500",children:[n.length," chars"]})]})]}),c&&h.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:c}),h.jsx("button",{type:"submit",disabled:s==="submitting"||!n.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:s==="submitting"?"Saving...":m?"Update Profile":"Create Profile"})]})]})}function bN(){const[a,n]=A.useState(null),[r,s]=A.useState([]),[o,c]=A.useState([]),[f,m]=A.useState(new Set),[p,g]=A.useState(null),[y,b]=A.useState(!0),[_,x]=A.useState(new Date);async function j(){const{data:T}=await F.from("extraction_health_metrics").select("*").single(),{data:D}=await F.rpc("get_recent_extraction_errors",{limit_count:5}),{data:R}=await F.from("contributions").select("id, content, errors, created_at").eq("status","error").order("created_at",{ascending:!1}).limit(20);n(T),s(D||[]),c((R||[]).map(L=>({id:L.id,content:L.content,errors:L.errors,created_at:L.created_at??""}))),x(new Date),b(!1)}async function S(T){m(R=>new Set(R).add(T));const{error:D}=await F.from("contributions").update({status:"pending",errors:null}).eq("id",T);D||c(R=>R.filter(L=>L.id!==T)),m(R=>{const L=new Set(R);return L.delete(T),L})}if(A.useEffect(()=>{F.auth.getSession().then(({data:D})=>g(D.session));const{data:{subscription:T}}=F.auth.onAuthStateChange((D,R)=>g(R));return()=>T.unsubscribe()},[]),A.useEffect(()=>{j();const T=setInterval(j,1e4);return()=>clearInterval(T)},[]),y||!a)return h.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[h.jsx(my,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Loading system health..."})]});const N=a.failure_rate_pct<20,E=a.contributions_last_hour>0;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"System Status"}),h.jsxs("div",{className:"text-sm text-gray-400",children:["Last update: ",_.toLocaleTimeString()]})]}),h.jsxs("div",{className:`rounded-lg p-6 mb-6 border-2 ${N?"bg-green-900/10 border-green-800/30":"bg-red-900/10 border-red-800/30"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N?h.jsx(iS,{className:"w-6 h-6 text-green-500"}):h.jsx(J0,{className:"w-6 h-6 text-red-500"}),h.jsx("h2",{className:"text-xl font-bold",children:N?"System Healthy":"System Degraded"})]}),h.jsx("p",{className:"text-sm text-gray-400",children:N?"Extraction pipeline operating normally":`Warning: ${a.failure_rate_pct}% failure rate in last hour`})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx(py,{className:"w-5 h-5 text-[#c3fd50]"}),"Last Hour"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:a.contributions_last_hour}),h.jsx("div",{className:"text-xs text-gray-500",children:"Total contributions"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.successful}),h.jsx("div",{className:"text-xs text-gray-500",children:"Successful"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.failed}),h.jsx("div",{className:"text-xs text-gray-500",children:"Failed"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:a.processing+a.pending}),h.jsx("div",{className:"text-xs text-gray-500",children:"In progress"})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-[#262626] grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"text-lg font-bold",children:[a.success_rate_pct,"%"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Success rate"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-lg font-bold",children:[a.avg_processing_seconds,"s"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Avg processing time"})]})]})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-bold mb-4",children:"Last 24 Hours"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:a.contributions_last_24h}),h.jsx("div",{className:"text-xs text-gray-500",children:"Total contributions"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.successful_24h}),h.jsx("div",{className:"text-xs text-gray-500",children:"Successful"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.failed_24h}),h.jsx("div",{className:"text-xs text-gray-500",children:"Failed"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-2xl font-bold",children:[a.success_rate_24h_pct,"%"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Success rate"})]})]})]}),r.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-red-800/30 rounded-lg p-6",children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx(J0,{className:"w-5 h-5 text-red-500"}),"Recent Errors (",r.length,")"]}),h.jsx("div",{className:"space-y-3",children:r.map(T=>h.jsxs("div",{className:"bg-[#0f0f0f] border border-[#262626] rounded-lg p-3",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:new Date(T.created_at).toLocaleString()}),h.jsxs("div",{className:"text-sm text-gray-300 mb-2",children:[T.content_preview,"..."]}),T.errors&&T.errors.length>0&&h.jsx("div",{className:"text-xs font-mono text-red-400",children:T.errors[T.errors.length-1].message})]},T.contribution_id))})]}),!E&&h.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 text-center",children:h.jsx("p",{className:"text-gray-400",children:"No contributions in the last hour"})}),o.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-red-800/30 rounded-lg p-6 mt-6",children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx(YS,{className:"w-5 h-5 text-red-400"}),"Error Recovery (",o.length,")"]}),h.jsx("div",{className:"space-y-3",children:o.map(T=>h.jsx("div",{className:"bg-[#0f0f0f] border border-[#262626] rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:new Date(T.created_at).toLocaleString()}),h.jsxs("div",{className:"text-sm text-gray-300 mb-2 truncate",children:[T.content?.slice(0,120),T.content?.length>120?"...":""]}),T.errors&&h.jsx("div",{className:"text-xs font-mono text-red-400",children:Array.isArray(T.errors)?T.errors[T.errors.length-1]?.message??JSON.stringify(T.errors[T.errors.length-1]):typeof T.errors=="object"?T.errors.message??JSON.stringify(T.errors):String(T.errors)})]}),p&&h.jsxs("button",{onClick:()=>S(T.id),disabled:f.has(T.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium bg-[#c3fd50]/10 text-[#c3fd50] border border-[#c3fd50]/30 hover:bg-[#c3fd50]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:[h.jsx(DS,{className:`w-3.5 h-3.5 ${f.has(T.id)?"animate-spin":""}`}),"Retry"]})]})},T.id))})]})]})}var _N={value:()=>{}};function js(){for(var a=0,n=arguments.length,r={},s;a<n;++a){if(!(s=arguments[a]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new co(r)}function co(a){this._=a}function wN(a,n){return a.trim().split(/^|\s+/).map(function(r){var s="",o=r.indexOf(".");if(o>=0&&(s=r.slice(o+1),r=r.slice(0,o)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}co.prototype=js.prototype={constructor:co,on:function(a,n){var r=this._,s=wN(a+"",r),o,c=-1,f=s.length;if(arguments.length<2){for(;++c<f;)if((o=(a=s[c]).type)&&(o=SN(r[o],a.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<f;)if(o=(a=s[c]).type)r[o]=sp(r[o],a.name,n);else if(n==null)for(o in r)r[o]=sp(r[o],a.name,null);return this},copy:function(){var a={},n=this._;for(var r in n)a[r]=n[r].slice();return new co(a)},call:function(a,n){if((o=arguments.length-2)>0)for(var r=new Array(o),s=0,o,c;s<o;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(c=this._[a],s=0,o=c.length;s<o;++s)c[s].value.apply(n,r)},apply:function(a,n,r){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var s=this._[a],o=0,c=s.length;o<c;++o)s[o].value.apply(n,r)}};function SN(a,n){for(var r=0,s=a.length,o;r<s;++r)if((o=a[r]).name===n)return o.value}function sp(a,n,r){for(var s=0,o=a.length;s<o;++s)if(a[s].name===n){a[s]=_N,a=a.slice(0,s).concat(a.slice(s+1));break}return r!=null&&a.push({name:n,value:r}),a}var Uf="http://www.w3.org/1999/xhtml";const lp={svg:"http://www.w3.org/2000/svg",xhtml:Uf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ko(a){var n=a+="",r=n.indexOf(":");return r>=0&&(n=a.slice(0,r))!=="xmlns"&&(a=a.slice(r+1)),lp.hasOwnProperty(n)?{space:lp[n],local:a}:a}function NN(a){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Uf&&n.documentElement.namespaceURI===Uf?n.createElement(a):n.createElementNS(r,a)}}function jN(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function jy(a){var n=ko(a);return(n.local?jN:NN)(n)}function EN(){}function Ff(a){return a==null?EN:function(){return this.querySelector(a)}}function TN(a){typeof a!="function"&&(a=Ff(a));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var c=n[o],f=c.length,m=s[o]=new Array(f),p,g,y=0;y<f;++y)(p=c[y])&&(g=a.call(p,p.__data__,y,c))&&("__data__"in p&&(g.__data__=p.__data__),m[y]=g);return new zt(s,this._parents)}function AN(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function RN(){return[]}function Ey(a){return a==null?RN:function(){return this.querySelectorAll(a)}}function ON(a){return function(){return AN(a.apply(this,arguments))}}function CN(a){typeof a=="function"?a=ON(a):a=Ey(a);for(var n=this._groups,r=n.length,s=[],o=[],c=0;c<r;++c)for(var f=n[c],m=f.length,p,g=0;g<m;++g)(p=f[g])&&(s.push(a.call(p,p.__data__,g,f)),o.push(p));return new zt(s,o)}function Ty(a){return function(){return this.matches(a)}}function Ay(a){return function(n){return n.matches(a)}}var kN=Array.prototype.find;function DN(a){return function(){return kN.call(this.children,a)}}function MN(){return this.firstElementChild}function UN(a){return this.select(a==null?MN:DN(typeof a=="function"?a:Ay(a)))}var zN=Array.prototype.filter;function LN(){return Array.from(this.children)}function $N(a){return function(){return zN.call(this.children,a)}}function BN(a){return this.selectAll(a==null?LN:$N(typeof a=="function"?a:Ay(a)))}function qN(a){typeof a!="function"&&(a=Ty(a));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var c=n[o],f=c.length,m=s[o]=[],p,g=0;g<f;++g)(p=c[g])&&a.call(p,p.__data__,g,c)&&m.push(p);return new zt(s,this._parents)}function Ry(a){return new Array(a.length)}function HN(){return new zt(this._enter||this._groups.map(Ry),this._parents)}function vo(a,n){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=n}vo.prototype={constructor:vo,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,n){return this._parent.insertBefore(a,n)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function GN(a){return function(){return a}}function VN(a,n,r,s,o,c){for(var f=0,m,p=n.length,g=c.length;f<g;++f)(m=n[f])?(m.__data__=c[f],s[f]=m):r[f]=new vo(a,c[f]);for(;f<p;++f)(m=n[f])&&(o[f]=m)}function YN(a,n,r,s,o,c,f){var m,p,g=new Map,y=n.length,b=c.length,_=new Array(y),x;for(m=0;m<y;++m)(p=n[m])&&(_[m]=x=f.call(p,p.__data__,m,n)+"",g.has(x)?o[m]=p:g.set(x,p));for(m=0;m<b;++m)x=f.call(a,c[m],m,c)+"",(p=g.get(x))?(s[m]=p,p.__data__=c[m],g.delete(x)):r[m]=new vo(a,c[m]);for(m=0;m<y;++m)(p=n[m])&&g.get(_[m])===p&&(o[m]=p)}function KN(a){return a.__data__}function XN(a,n){if(!arguments.length)return Array.from(this,KN);var r=n?YN:VN,s=this._parents,o=this._groups;typeof a!="function"&&(a=GN(a));for(var c=o.length,f=new Array(c),m=new Array(c),p=new Array(c),g=0;g<c;++g){var y=s[g],b=o[g],_=b.length,x=IN(a.call(y,y&&y.__data__,g,s)),j=x.length,S=m[g]=new Array(j),N=f[g]=new Array(j),E=p[g]=new Array(_);r(y,b,S,N,E,x,n);for(var T=0,D=0,R,L;T<j;++T)if(R=S[T]){for(T>=D&&(D=T+1);!(L=N[D])&&++D<j;);R._next=L||null}}return f=new zt(f,s),f._enter=m,f._exit=p,f}function IN(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function PN(){return new zt(this._exit||this._groups.map(Ry),this._parents)}function QN(a,n,r){var s=this.enter(),o=this,c=this.exit();return typeof a=="function"?(s=a(s),s&&(s=s.selection())):s=s.append(a+""),n!=null&&(o=n(o),o&&(o=o.selection())),r==null?c.remove():r(c),s&&o?s.merge(o).order():o}function JN(a){for(var n=a.selection?a.selection():a,r=this._groups,s=n._groups,o=r.length,c=s.length,f=Math.min(o,c),m=new Array(o),p=0;p<f;++p)for(var g=r[p],y=s[p],b=g.length,_=m[p]=new Array(b),x,j=0;j<b;++j)(x=g[j]||y[j])&&(_[j]=x);for(;p<o;++p)m[p]=r[p];return new zt(m,this._parents)}function ZN(){for(var a=this._groups,n=-1,r=a.length;++n<r;)for(var s=a[n],o=s.length-1,c=s[o],f;--o>=0;)(f=s[o])&&(c&&f.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(f,c),c=f);return this}function WN(a){a||(a=FN);function n(b,_){return b&&_?a(b.__data__,_.__data__):!b-!_}for(var r=this._groups,s=r.length,o=new Array(s),c=0;c<s;++c){for(var f=r[c],m=f.length,p=o[c]=new Array(m),g,y=0;y<m;++y)(g=f[y])&&(p[y]=g);p.sort(n)}return new zt(o,this._parents).order()}function FN(a,n){return a<n?-1:a>n?1:a>=n?0:NaN}function ej(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function tj(){return Array.from(this)}function nj(){for(var a=this._groups,n=0,r=a.length;n<r;++n)for(var s=a[n],o=0,c=s.length;o<c;++o){var f=s[o];if(f)return f}return null}function aj(){let a=0;for(const n of this)++a;return a}function ij(){return!this.node()}function rj(a){for(var n=this._groups,r=0,s=n.length;r<s;++r)for(var o=n[r],c=0,f=o.length,m;c<f;++c)(m=o[c])&&a.call(m,m.__data__,c,o);return this}function sj(a){return function(){this.removeAttribute(a)}}function lj(a){return function(){this.removeAttributeNS(a.space,a.local)}}function oj(a,n){return function(){this.setAttribute(a,n)}}function cj(a,n){return function(){this.setAttributeNS(a.space,a.local,n)}}function uj(a,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(a):this.setAttribute(a,r)}}function fj(a,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,r)}}function hj(a,n){var r=ko(a);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((n==null?r.local?lj:sj:typeof n=="function"?r.local?fj:uj:r.local?cj:oj)(r,n))}function Oy(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function dj(a){return function(){this.style.removeProperty(a)}}function mj(a,n,r){return function(){this.style.setProperty(a,n,r)}}function gj(a,n,r){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(a):this.style.setProperty(a,s,r)}}function pj(a,n,r){return arguments.length>1?this.each((n==null?dj:typeof n=="function"?gj:mj)(a,n,r??"")):Pi(this.node(),a)}function Pi(a,n){return a.style.getPropertyValue(n)||Oy(a).getComputedStyle(a,null).getPropertyValue(n)}function yj(a){return function(){delete this[a]}}function vj(a,n){return function(){this[a]=n}}function xj(a,n){return function(){var r=n.apply(this,arguments);r==null?delete this[a]:this[a]=r}}function bj(a,n){return arguments.length>1?this.each((n==null?yj:typeof n=="function"?xj:vj)(a,n)):this.node()[a]}function Cy(a){return a.trim().split(/^|\s+/)}function eh(a){return a.classList||new ky(a)}function ky(a){this._node=a,this._names=Cy(a.getAttribute("class")||"")}ky.prototype={add:function(a){var n=this._names.indexOf(a);n<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var n=this._names.indexOf(a);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function Dy(a,n){for(var r=eh(a),s=-1,o=n.length;++s<o;)r.add(n[s])}function My(a,n){for(var r=eh(a),s=-1,o=n.length;++s<o;)r.remove(n[s])}function _j(a){return function(){Dy(this,a)}}function wj(a){return function(){My(this,a)}}function Sj(a,n){return function(){(n.apply(this,arguments)?Dy:My)(this,a)}}function Nj(a,n){var r=Cy(a+"");if(arguments.length<2){for(var s=eh(this.node()),o=-1,c=r.length;++o<c;)if(!s.contains(r[o]))return!1;return!0}return this.each((typeof n=="function"?Sj:n?_j:wj)(r,n))}function jj(){this.textContent=""}function Ej(a){return function(){this.textContent=a}}function Tj(a){return function(){var n=a.apply(this,arguments);this.textContent=n??""}}function Aj(a){return arguments.length?this.each(a==null?jj:(typeof a=="function"?Tj:Ej)(a)):this.node().textContent}function Rj(){this.innerHTML=""}function Oj(a){return function(){this.innerHTML=a}}function Cj(a){return function(){var n=a.apply(this,arguments);this.innerHTML=n??""}}function kj(a){return arguments.length?this.each(a==null?Rj:(typeof a=="function"?Cj:Oj)(a)):this.node().innerHTML}function Dj(){this.nextSibling&&this.parentNode.appendChild(this)}function Mj(){return this.each(Dj)}function Uj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zj(){return this.each(Uj)}function Lj(a){var n=typeof a=="function"?a:jy(a);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function $j(){return null}function Bj(a,n){var r=typeof a=="function"?a:jy(a),s=n==null?$j:typeof n=="function"?n:Ff(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function qj(){var a=this.parentNode;a&&a.removeChild(this)}function Hj(){return this.each(qj)}function Gj(){var a=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function Vj(){var a=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function Yj(a){return this.select(a?Vj:Gj)}function Kj(a){return arguments.length?this.property("__data__",a):this.node().__data__}function Xj(a){return function(n){a.call(this,n,this.__data__)}}function Ij(a){return a.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");return s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),{type:n,name:r}})}function Pj(a){return function(){var n=this.__on;if(n){for(var r=0,s=-1,o=n.length,c;r<o;++r)c=n[r],(!a.type||c.type===a.type)&&c.name===a.name?this.removeEventListener(c.type,c.listener,c.options):n[++s]=c;++s?n.length=s:delete this.__on}}}function Qj(a,n,r){return function(){var s=this.__on,o,c=Xj(n);if(s){for(var f=0,m=s.length;f<m;++f)if((o=s[f]).type===a.type&&o.name===a.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=c,o.options=r),o.value=n;return}}this.addEventListener(a.type,c,r),o={type:a.type,name:a.name,value:n,listener:c,options:r},s?s.push(o):this.__on=[o]}}function Jj(a,n,r){var s=Ij(a+""),o,c=s.length,f;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,y;p<g;++p)for(o=0,y=m[p];o<c;++o)if((f=s[o]).type===y.type&&f.name===y.name)return y.value}return}for(m=n?Qj:Pj,o=0;o<c;++o)this.each(m(s[o],n,r));return this}function Uy(a,n,r){var s=Oy(a),o=s.CustomEvent;typeof o=="function"?o=new o(n,r):(o=s.document.createEvent("Event"),r?(o.initEvent(n,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(n,!1,!1)),a.dispatchEvent(o)}function Zj(a,n){return function(){return Uy(this,a,n)}}function Wj(a,n){return function(){return Uy(this,a,n.apply(this,arguments))}}function Fj(a,n){return this.each((typeof n=="function"?Wj:Zj)(a,n))}function*eE(){for(var a=this._groups,n=0,r=a.length;n<r;++n)for(var s=a[n],o=0,c=s.length,f;o<c;++o)(f=s[o])&&(yield f)}var zy=[null];function zt(a,n){this._groups=a,this._parents=n}function Es(){return new zt([[document.documentElement]],zy)}function tE(){return this}zt.prototype=Es.prototype={constructor:zt,select:TN,selectAll:CN,selectChild:UN,selectChildren:BN,filter:qN,data:XN,enter:HN,exit:PN,join:QN,merge:JN,selection:tE,order:ZN,sort:WN,call:ej,nodes:tj,node:nj,size:aj,empty:ij,each:rj,attr:hj,style:pj,property:bj,classed:Nj,text:Aj,html:kj,raise:Mj,lower:zj,append:Lj,insert:Bj,remove:Hj,clone:Yj,datum:Kj,on:Jj,dispatch:Fj,[Symbol.iterator]:eE};function on(a){return typeof a=="string"?new zt([[document.querySelector(a)]],[document.documentElement]):new zt([[a]],zy)}function nE(a){let n;for(;n=a.sourceEvent;)a=n;return a}function Dn(a,n){if(a=nE(a),n===void 0&&(n=a.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=a.clientX,s.y=a.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[a.clientX-o.left-n.clientLeft,a.clientY-o.top-n.clientTop]}}return[a.pageX,a.pageY]}const aE={passive:!1},ms={capture:!0,passive:!1};function pf(a){a.stopImmediatePropagation()}function Xi(a){a.preventDefault(),a.stopImmediatePropagation()}function Ly(a){var n=a.document.documentElement,r=on(a).on("dragstart.drag",Xi,ms);"onselectstart"in n?r.on("selectstart.drag",Xi,ms):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function $y(a,n){var r=a.document.documentElement,s=on(a).on("dragstart.drag",null);n&&(s.on("click.drag",Xi,ms),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const to=a=>()=>a;function zf(a,{sourceEvent:n,subject:r,target:s,identifier:o,active:c,x:f,y:m,dx:p,dy:g,dispatch:y}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:y}})}zf.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};function iE(a){return!a.ctrlKey&&!a.button}function rE(){return this.parentNode}function sE(a,n){return n??{x:a.x,y:a.y}}function lE(){return navigator.maxTouchPoints||"ontouchstart"in this}function oE(){var a=iE,n=rE,r=sE,s=lE,o={},c=js("start","drag","end"),f=0,m,p,g,y,b=0;function _(R){R.on("mousedown.drag",x).filter(s).on("touchstart.drag",N).on("touchmove.drag",E,aE).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(R,L){if(!(y||!a.call(this,R,L))){var Z=D(this,n.call(this,R,L),R,L,"mouse");Z&&(on(R.view).on("mousemove.drag",j,ms).on("mouseup.drag",S,ms),Ly(R.view),pf(R),g=!1,m=R.clientX,p=R.clientY,Z("start",R))}}function j(R){if(Xi(R),!g){var L=R.clientX-m,Z=R.clientY-p;g=L*L+Z*Z>b}o.mouse("drag",R)}function S(R){on(R.view).on("mousemove.drag mouseup.drag",null),$y(R.view,g),Xi(R),o.mouse("end",R)}function N(R,L){if(a.call(this,R,L)){var Z=R.changedTouches,J=n.call(this,R,L),ie=Z.length,K,Q;for(K=0;K<ie;++K)(Q=D(this,J,R,L,Z[K].identifier,Z[K]))&&(pf(R),Q("start",R,Z[K]))}}function E(R){var L=R.changedTouches,Z=L.length,J,ie;for(J=0;J<Z;++J)(ie=o[L[J].identifier])&&(Xi(R),ie("drag",R,L[J]))}function T(R){var L=R.changedTouches,Z=L.length,J,ie;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),J=0;J<Z;++J)(ie=o[L[J].identifier])&&(pf(R),ie("end",R,L[J]))}function D(R,L,Z,J,ie,K){var Q=c.copy(),re=Dn(K||Z,L),le,_e,B;if((B=r.call(R,new zf("beforestart",{sourceEvent:Z,target:_,identifier:ie,active:f,x:re[0],y:re[1],dx:0,dy:0,dispatch:Q}),J))!=null)return le=B.x-re[0]||0,_e=B.y-re[1]||0,function te(k,Y,U){var W=re,ae;switch(k){case"start":o[ie]=te,ae=f++;break;case"end":delete o[ie],--f;case"drag":re=Dn(U||Y,L),ae=f;break}Q.call(k,R,new zf(k,{sourceEvent:Y,subject:B,target:_,identifier:ie,active:ae,x:re[0]+le,y:re[1]+_e,dx:re[0]-W[0],dy:re[1]-W[1],dispatch:Q}),J)}}return _.filter=function(R){return arguments.length?(a=typeof R=="function"?R:to(!!R),_):a},_.container=function(R){return arguments.length?(n=typeof R=="function"?R:to(R),_):n},_.subject=function(R){return arguments.length?(r=typeof R=="function"?R:to(R),_):r},_.touchable=function(R){return arguments.length?(s=typeof R=="function"?R:to(!!R),_):s},_.on=function(){var R=c.on.apply(c,arguments);return R===c?_:R},_.clickDistance=function(R){return arguments.length?(b=(R=+R)*R,_):Math.sqrt(b)},_}function th(a,n,r){a.prototype=n.prototype=r,r.constructor=a}function By(a,n){var r=Object.create(a.prototype);for(var s in n)r[s]=n[s];return r}function Ts(){}var gs=.7,xo=1/gs,Ii="\\s*([+-]?\\d+)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cE=/^#([0-9a-f]{3,8})$/,uE=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),fE=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),hE=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${ps}\\)$`),dE=new RegExp(`^rgba\\(${cn},${cn},${cn},${ps}\\)$`),mE=new RegExp(`^hsl\\(${ps},${cn},${cn}\\)$`),gE=new RegExp(`^hsla\\(${ps},${cn},${cn},${ps}\\)$`),op={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};th(Ts,ys,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:cp,formatHex:cp,formatHex8:pE,formatHsl:yE,formatRgb:up,toString:up});function cp(){return this.rgb().formatHex()}function pE(){return this.rgb().formatHex8()}function yE(){return qy(this).formatHsl()}function up(){return this.rgb().formatRgb()}function ys(a){var n,r;return a=(a+"").trim().toLowerCase(),(n=cE.exec(a))?(r=n[1].length,n=parseInt(n[1],16),r===6?fp(n):r===3?new St(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?no(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?no(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=uE.exec(a))?new St(n[1],n[2],n[3],1):(n=fE.exec(a))?new St(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=hE.exec(a))?no(n[1],n[2],n[3],n[4]):(n=dE.exec(a))?no(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=mE.exec(a))?mp(n[1],n[2]/100,n[3]/100,1):(n=gE.exec(a))?mp(n[1],n[2]/100,n[3]/100,n[4]):op.hasOwnProperty(a)?fp(op[a]):a==="transparent"?new St(NaN,NaN,NaN,0):null}function fp(a){return new St(a>>16&255,a>>8&255,a&255,1)}function no(a,n,r,s){return s<=0&&(a=n=r=NaN),new St(a,n,r,s)}function vE(a){return a instanceof Ts||(a=ys(a)),a?(a=a.rgb(),new St(a.r,a.g,a.b,a.opacity)):new St}function Lf(a,n,r,s){return arguments.length===1?vE(a):new St(a,n,r,s??1)}function St(a,n,r,s){this.r=+a,this.g=+n,this.b=+r,this.opacity=+s}th(St,Lf,By(Ts,{brighter(a){return a=a==null?xo:Math.pow(xo,a),new St(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?gs:Math.pow(gs,a),new St(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new St(Xa(this.r),Xa(this.g),Xa(this.b),bo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hp,formatHex:hp,formatHex8:xE,formatRgb:dp,toString:dp}));function hp(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function xE(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function dp(){const a=bo(this.opacity);return`${a===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${a===1?")":`, ${a})`}`}function bo(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Xa(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Ka(a){return a=Xa(a),(a<16?"0":"")+a.toString(16)}function mp(a,n,r,s){return s<=0?a=n=r=NaN:r<=0||r>=1?a=n=NaN:n<=0&&(a=NaN),new en(a,n,r,s)}function qy(a){if(a instanceof en)return new en(a.h,a.s,a.l,a.opacity);if(a instanceof Ts||(a=ys(a)),!a)return new en;if(a instanceof en)return a;a=a.rgb();var n=a.r/255,r=a.g/255,s=a.b/255,o=Math.min(n,r,s),c=Math.max(n,r,s),f=NaN,m=c-o,p=(c+o)/2;return m?(n===c?f=(r-s)/m+(r<s)*6:r===c?f=(s-n)/m+2:f=(n-r)/m+4,m/=p<.5?c+o:2-c-o,f*=60):m=p>0&&p<1?0:f,new en(f,m,p,a.opacity)}function bE(a,n,r,s){return arguments.length===1?qy(a):new en(a,n,r,s??1)}function en(a,n,r,s){this.h=+a,this.s=+n,this.l=+r,this.opacity=+s}th(en,bE,By(Ts,{brighter(a){return a=a==null?xo:Math.pow(xo,a),new en(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?gs:Math.pow(gs,a),new en(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,n=isNaN(a)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*n,o=2*r-s;return new St(yf(a>=240?a-240:a+120,o,s),yf(a,o,s),yf(a<120?a+240:a-120,o,s),this.opacity)},clamp(){return new en(gp(this.h),ao(this.s),ao(this.l),bo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=bo(this.opacity);return`${a===1?"hsl(":"hsla("}${gp(this.h)}, ${ao(this.s)*100}%, ${ao(this.l)*100}%${a===1?")":`, ${a})`}`}}));function gp(a){return a=(a||0)%360,a<0?a+360:a}function ao(a){return Math.max(0,Math.min(1,a||0))}function yf(a,n,r){return(a<60?n+(r-n)*a/60:a<180?r:a<240?n+(r-n)*(240-a)/60:n)*255}const Hy=a=>()=>a;function _E(a,n){return function(r){return a+r*n}}function wE(a,n,r){return a=Math.pow(a,r),n=Math.pow(n,r)-a,r=1/r,function(s){return Math.pow(a+s*n,r)}}function SE(a){return(a=+a)==1?Gy:function(n,r){return r-n?wE(n,r,a):Hy(isNaN(n)?r:n)}}function Gy(a,n){var r=n-a;return r?_E(a,r):Hy(isNaN(a)?n:a)}const pp=(function a(n){var r=SE(n);function s(o,c){var f=r((o=Lf(o)).r,(c=Lf(c)).r),m=r(o.g,c.g),p=r(o.b,c.b),g=Gy(o.opacity,c.opacity);return function(y){return o.r=f(y),o.g=m(y),o.b=p(y),o.opacity=g(y),o+""}}return s.gamma=a,s})(1);function ha(a,n){return a=+a,n=+n,function(r){return a*(1-r)+n*r}}var $f=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vf=new RegExp($f.source,"g");function NE(a){return function(){return a}}function jE(a){return function(n){return a(n)+""}}function EE(a,n){var r=$f.lastIndex=vf.lastIndex=0,s,o,c,f=-1,m=[],p=[];for(a=a+"",n=n+"";(s=$f.exec(a))&&(o=vf.exec(n));)(c=o.index)>r&&(c=n.slice(r,c),m[f]?m[f]+=c:m[++f]=c),(s=s[0])===(o=o[0])?m[f]?m[f]+=o:m[++f]=o:(m[++f]=null,p.push({i:f,x:ha(s,o)})),r=vf.lastIndex;return r<n.length&&(c=n.slice(r),m[f]?m[f]+=c:m[++f]=c),m.length<2?p[0]?jE(p[0].x):NE(n):(n=p.length,function(g){for(var y=0,b;y<n;++y)m[(b=p[y]).i]=b.x(g);return m.join("")})}var yp=180/Math.PI,Bf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vy(a,n,r,s,o,c){var f,m,p;return(f=Math.sqrt(a*a+n*n))&&(a/=f,n/=f),(p=a*r+n*s)&&(r-=a*p,s-=n*p),(m=Math.sqrt(r*r+s*s))&&(r/=m,s/=m,p/=m),a*s<n*r&&(a=-a,n=-n,p=-p,f=-f),{translateX:o,translateY:c,rotate:Math.atan2(n,a)*yp,skewX:Math.atan(p)*yp,scaleX:f,scaleY:m}}var io;function TE(a){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return n.isIdentity?Bf:Vy(n.a,n.b,n.c,n.d,n.e,n.f)}function AE(a){return a==null||(io||(io=document.createElementNS("http://www.w3.org/2000/svg","g")),io.setAttribute("transform",a),!(a=io.transform.baseVal.consolidate()))?Bf:(a=a.matrix,Vy(a.a,a.b,a.c,a.d,a.e,a.f))}function Yy(a,n,r,s){function o(g){return g.length?g.pop()+" ":""}function c(g,y,b,_,x,j){if(g!==b||y!==_){var S=x.push("translate(",null,n,null,r);j.push({i:S-4,x:ha(g,b)},{i:S-2,x:ha(y,_)})}else(b||_)&&x.push("translate("+b+n+_+r)}function f(g,y,b,_){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),_.push({i:b.push(o(b)+"rotate(",null,s)-2,x:ha(g,y)})):y&&b.push(o(b)+"rotate("+y+s)}function m(g,y,b,_){g!==y?_.push({i:b.push(o(b)+"skewX(",null,s)-2,x:ha(g,y)}):y&&b.push(o(b)+"skewX("+y+s)}function p(g,y,b,_,x,j){if(g!==b||y!==_){var S=x.push(o(x)+"scale(",null,",",null,")");j.push({i:S-4,x:ha(g,b)},{i:S-2,x:ha(y,_)})}else(b!==1||_!==1)&&x.push(o(x)+"scale("+b+","+_+")")}return function(g,y){var b=[],_=[];return g=a(g),y=a(y),c(g.translateX,g.translateY,y.translateX,y.translateY,b,_),f(g.rotate,y.rotate,b,_),m(g.skewX,y.skewX,b,_),p(g.scaleX,g.scaleY,y.scaleX,y.scaleY,b,_),g=y=null,function(x){for(var j=-1,S=_.length,N;++j<S;)b[(N=_[j]).i]=N.x(x);return b.join("")}}}var RE=Yy(TE,"px, ","px)","deg)"),OE=Yy(AE,", ",")",")"),CE=1e-12;function vp(a){return((a=Math.exp(a))+1/a)/2}function kE(a){return((a=Math.exp(a))-1/a)/2}function DE(a){return((a=Math.exp(2*a))-1)/(a+1)}const ME=(function a(n,r,s){function o(c,f){var m=c[0],p=c[1],g=c[2],y=f[0],b=f[1],_=f[2],x=y-m,j=b-p,S=x*x+j*j,N,E;if(S<CE)E=Math.log(_/g)/n,N=function(J){return[m+J*x,p+J*j,g*Math.exp(n*J*E)]};else{var T=Math.sqrt(S),D=(_*_-g*g+s*S)/(2*g*r*T),R=(_*_-g*g-s*S)/(2*_*r*T),L=Math.log(Math.sqrt(D*D+1)-D),Z=Math.log(Math.sqrt(R*R+1)-R);E=(Z-L)/n,N=function(J){var ie=J*E,K=vp(L),Q=g/(r*T)*(K*DE(n*ie+L)-kE(L));return[m+Q*x,p+Q*j,g*K/vp(n*ie+L)]}}return N.duration=E*1e3*n/Math.SQRT2,N}return o.rho=function(c){var f=Math.max(.001,+c),m=f*f,p=m*m;return a(f,m,p)},o})(Math.SQRT2,2,4);var Qi=0,es=0,Jr=0,Ky=1e3,_o,ts,wo=0,Pa=0,Do=0,vs=typeof performance=="object"&&performance.now?performance:Date,Xy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function nh(){return Pa||(Xy(UE),Pa=vs.now()+Do)}function UE(){Pa=0}function So(){this._call=this._time=this._next=null}So.prototype=ah.prototype={constructor:So,restart:function(a,n,r){if(typeof a!="function")throw new TypeError("callback is not a function");r=(r==null?nh():+r)+(n==null?0:+n),!this._next&&ts!==this&&(ts?ts._next=this:_o=this,ts=this),this._call=a,this._time=r,qf()},stop:function(){this._call&&(this._call=null,this._time=1/0,qf())}};function ah(a,n,r){var s=new So;return s.restart(a,n,r),s}function zE(){nh(),++Qi;for(var a=_o,n;a;)(n=Pa-a._time)>=0&&a._call.call(void 0,n),a=a._next;--Qi}function xp(){Pa=(wo=vs.now())+Do,Qi=es=0;try{zE()}finally{Qi=0,$E(),Pa=0}}function LE(){var a=vs.now(),n=a-wo;n>Ky&&(Do-=n,wo=a)}function $E(){for(var a,n=_o,r,s=1/0;n;)n._call?(s>n._time&&(s=n._time),a=n,n=n._next):(r=n._next,n._next=null,n=a?a._next=r:_o=r);ts=a,qf(s)}function qf(a){if(!Qi){es&&(es=clearTimeout(es));var n=a-Pa;n>24?(a<1/0&&(es=setTimeout(xp,a-vs.now()-Do)),Jr&&(Jr=clearInterval(Jr))):(Jr||(wo=vs.now(),Jr=setInterval(LE,Ky)),Qi=1,Xy(xp))}}function bp(a,n,r){var s=new So;return n=n==null?0:+n,s.restart(o=>{s.stop(),a(o+n)},n,r),s}var BE=js("start","end","cancel","interrupt"),qE=[],Iy=0,_p=1,Hf=2,uo=3,wp=4,Gf=5,fo=6;function Mo(a,n,r,s,o,c){var f=a.__transition;if(!f)a.__transition={};else if(r in f)return;HE(a,r,{name:n,index:s,group:o,on:BE,tween:qE,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Iy})}function ih(a,n){var r=nn(a,n);if(r.state>Iy)throw new Error("too late; already scheduled");return r}function hn(a,n){var r=nn(a,n);if(r.state>uo)throw new Error("too late; already running");return r}function nn(a,n){var r=a.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function HE(a,n,r){var s=a.__transition,o;s[n]=r,r.timer=ah(c,0,r.time);function c(g){r.state=_p,r.timer.restart(f,r.delay,r.time),r.delay<=g&&f(g-r.delay)}function f(g){var y,b,_,x;if(r.state!==_p)return p();for(y in s)if(x=s[y],x.name===r.name){if(x.state===uo)return bp(f);x.state===wp?(x.state=fo,x.timer.stop(),x.on.call("interrupt",a,a.__data__,x.index,x.group),delete s[y]):+y<n&&(x.state=fo,x.timer.stop(),x.on.call("cancel",a,a.__data__,x.index,x.group),delete s[y])}if(bp(function(){r.state===uo&&(r.state=wp,r.timer.restart(m,r.delay,r.time),m(g))}),r.state=Hf,r.on.call("start",a,a.__data__,r.index,r.group),r.state===Hf){for(r.state=uo,o=new Array(_=r.tween.length),y=0,b=-1;y<_;++y)(x=r.tween[y].value.call(a,a.__data__,r.index,r.group))&&(o[++b]=x);o.length=b+1}}function m(g){for(var y=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(p),r.state=Gf,1),b=-1,_=o.length;++b<_;)o[b].call(a,y);r.state===Gf&&(r.on.call("end",a,a.__data__,r.index,r.group),p())}function p(){r.state=fo,r.timer.stop(),delete s[n];for(var g in s)return;delete a.__transition}}function ho(a,n){var r=a.__transition,s,o,c=!0,f;if(r){n=n==null?null:n+"";for(f in r){if((s=r[f]).name!==n){c=!1;continue}o=s.state>Hf&&s.state<Gf,s.state=fo,s.timer.stop(),s.on.call(o?"interrupt":"cancel",a,a.__data__,s.index,s.group),delete r[f]}c&&delete a.__transition}}function GE(a){return this.each(function(){ho(this,a)})}function VE(a,n){var r,s;return function(){var o=hn(this,a),c=o.tween;if(c!==r){s=r=c;for(var f=0,m=s.length;f<m;++f)if(s[f].name===n){s=s.slice(),s.splice(f,1);break}}o.tween=s}}function YE(a,n,r){var s,o;if(typeof r!="function")throw new Error;return function(){var c=hn(this,a),f=c.tween;if(f!==s){o=(s=f).slice();for(var m={name:n,value:r},p=0,g=o.length;p<g;++p)if(o[p].name===n){o[p]=m;break}p===g&&o.push(m)}c.tween=o}}function KE(a,n){var r=this._id;if(a+="",arguments.length<2){for(var s=nn(this.node(),r).tween,o=0,c=s.length,f;o<c;++o)if((f=s[o]).name===a)return f.value;return null}return this.each((n==null?VE:YE)(r,a,n))}function rh(a,n,r){var s=a._id;return a.each(function(){var o=hn(this,s);(o.value||(o.value={}))[n]=r.apply(this,arguments)}),function(o){return nn(o,s).value[n]}}function Py(a,n){var r;return(typeof n=="number"?ha:n instanceof ys?pp:(r=ys(n))?(n=r,pp):EE)(a,n)}function XE(a){return function(){this.removeAttribute(a)}}function IE(a){return function(){this.removeAttributeNS(a.space,a.local)}}function PE(a,n,r){var s,o=r+"",c;return function(){var f=this.getAttribute(a);return f===o?null:f===s?c:c=n(s=f,r)}}function QE(a,n,r){var s,o=r+"",c;return function(){var f=this.getAttributeNS(a.space,a.local);return f===o?null:f===s?c:c=n(s=f,r)}}function JE(a,n,r){var s,o,c;return function(){var f,m=r(this),p;return m==null?void this.removeAttribute(a):(f=this.getAttribute(a),p=m+"",f===p?null:f===s&&p===o?c:(o=p,c=n(s=f,m)))}}function ZE(a,n,r){var s,o,c;return function(){var f,m=r(this),p;return m==null?void this.removeAttributeNS(a.space,a.local):(f=this.getAttributeNS(a.space,a.local),p=m+"",f===p?null:f===s&&p===o?c:(o=p,c=n(s=f,m)))}}function WE(a,n){var r=ko(a),s=r==="transform"?OE:Py;return this.attrTween(a,typeof n=="function"?(r.local?ZE:JE)(r,s,rh(this,"attr."+a,n)):n==null?(r.local?IE:XE)(r):(r.local?QE:PE)(r,s,n))}function FE(a,n){return function(r){this.setAttribute(a,n.call(this,r))}}function eT(a,n){return function(r){this.setAttributeNS(a.space,a.local,n.call(this,r))}}function tT(a,n){var r,s;function o(){var c=n.apply(this,arguments);return c!==s&&(r=(s=c)&&eT(a,c)),r}return o._value=n,o}function nT(a,n){var r,s;function o(){var c=n.apply(this,arguments);return c!==s&&(r=(s=c)&&FE(a,c)),r}return o._value=n,o}function aT(a,n){var r="attr."+a;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var s=ko(a);return this.tween(r,(s.local?tT:nT)(s,n))}function iT(a,n){return function(){ih(this,a).delay=+n.apply(this,arguments)}}function rT(a,n){return n=+n,function(){ih(this,a).delay=n}}function sT(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?iT:rT)(n,a)):nn(this.node(),n).delay}function lT(a,n){return function(){hn(this,a).duration=+n.apply(this,arguments)}}function oT(a,n){return n=+n,function(){hn(this,a).duration=n}}function cT(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?lT:oT)(n,a)):nn(this.node(),n).duration}function uT(a,n){if(typeof n!="function")throw new Error;return function(){hn(this,a).ease=n}}function fT(a){var n=this._id;return arguments.length?this.each(uT(n,a)):nn(this.node(),n).ease}function hT(a,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;hn(this,a).ease=r}}function dT(a){if(typeof a!="function")throw new Error;return this.each(hT(this._id,a))}function mT(a){typeof a!="function"&&(a=Ty(a));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var c=n[o],f=c.length,m=s[o]=[],p,g=0;g<f;++g)(p=c[g])&&a.call(p,p.__data__,g,c)&&m.push(p);return new Ln(s,this._parents,this._name,this._id)}function gT(a){if(a._id!==this._id)throw new Error;for(var n=this._groups,r=a._groups,s=n.length,o=r.length,c=Math.min(s,o),f=new Array(s),m=0;m<c;++m)for(var p=n[m],g=r[m],y=p.length,b=f[m]=new Array(y),_,x=0;x<y;++x)(_=p[x]||g[x])&&(b[x]=_);for(;m<s;++m)f[m]=n[m];return new Ln(f,this._parents,this._name,this._id)}function pT(a){return(a+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function yT(a,n,r){var s,o,c=pT(n)?ih:hn;return function(){var f=c(this,a),m=f.on;m!==s&&(o=(s=m).copy()).on(n,r),f.on=o}}function vT(a,n){var r=this._id;return arguments.length<2?nn(this.node(),r).on.on(a):this.each(yT(r,a,n))}function xT(a){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==a)return;n&&n.removeChild(this)}}function bT(){return this.on("end.remove",xT(this._id))}function _T(a){var n=this._name,r=this._id;typeof a!="function"&&(a=Ff(a));for(var s=this._groups,o=s.length,c=new Array(o),f=0;f<o;++f)for(var m=s[f],p=m.length,g=c[f]=new Array(p),y,b,_=0;_<p;++_)(y=m[_])&&(b=a.call(y,y.__data__,_,m))&&("__data__"in y&&(b.__data__=y.__data__),g[_]=b,Mo(g[_],n,r,_,g,nn(y,r)));return new Ln(c,this._parents,n,r)}function wT(a){var n=this._name,r=this._id;typeof a!="function"&&(a=Ey(a));for(var s=this._groups,o=s.length,c=[],f=[],m=0;m<o;++m)for(var p=s[m],g=p.length,y,b=0;b<g;++b)if(y=p[b]){for(var _=a.call(y,y.__data__,b,p),x,j=nn(y,r),S=0,N=_.length;S<N;++S)(x=_[S])&&Mo(x,n,r,S,_,j);c.push(_),f.push(y)}return new Ln(c,f,n,r)}var ST=Es.prototype.constructor;function NT(){return new ST(this._groups,this._parents)}function jT(a,n){var r,s,o;return function(){var c=Pi(this,a),f=(this.style.removeProperty(a),Pi(this,a));return c===f?null:c===r&&f===s?o:o=n(r=c,s=f)}}function Qy(a){return function(){this.style.removeProperty(a)}}function ET(a,n,r){var s,o=r+"",c;return function(){var f=Pi(this,a);return f===o?null:f===s?c:c=n(s=f,r)}}function TT(a,n,r){var s,o,c;return function(){var f=Pi(this,a),m=r(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(a),Pi(this,a))),f===p?null:f===s&&p===o?c:(o=p,c=n(s=f,m))}}function AT(a,n){var r,s,o,c="style."+n,f="end."+c,m;return function(){var p=hn(this,a),g=p.on,y=p.value[c]==null?m||(m=Qy(n)):void 0;(g!==r||o!==y)&&(s=(r=g).copy()).on(f,o=y),p.on=s}}function RT(a,n,r){var s=(a+="")=="transform"?RE:Py;return n==null?this.styleTween(a,jT(a,s)).on("end.style."+a,Qy(a)):typeof n=="function"?this.styleTween(a,TT(a,s,rh(this,"style."+a,n))).each(AT(this._id,a)):this.styleTween(a,ET(a,s,n),r).on("end.style."+a,null)}function OT(a,n,r){return function(s){this.style.setProperty(a,n.call(this,s),r)}}function CT(a,n,r){var s,o;function c(){var f=n.apply(this,arguments);return f!==o&&(s=(o=f)&&OT(a,f,r)),s}return c._value=n,c}function kT(a,n,r){var s="style."+(a+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,CT(a,n,r??""))}function DT(a){return function(){this.textContent=a}}function MT(a){return function(){var n=a(this);this.textContent=n??""}}function UT(a){return this.tween("text",typeof a=="function"?MT(rh(this,"text",a)):DT(a==null?"":a+""))}function zT(a){return function(n){this.textContent=a.call(this,n)}}function LT(a){var n,r;function s(){var o=a.apply(this,arguments);return o!==r&&(n=(r=o)&&zT(o)),n}return s._value=a,s}function $T(a){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(a==null)return this.tween(n,null);if(typeof a!="function")throw new Error;return this.tween(n,LT(a))}function BT(){for(var a=this._name,n=this._id,r=Jy(),s=this._groups,o=s.length,c=0;c<o;++c)for(var f=s[c],m=f.length,p,g=0;g<m;++g)if(p=f[g]){var y=nn(p,n);Mo(p,a,r,g,f,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Ln(s,this._parents,a,r)}function qT(){var a,n,r=this,s=r._id,o=r.size();return new Promise(function(c,f){var m={value:f},p={value:function(){--o===0&&c()}};r.each(function(){var g=hn(this,s),y=g.on;y!==a&&(n=(a=y).copy(),n._.cancel.push(m),n._.interrupt.push(m),n._.end.push(p)),g.on=n}),o===0&&c()})}var HT=0;function Ln(a,n,r,s){this._groups=a,this._parents=n,this._name=r,this._id=s}function Jy(){return++HT}var Cn=Es.prototype;Ln.prototype={constructor:Ln,select:_T,selectAll:wT,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:mT,merge:gT,selection:NT,transition:BT,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:vT,attr:WE,attrTween:aT,style:RT,styleTween:kT,text:UT,textTween:$T,remove:bT,tween:KE,delay:sT,duration:cT,ease:fT,easeVarying:dT,end:qT,[Symbol.iterator]:Cn[Symbol.iterator]};function GT(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var VT={time:null,delay:0,duration:250,ease:GT};function YT(a,n){for(var r;!(r=a.__transition)||!(r=r[n]);)if(!(a=a.parentNode))throw new Error(`transition ${n} not found`);return r}function KT(a){var n,r;a instanceof Ln?(n=a._id,a=a._name):(n=Jy(),(r=VT).time=nh(),a=a==null?null:a+"");for(var s=this._groups,o=s.length,c=0;c<o;++c)for(var f=s[c],m=f.length,p,g=0;g<m;++g)(p=f[g])&&Mo(p,a,n,g,f,r||YT(p,n));return new Ln(s,this._parents,a,n)}Es.prototype.interrupt=GE;Es.prototype.transition=KT;function XT(a,n){var r,s=1;a==null&&(a=0),n==null&&(n=0);function o(){var c,f=r.length,m,p=0,g=0;for(c=0;c<f;++c)m=r[c],p+=m.x,g+=m.y;for(p=(p/f-a)*s,g=(g/f-n)*s,c=0;c<f;++c)m=r[c],m.x-=p,m.y-=g}return o.initialize=function(c){r=c},o.x=function(c){return arguments.length?(a=+c,o):a},o.y=function(c){return arguments.length?(n=+c,o):n},o.strength=function(c){return arguments.length?(s=+c,o):s},o}function IT(a){const n=+this._x.call(null,a),r=+this._y.call(null,a);return Zy(this.cover(n,r),n,r,a)}function Zy(a,n,r,s){if(isNaN(n)||isNaN(r))return a;var o,c=a._root,f={data:s},m=a._x0,p=a._y0,g=a._x1,y=a._y1,b,_,x,j,S,N,E,T;if(!c)return a._root=f,a;for(;c.length;)if((S=n>=(b=(m+g)/2))?m=b:g=b,(N=r>=(_=(p+y)/2))?p=_:y=_,o=c,!(c=c[E=N<<1|S]))return o[E]=f,a;if(x=+a._x.call(null,c.data),j=+a._y.call(null,c.data),n===x&&r===j)return f.next=c,o?o[E]=f:a._root=f,a;do o=o?o[E]=new Array(4):a._root=new Array(4),(S=n>=(b=(m+g)/2))?m=b:g=b,(N=r>=(_=(p+y)/2))?p=_:y=_;while((E=N<<1|S)===(T=(j>=_)<<1|x>=b));return o[T]=c,o[E]=f,a}function PT(a){var n,r,s=a.length,o,c,f=new Array(s),m=new Array(s),p=1/0,g=1/0,y=-1/0,b=-1/0;for(r=0;r<s;++r)isNaN(o=+this._x.call(null,n=a[r]))||isNaN(c=+this._y.call(null,n))||(f[r]=o,m[r]=c,o<p&&(p=o),o>y&&(y=o),c<g&&(g=c),c>b&&(b=c));if(p>y||g>b)return this;for(this.cover(p,g).cover(y,b),r=0;r<s;++r)Zy(this,f[r],m[r],a[r]);return this}function QT(a,n){if(isNaN(a=+a)||isNaN(n=+n))return this;var r=this._x0,s=this._y0,o=this._x1,c=this._y1;if(isNaN(r))o=(r=Math.floor(a))+1,c=(s=Math.floor(n))+1;else{for(var f=o-r||1,m=this._root,p,g;r>a||a>=o||s>n||n>=c;)switch(g=(n<s)<<1|a<r,p=new Array(4),p[g]=m,m=p,f*=2,g){case 0:o=r+f,c=s+f;break;case 1:r=o-f,c=s+f;break;case 2:o=r+f,s=c-f;break;case 3:r=o-f,s=c-f;break}this._root&&this._root.length&&(this._root=m)}return this._x0=r,this._y0=s,this._x1=o,this._y1=c,this}function JT(){var a=[];return this.visit(function(n){if(!n.length)do a.push(n.data);while(n=n.next)}),a}function ZT(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function mt(a,n,r,s,o){this.node=a,this.x0=n,this.y0=r,this.x1=s,this.y1=o}function WT(a,n,r){var s,o=this._x0,c=this._y0,f,m,p,g,y=this._x1,b=this._y1,_=[],x=this._root,j,S;for(x&&_.push(new mt(x,o,c,y,b)),r==null?r=1/0:(o=a-r,c=n-r,y=a+r,b=n+r,r*=r);j=_.pop();)if(!(!(x=j.node)||(f=j.x0)>y||(m=j.y0)>b||(p=j.x1)<o||(g=j.y1)<c))if(x.length){var N=(f+p)/2,E=(m+g)/2;_.push(new mt(x[3],N,E,p,g),new mt(x[2],f,E,N,g),new mt(x[1],N,m,p,E),new mt(x[0],f,m,N,E)),(S=(n>=E)<<1|a>=N)&&(j=_[_.length-1],_[_.length-1]=_[_.length-1-S],_[_.length-1-S]=j)}else{var T=a-+this._x.call(null,x.data),D=n-+this._y.call(null,x.data),R=T*T+D*D;if(R<r){var L=Math.sqrt(r=R);o=a-L,c=n-L,y=a+L,b=n+L,s=x.data}}return s}function FT(a){if(isNaN(y=+this._x.call(null,a))||isNaN(b=+this._y.call(null,a)))return this;var n,r=this._root,s,o,c,f=this._x0,m=this._y0,p=this._x1,g=this._y1,y,b,_,x,j,S,N,E;if(!r)return this;if(r.length)for(;;){if((j=y>=(_=(f+p)/2))?f=_:p=_,(S=b>=(x=(m+g)/2))?m=x:g=x,n=r,!(r=r[N=S<<1|j]))return this;if(!r.length)break;(n[N+1&3]||n[N+2&3]||n[N+3&3])&&(s=n,E=N)}for(;r.data!==a;)if(o=r,!(r=r.next))return this;return(c=r.next)&&delete r.next,o?(c?o.next=c:delete o.next,this):n?(c?n[N]=c:delete n[N],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(s?s[E]=r:this._root=r),this):(this._root=c,this)}function eA(a){for(var n=0,r=a.length;n<r;++n)this.remove(a[n]);return this}function tA(){return this._root}function nA(){var a=0;return this.visit(function(n){if(!n.length)do++a;while(n=n.next)}),a}function aA(a){var n=[],r,s=this._root,o,c,f,m,p;for(s&&n.push(new mt(s,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!a(s=r.node,c=r.x0,f=r.y0,m=r.x1,p=r.y1)&&s.length){var g=(c+m)/2,y=(f+p)/2;(o=s[3])&&n.push(new mt(o,g,y,m,p)),(o=s[2])&&n.push(new mt(o,c,y,g,p)),(o=s[1])&&n.push(new mt(o,g,f,m,y)),(o=s[0])&&n.push(new mt(o,c,f,g,y))}return this}function iA(a){var n=[],r=[],s;for(this._root&&n.push(new mt(this._root,this._x0,this._y0,this._x1,this._y1));s=n.pop();){var o=s.node;if(o.length){var c,f=s.x0,m=s.y0,p=s.x1,g=s.y1,y=(f+p)/2,b=(m+g)/2;(c=o[0])&&n.push(new mt(c,f,m,y,b)),(c=o[1])&&n.push(new mt(c,y,m,p,b)),(c=o[2])&&n.push(new mt(c,f,b,y,g)),(c=o[3])&&n.push(new mt(c,y,b,p,g))}r.push(s)}for(;s=r.pop();)a(s.node,s.x0,s.y0,s.x1,s.y1);return this}function rA(a){return a[0]}function sA(a){return arguments.length?(this._x=a,this):this._x}function lA(a){return a[1]}function oA(a){return arguments.length?(this._y=a,this):this._y}function sh(a,n,r){var s=new lh(n??rA,r??lA,NaN,NaN,NaN,NaN);return a==null?s:s.addAll(a)}function lh(a,n,r,s,o,c){this._x=a,this._y=n,this._x0=r,this._y0=s,this._x1=o,this._y1=c,this._root=void 0}function Sp(a){for(var n={data:a.data},r=n;a=a.next;)r=r.next={data:a.data};return n}var gt=sh.prototype=lh.prototype;gt.copy=function(){var a=new lh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,s;if(!n)return a;if(!n.length)return a._root=Sp(n),a;for(r=[{source:n,target:a._root=new Array(4)}];n=r.pop();)for(var o=0;o<4;++o)(s=n.source[o])&&(s.length?r.push({source:s,target:n.target[o]=new Array(4)}):n.target[o]=Sp(s));return a};gt.add=IT;gt.addAll=PT;gt.cover=QT;gt.data=JT;gt.extent=ZT;gt.find=WT;gt.remove=FT;gt.removeAll=eA;gt.root=tA;gt.size=nA;gt.visit=aA;gt.visitAfter=iA;gt.x=sA;gt.y=oA;function Ia(a){return function(){return a}}function ma(a){return(a()-.5)*1e-6}function cA(a){return a.x+a.vx}function uA(a){return a.y+a.vy}function fA(a){var n,r,s,o=1,c=1;typeof a!="function"&&(a=Ia(a==null?1:+a));function f(){for(var g,y=n.length,b,_,x,j,S,N,E=0;E<c;++E)for(b=sh(n,cA,uA).visitAfter(m),g=0;g<y;++g)_=n[g],S=r[_.index],N=S*S,x=_.x+_.vx,j=_.y+_.vy,b.visit(T);function T(D,R,L,Z,J){var ie=D.data,K=D.r,Q=S+K;if(ie){if(ie.index>_.index){var re=x-ie.x-ie.vx,le=j-ie.y-ie.vy,_e=re*re+le*le;_e<Q*Q&&(re===0&&(re=ma(s),_e+=re*re),le===0&&(le=ma(s),_e+=le*le),_e=(Q-(_e=Math.sqrt(_e)))/_e*o,_.vx+=(re*=_e)*(Q=(K*=K)/(N+K)),_.vy+=(le*=_e)*Q,ie.vx-=re*(Q=1-Q),ie.vy-=le*Q)}return}return R>x+Q||Z<x-Q||L>j+Q||J<j-Q}}function m(g){if(g.data)return g.r=r[g.data.index];for(var y=g.r=0;y<4;++y)g[y]&&g[y].r>g.r&&(g.r=g[y].r)}function p(){if(n){var g,y=n.length,b;for(r=new Array(y),g=0;g<y;++g)b=n[g],r[b.index]=+a(b,g,n)}}return f.initialize=function(g,y){n=g,s=y,p()},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(o=+g,f):o},f.radius=function(g){return arguments.length?(a=typeof g=="function"?g:Ia(+g),p(),f):a},f}function hA(a){return a.index}function Np(a,n){var r=a.get(n);if(!r)throw new Error("node not found: "+n);return r}function dA(a){var n=hA,r=b,s,o=Ia(30),c,f,m,p,g,y=1;a==null&&(a=[]);function b(N){return 1/Math.min(m[N.source.index],m[N.target.index])}function _(N){for(var E=0,T=a.length;E<y;++E)for(var D=0,R,L,Z,J,ie,K,Q;D<T;++D)R=a[D],L=R.source,Z=R.target,J=Z.x+Z.vx-L.x-L.vx||ma(g),ie=Z.y+Z.vy-L.y-L.vy||ma(g),K=Math.sqrt(J*J+ie*ie),K=(K-c[D])/K*N*s[D],J*=K,ie*=K,Z.vx-=J*(Q=p[D]),Z.vy-=ie*Q,L.vx+=J*(Q=1-Q),L.vy+=ie*Q}function x(){if(f){var N,E=f.length,T=a.length,D=new Map(f.map((L,Z)=>[n(L,Z,f),L])),R;for(N=0,m=new Array(E);N<T;++N)R=a[N],R.index=N,typeof R.source!="object"&&(R.source=Np(D,R.source)),typeof R.target!="object"&&(R.target=Np(D,R.target)),m[R.source.index]=(m[R.source.index]||0)+1,m[R.target.index]=(m[R.target.index]||0)+1;for(N=0,p=new Array(T);N<T;++N)R=a[N],p[N]=m[R.source.index]/(m[R.source.index]+m[R.target.index]);s=new Array(T),j(),c=new Array(T),S()}}function j(){if(f)for(var N=0,E=a.length;N<E;++N)s[N]=+r(a[N],N,a)}function S(){if(f)for(var N=0,E=a.length;N<E;++N)c[N]=+o(a[N],N,a)}return _.initialize=function(N,E){f=N,g=E,x()},_.links=function(N){return arguments.length?(a=N,x(),_):a},_.id=function(N){return arguments.length?(n=N,_):n},_.iterations=function(N){return arguments.length?(y=+N,_):y},_.strength=function(N){return arguments.length?(r=typeof N=="function"?N:Ia(+N),j(),_):r},_.distance=function(N){return arguments.length?(o=typeof N=="function"?N:Ia(+N),S(),_):o},_}const mA=1664525,gA=1013904223,jp=4294967296;function pA(){let a=1;return()=>(a=(mA*a+gA)%jp)/jp}function yA(a){return a.x}function vA(a){return a.y}var xA=10,bA=Math.PI*(3-Math.sqrt(5));function _A(a){var n,r=1,s=.001,o=1-Math.pow(s,1/300),c=0,f=.6,m=new Map,p=ah(b),g=js("tick","end"),y=pA();a==null&&(a=[]);function b(){_(),g.call("tick",n),r<s&&(p.stop(),g.call("end",n))}function _(S){var N,E=a.length,T;S===void 0&&(S=1);for(var D=0;D<S;++D)for(r+=(c-r)*o,m.forEach(function(R){R(r)}),N=0;N<E;++N)T=a[N],T.fx==null?T.x+=T.vx*=f:(T.x=T.fx,T.vx=0),T.fy==null?T.y+=T.vy*=f:(T.y=T.fy,T.vy=0);return n}function x(){for(var S=0,N=a.length,E;S<N;++S){if(E=a[S],E.index=S,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var T=xA*Math.sqrt(.5+S),D=S*bA;E.x=T*Math.cos(D),E.y=T*Math.sin(D)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function j(S){return S.initialize&&S.initialize(a,y),S}return x(),n={tick:_,restart:function(){return p.restart(b),n},stop:function(){return p.stop(),n},nodes:function(S){return arguments.length?(a=S,x(),m.forEach(j),n):a},alpha:function(S){return arguments.length?(r=+S,n):r},alphaMin:function(S){return arguments.length?(s=+S,n):s},alphaDecay:function(S){return arguments.length?(o=+S,n):+o},alphaTarget:function(S){return arguments.length?(c=+S,n):c},velocityDecay:function(S){return arguments.length?(f=1-S,n):1-f},randomSource:function(S){return arguments.length?(y=S,m.forEach(j),n):y},force:function(S,N){return arguments.length>1?(N==null?m.delete(S):m.set(S,j(N)),n):m.get(S)},find:function(S,N,E){var T=0,D=a.length,R,L,Z,J,ie;for(E==null?E=1/0:E*=E,T=0;T<D;++T)J=a[T],R=S-J.x,L=N-J.y,Z=R*R+L*L,Z<E&&(ie=J,E=Z);return ie},on:function(S,N){return arguments.length>1?(g.on(S,N),n):g.on(S)}}}function wA(){var a,n,r,s,o=Ia(-30),c,f=1,m=1/0,p=.81;function g(x){var j,S=a.length,N=sh(a,yA,vA).visitAfter(b);for(s=x,j=0;j<S;++j)n=a[j],N.visit(_)}function y(){if(a){var x,j=a.length,S;for(c=new Array(j),x=0;x<j;++x)S=a[x],c[S.index]=+o(S,x,a)}}function b(x){var j=0,S,N,E=0,T,D,R;if(x.length){for(T=D=R=0;R<4;++R)(S=x[R])&&(N=Math.abs(S.value))&&(j+=S.value,E+=N,T+=N*S.x,D+=N*S.y);x.x=T/E,x.y=D/E}else{S=x,S.x=S.data.x,S.y=S.data.y;do j+=c[S.data.index];while(S=S.next)}x.value=j}function _(x,j,S,N){if(!x.value)return!0;var E=x.x-n.x,T=x.y-n.y,D=N-j,R=E*E+T*T;if(D*D/p<R)return R<m&&(E===0&&(E=ma(r),R+=E*E),T===0&&(T=ma(r),R+=T*T),R<f&&(R=Math.sqrt(f*R)),n.vx+=E*x.value*s/R,n.vy+=T*x.value*s/R),!0;if(x.length||R>=m)return;(x.data!==n||x.next)&&(E===0&&(E=ma(r),R+=E*E),T===0&&(T=ma(r),R+=T*T),R<f&&(R=Math.sqrt(f*R)));do x.data!==n&&(D=c[x.data.index]*s/R,n.vx+=E*D,n.vy+=T*D);while(x=x.next)}return g.initialize=function(x,j){a=x,r=j,y()},g.strength=function(x){return arguments.length?(o=typeof x=="function"?x:Ia(+x),y(),g):o},g.distanceMin=function(x){return arguments.length?(f=x*x,g):Math.sqrt(f)},g.distanceMax=function(x){return arguments.length?(m=x*x,g):Math.sqrt(m)},g.theta=function(x){return arguments.length?(p=x*x,g):Math.sqrt(p)},g}const ro=a=>()=>a;function SA(a,{sourceEvent:n,target:r,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function Mn(a,n,r){this.k=a,this.x=n,this.y=r}Mn.prototype={constructor:Mn,scale:function(a){return a===1?this:new Mn(this.k*a,this.x,this.y)},translate:function(a,n){return a===0&n===0?this:new Mn(this.k,this.x+this.k*a,this.y+this.k*n)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wy=new Mn(1,0,0);Mn.prototype;function xf(a){a.stopImmediatePropagation()}function Zr(a){a.preventDefault(),a.stopImmediatePropagation()}function NA(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function jA(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function Ep(){return this.__zoom||Wy}function EA(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function TA(){return navigator.maxTouchPoints||"ontouchstart"in this}function AA(a,n,r){var s=a.invertX(n[0][0])-r[0][0],o=a.invertX(n[1][0])-r[1][0],c=a.invertY(n[0][1])-r[0][1],f=a.invertY(n[1][1])-r[1][1];return a.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),f>c?(c+f)/2:Math.min(0,c)||Math.max(0,f))}function RA(){var a=NA,n=jA,r=AA,s=EA,o=TA,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],m=250,p=ME,g=js("start","zoom","end"),y,b,_,x=500,j=150,S=0,N=10;function E(B){B.property("__zoom",Ep).on("wheel.zoom",ie,{passive:!1}).on("mousedown.zoom",K).on("dblclick.zoom",Q).filter(o).on("touchstart.zoom",re).on("touchmove.zoom",le).on("touchend.zoom touchcancel.zoom",_e).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(B,te,k,Y){var U=B.selection?B.selection():B;U.property("__zoom",Ep),B!==U?L(B,te,k,Y):U.interrupt().each(function(){Z(this,arguments).event(Y).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},E.scaleBy=function(B,te,k,Y){E.scaleTo(B,function(){var U=this.__zoom.k,W=typeof te=="function"?te.apply(this,arguments):te;return U*W},k,Y)},E.scaleTo=function(B,te,k,Y){E.transform(B,function(){var U=n.apply(this,arguments),W=this.__zoom,ae=k==null?R(U):typeof k=="function"?k.apply(this,arguments):k,O=W.invert(ae),V=typeof te=="function"?te.apply(this,arguments):te;return r(D(T(W,V),ae,O),U,f)},k,Y)},E.translateBy=function(B,te,k,Y){E.transform(B,function(){return r(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),f)},null,Y)},E.translateTo=function(B,te,k,Y,U){E.transform(B,function(){var W=n.apply(this,arguments),ae=this.__zoom,O=Y==null?R(W):typeof Y=="function"?Y.apply(this,arguments):Y;return r(Wy.translate(O[0],O[1]).scale(ae.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof k=="function"?-k.apply(this,arguments):-k),W,f)},Y,U)};function T(B,te){return te=Math.max(c[0],Math.min(c[1],te)),te===B.k?B:new Mn(te,B.x,B.y)}function D(B,te,k){var Y=te[0]-k[0]*B.k,U=te[1]-k[1]*B.k;return Y===B.x&&U===B.y?B:new Mn(B.k,Y,U)}function R(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function L(B,te,k,Y){B.on("start.zoom",function(){Z(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(Y).end()}).tween("zoom",function(){var U=this,W=arguments,ae=Z(U,W).event(Y),O=n.apply(U,W),V=k==null?R(O):typeof k=="function"?k.apply(U,W):k,ee=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),ne=U.__zoom,fe=typeof te=="function"?te.apply(U,W):te,ge=p(ne.invert(V).concat(ee/ne.k),fe.invert(V).concat(ee/fe.k));return function(ve){if(ve===1)ve=fe;else{var $e=ge(ve),Be=ee/$e[2];ve=new Mn(Be,V[0]-$e[0]*Be,V[1]-$e[1]*Be)}ae.zoom(null,ve)}})}function Z(B,te,k){return!k&&B.__zooming||new J(B,te)}function J(B,te){this.that=B,this.args=te,this.active=0,this.sourceEvent=null,this.extent=n.apply(B,te),this.taps=0}J.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,te){return this.mouse&&B!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var te=on(this.that).datum();g.call(B,this.that,new SA(B,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:g}),te)}};function ie(B,...te){if(!a.apply(this,arguments))return;var k=Z(this,te).event(B),Y=this.__zoom,U=Math.max(c[0],Math.min(c[1],Y.k*Math.pow(2,s.apply(this,arguments)))),W=Dn(B);if(k.wheel)(k.mouse[0][0]!==W[0]||k.mouse[0][1]!==W[1])&&(k.mouse[1]=Y.invert(k.mouse[0]=W)),clearTimeout(k.wheel);else{if(Y.k===U)return;k.mouse=[W,Y.invert(W)],ho(this),k.start()}Zr(B),k.wheel=setTimeout(ae,j),k.zoom("mouse",r(D(T(Y,U),k.mouse[0],k.mouse[1]),k.extent,f));function ae(){k.wheel=null,k.end()}}function K(B,...te){if(_||!a.apply(this,arguments))return;var k=B.currentTarget,Y=Z(this,te,!0).event(B),U=on(B.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",ee,!0),W=Dn(B,k),ae=B.clientX,O=B.clientY;Ly(B.view),xf(B),Y.mouse=[W,this.__zoom.invert(W)],ho(this),Y.start();function V(ne){if(Zr(ne),!Y.moved){var fe=ne.clientX-ae,ge=ne.clientY-O;Y.moved=fe*fe+ge*ge>S}Y.event(ne).zoom("mouse",r(D(Y.that.__zoom,Y.mouse[0]=Dn(ne,k),Y.mouse[1]),Y.extent,f))}function ee(ne){U.on("mousemove.zoom mouseup.zoom",null),$y(ne.view,Y.moved),Zr(ne),Y.event(ne).end()}}function Q(B,...te){if(a.apply(this,arguments)){var k=this.__zoom,Y=Dn(B.changedTouches?B.changedTouches[0]:B,this),U=k.invert(Y),W=k.k*(B.shiftKey?.5:2),ae=r(D(T(k,W),Y,U),n.apply(this,te),f);Zr(B),m>0?on(this).transition().duration(m).call(L,ae,Y,B):on(this).call(E.transform,ae,Y,B)}}function re(B,...te){if(a.apply(this,arguments)){var k=B.touches,Y=k.length,U=Z(this,te,B.changedTouches.length===Y).event(B),W,ae,O,V;for(xf(B),ae=0;ae<Y;++ae)O=k[ae],V=Dn(O,this),V=[V,this.__zoom.invert(V),O.identifier],U.touch0?!U.touch1&&U.touch0[2]!==V[2]&&(U.touch1=V,U.taps=0):(U.touch0=V,W=!0,U.taps=1+!!y);y&&(y=clearTimeout(y)),W&&(U.taps<2&&(b=V[0],y=setTimeout(function(){y=null},x)),ho(this),U.start())}}function le(B,...te){if(this.__zooming){var k=Z(this,te).event(B),Y=B.changedTouches,U=Y.length,W,ae,O,V;for(Zr(B),W=0;W<U;++W)ae=Y[W],O=Dn(ae,this),k.touch0&&k.touch0[2]===ae.identifier?k.touch0[0]=O:k.touch1&&k.touch1[2]===ae.identifier&&(k.touch1[0]=O);if(ae=k.that.__zoom,k.touch1){var ee=k.touch0[0],ne=k.touch0[1],fe=k.touch1[0],ge=k.touch1[1],ve=(ve=fe[0]-ee[0])*ve+(ve=fe[1]-ee[1])*ve,$e=($e=ge[0]-ne[0])*$e+($e=ge[1]-ne[1])*$e;ae=T(ae,Math.sqrt(ve/$e)),O=[(ee[0]+fe[0])/2,(ee[1]+fe[1])/2],V=[(ne[0]+ge[0])/2,(ne[1]+ge[1])/2]}else if(k.touch0)O=k.touch0[0],V=k.touch0[1];else return;k.zoom("touch",r(D(ae,O,V),k.extent,f))}}function _e(B,...te){if(this.__zooming){var k=Z(this,te).event(B),Y=B.changedTouches,U=Y.length,W,ae;for(xf(B),_&&clearTimeout(_),_=setTimeout(function(){_=null},x),W=0;W<U;++W)ae=Y[W],k.touch0&&k.touch0[2]===ae.identifier?delete k.touch0:k.touch1&&k.touch1[2]===ae.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(ae=Dn(ae,this),Math.hypot(b[0]-ae[0],b[1]-ae[1])<N)){var O=on(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return E.wheelDelta=function(B){return arguments.length?(s=typeof B=="function"?B:ro(+B),E):s},E.filter=function(B){return arguments.length?(a=typeof B=="function"?B:ro(!!B),E):a},E.touchable=function(B){return arguments.length?(o=typeof B=="function"?B:ro(!!B),E):o},E.extent=function(B){return arguments.length?(n=typeof B=="function"?B:ro([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),E):n},E.scaleExtent=function(B){return arguments.length?(c[0]=+B[0],c[1]=+B[1],E):[c[0],c[1]]},E.translateExtent=function(B){return arguments.length?(f[0][0]=+B[0][0],f[1][0]=+B[1][0],f[0][1]=+B[0][1],f[1][1]=+B[1][1],E):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},E.constrain=function(B){return arguments.length?(r=B,E):r},E.duration=function(B){return arguments.length?(m=+B,E):m},E.interpolate=function(B){return arguments.length?(p=B,E):p},E.on=function(){var B=g.on.apply(g,arguments);return B===g?E:B},E.clickDistance=function(B){return arguments.length?(S=(B=+B)*B,E):Math.sqrt(S)},E.tapDistance=function(B){return arguments.length?(N=+B,E):N},E}const Tp={resource:"#10b981",event:"#f59e0b",agent:"#3b82f6"},Ap={idea:"#8b5cf6",proposal:"#ec4899",commitment:"#ef4444",question:"#06b6d4",pattern:"#14b8a6",reflection:"#6366f1"},so={e:"#4a8c6f",H:"#c4956a",L:"#c3fd50",A:"#8bbfff",M:"#7ccfb8",T:"#e8927c"},Rp={e:"e/ Environment",H:"H/ Human",L:"L/ Language",A:"A/ Artifacts",M:"M/ Methodology",T:"T/ Training"},Op=["e","H","L","A","M","T"];function OA(){const[a,n]=A.useState(null),[r,s]=A.useState(!0),[o,c]=A.useState("rea"),f=A.useRef(null),[m,p]=A.useState(null);if(A.useEffect(()=>{async function _(){const[{data:x},{data:j},{data:S}]=await Promise.all([F.from("artifacts").select("id, title, type, rea_role").order("created_at",{ascending:!1}).limit(200),F.from("artifact_relationships").select("from_artifact_id, to_artifact_id, type").limit(400),F.from("artifact_tags").select("artifact_id, tags!inner(name)")]),N=(S||[]).filter(L=>L.tags?.name?.startsWith("hlamt:")).map(L=>({artifact_id:L.artifact_id,dimension:L.tags.name.replace("hlamt:",""),weight:1}));if(!x){s(!1);return}const E={};for(const L of N||[])E[L.artifact_id]=(E[L.artifact_id]||0)+1;const T=x.map(L=>({id:L.id,title:L.title,type:L.type,rea_role:L.rea_role||"resource",dimensionDegree:E[L.id]||0}));for(const L of Op)T.push({id:`dim-${L}`,title:Rp[L],type:"dimension",rea_role:"dimension",isDimension:!0,dimensionLabel:L,dimensionColor:so[L]});const D=new Set(T.map(L=>L.id)),R=(j||[]).filter(L=>D.has(L.from_artifact_id)&&D.has(L.to_artifact_id)).map(L=>({source:L.from_artifact_id,target:L.to_artifact_id,type:L.type}));for(const L of N||[])D.has(L.artifact_id)&&R.push({source:L.artifact_id,target:`dim-${L.dimension}`,type:"dimension_link",weight:L.weight||.5});n({nodes:T,links:R}),s(!1)}_()},[]),A.useEffect(()=>{if(!a||!f.current)return;const _=on(f.current),x=f.current.clientWidth,j=f.current.clientHeight;_.selectAll("*").remove();const S=_.append("g");_.append("defs").selectAll("marker").data(["end"]).enter().append("marker").attr("id","arrowhead").attr("viewBox","0 -5 10 10").attr("refX",20).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#666");const N=x/2,E=j/2,T=Math.min(x,j)*.3,D=a.nodes.map((K,Q)=>{const re={...K};if(K.isDimension){const _e=Op.indexOf(K.dimensionLabel)/6*Math.PI*2-Math.PI/2;re.fx=N+T*Math.cos(_e),re.fy=E+T*Math.sin(_e)}return re}),R=_A(D).force("link",dA(a.links).id(K=>K.id).distance(K=>K.type==="dimension_link"?120:80)).force("charge",wA().strength(K=>K.isDimension?-600:-200)).force("center",XT(N,E).strength(.05)).force("collision",fA().radius(K=>K.isDimension?30:12)),L=S.append("g").selectAll("line").data(a.links).enter().append("line").attr("stroke",K=>{if(K.type==="dimension_link"){const Q=K.target.replace("dim-","");return so[Q]||"#666"}return"#666"}).attr("stroke-opacity",K=>K.type==="dimension_link"?.25:.3).attr("stroke-width",K=>K.type==="dimension_link"?(K.weight||.5)*3+1:1).attr("marker-end",K=>K.type==="dimension_link"?null:"url(#arrowhead)"),Z=S.append("g").selectAll("circle").data(D).enter().append("circle").attr("r",K=>{if(K.isDimension)return 22;const Q=K.dimensionDegree||0;return Math.min(14,Math.max(6,6+Q*1.5))}).attr("fill",K=>{if(K.isDimension)return K.dimensionColor;if(o==="rea")return Tp[K.rea_role]||"#999";if(o==="type")return Ap[K.type]||"#999";const Q=a.links.filter(re=>(typeof re.source=="string"?re.source:re.source.id)===K.id&&re.type==="dimension_link");if(Q.length>0){const re=Q.reduce((_e,B)=>(B.weight||0)>(_e.weight||0)?B:_e),le=(typeof re.target=="string"?re.target:re.target.id).replace("dim-","");return so[le]||"#999"}return"#555"}).attr("stroke",K=>K.isDimension?"#fff":"#000").attr("stroke-width",K=>K.isDimension?2:1.5).attr("stroke-opacity",K=>K.isDimension?.3:1).style("cursor","pointer").on("click",(K,Q)=>{Q.isDimension||p(Q)}).call(oE().on("start",(K,Q)=>{K.active||R.alphaTarget(.3).restart(),Q.isDimension||(Q.fx=Q.x,Q.fy=Q.y)}).on("drag",(K,Q)=>{Q.isDimension||(Q.fx=K.x,Q.fy=K.y)}).on("end",(K,Q)=>{K.active||R.alphaTarget(0),Q.isDimension||(Q.fx=null,Q.fy=null)}));Z.append("title").text(K=>K.title);const J=S.append("g").selectAll("text").data(D.filter(K=>K.isDimension)).enter().append("text").attr("text-anchor","middle").attr("dominant-baseline","central").attr("fill","#0f0f0f").attr("font-size","12px").attr("font-weight","bold").attr("pointer-events","none").text(K=>`${K.dimensionLabel}/`);R.on("tick",()=>{L.attr("x1",K=>K.source.x).attr("y1",K=>K.source.y).attr("x2",K=>K.target.x).attr("y2",K=>K.target.y),Z.attr("cx",K=>K.x).attr("cy",K=>K.y),J.attr("x",K=>K.x).attr("y",K=>K.y)});const ie=RA().scaleExtent([.1,4]).on("zoom",K=>{S.attr("transform",K.transform)});_.call(ie)},[a,o]),r)return h.jsx("div",{className:"h-[600px] flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(F0,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Loading knowledge graph..."})]})});if(!a||a.nodes.length===0)return h.jsx("div",{className:"h-[600px] flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(F0,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-400",children:"No artifacts in the graph yet"})]})});const g=a.nodes.filter(_=>!_.isDimension).length,y=a.links.filter(_=>_.type!=="dimension_link").length,b=a.links.filter(_=>_.type==="dimension_link").length;return h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),h.jsxs("p",{className:"text-sm text-gray-400",children:[g," artifacts, ",y," relationships, ",b," dimension links"]})]}),h.jsx("div",{className:"flex gap-2",children:["rea","type","dimension"].map(_=>h.jsx("button",{onClick:()=>c(_),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${o===_?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:_==="rea"?"REA":_==="type"?"Type":"Dimension"},_))})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-1 bg-[#0a0a0a] border border-[#262626] rounded-lg overflow-hidden",children:h.jsx("svg",{ref:f,className:"w-full h-[600px]"})}),m&&h.jsxs("div",{className:"w-64 bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[h.jsx("h3",{className:"font-bold mb-2",children:m.title}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Type:"}),h.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#262626] text-xs",children:m.type})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"REA Role:"}),h.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#262626] text-xs",children:m.rea_role})]}),(m.dimensionDegree||0)>0&&h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Dimensions:"}),h.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#262626] text-xs",children:m.dimensionDegree})]}),h.jsx("button",{onClick:()=>window.location.href=`/app/artifact/${m.id}`,className:"w-full mt-4 px-3 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm",children:"View details"})]})]})]}),h.jsxs("div",{className:"flex gap-4 text-xs flex-wrap",children:[o==="rea"&&h.jsx("div",{className:"flex gap-4",children:Object.entries(Tp).map(([_,x])=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x}}),h.jsx("span",{className:"text-gray-400 capitalize",children:_})]},_))}),o==="type"&&h.jsx("div",{className:"flex gap-4",children:Object.entries(Ap).map(([_,x])=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x}}),h.jsx("span",{className:"text-gray-400 capitalize",children:_})]},_))}),o==="dimension"&&h.jsx("div",{className:"flex gap-4",children:Object.entries(so).map(([_,x])=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x}}),h.jsx("span",{className:"text-gray-400",children:Rp[_]})]},_))})]})]})}const CA={resource:"text-green-400",event:"text-amber-400",agent:"text-blue-400"};function kA(){const[a,n]=A.useState([]),[r,s]=A.useState([]),[o,c]=A.useState(!0),[f,m]=A.useState("hotspots");if(A.useEffect(()=>{async function g(){const[b,_]=await Promise.all([F.from("coordination_hotspots").select("*").limit(20),F.from("coordination_matches").select("*").limit(50)]);n(b.data||[]),s(_.data||[]),c(!1)}g();const y=F.channel("coordination").on("postgres_changes",{event:"*",schema:"public",table:"coordination_interests"},()=>g()).subscribe();return()=>{F.removeChannel(y)}},[]),o)return h.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[h.jsx(Ya,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Loading coordination signals..."})]});const p=a.length===0&&r.length===0;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coordination"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"See what the community wants to coordinate around. Click the handshake icon on any artifact to signal your interest."})]}),p?h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-8 text-center",children:[h.jsx(Ya,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),h.jsx("h2",{className:"text-lg font-bold mb-2",children:"No coordination signals yet"}),h.jsx("p",{className:"text-gray-400 text-sm max-w-md mx-auto mb-4",children:"Browse the Explore page and click the handshake icon on artifacts you want to coordinate around. When multiple participants signal interest in the same artifact, matches appear here."}),h.jsx(ye,{to:"/",className:"inline-block px-6 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm",children:"Explore artifacts"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 mb-6",children:[h.jsxs("button",{onClick:()=>m("hotspots"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${f==="hotspots"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:[h.jsx(cS,{className:"w-4 h-4"}),"Hotspots (",a.length,")"]}),h.jsxs("button",{onClick:()=>m("matches"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${f==="matches"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:[h.jsx(Zf,{className:"w-4 h-4"}),"Matches (",r.length,")"]})]}),f==="hotspots"&&h.jsx("div",{className:"space-y-3",children:a.map(g=>h.jsx(ye,{to:`/artifact/${g.artifact_id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#c3fd50]/30 transition-colors",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`text-xs ${CA[g.rea_role]||"text-gray-400"}`,children:g.rea_role}),h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:g.type})]}),h.jsx("h3",{className:"font-medium text-sm mb-1",children:g.title}),g.summary&&h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:g.summary}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:g.interested_participants.map((y,b)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#c3fd50]/10 text-[#c3fd50]",children:y},b))})]}),h.jsxs("div",{className:"flex items-center gap-1 text-[#c3fd50]",children:[h.jsx(Ya,{className:"w-4 h-4"}),h.jsx("span",{className:"text-lg font-bold",children:g.interest_count})]})]})},g.artifact_id))}),f==="matches"&&h.jsx("div",{className:"space-y-3",children:r.map((g,y)=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"text-sm font-medium text-[#c3fd50]",children:g.participant_a}),h.jsx(Ya,{className:"w-4 h-4 text-gray-500"}),h.jsx("span",{className:"text-sm font-medium text-[#c3fd50]",children:g.participant_b})]}),h.jsxs(ye,{to:`/artifact/${g.artifact_id}`,className:"text-xs text-gray-400 hover:text-white transition-colors",children:["Shared interest: ",g.shared_interest]})]},y))})]})]})}const DA={resource:"bg-green-500",event:"bg-amber-500",agent:"bg-blue-500"};function MA(){const[a,n]=A.useState({totalArtifacts:0,totalParticipants:0,totalRelationships:0,recentContributions:0}),[r,s]=A.useState([]),[o,c]=A.useState([]),f=async()=>{const{count:y}=await F.from("artifacts").select("*",{count:"exact",head:!0}),{count:b}=await F.from("artifacts").select("*",{count:"exact",head:!0}).eq("rea_role","agent").eq("agent_type","human"),{count:_}=await F.from("artifact_relationships").select("*",{count:"exact",head:!0}),x=new Date(Date.now()-3600*1e3).toISOString(),{count:j}=await F.from("contributions").select("*",{count:"exact",head:!0}).gte("created_at",x);n({totalArtifacts:y||0,totalParticipants:b||0,totalRelationships:_||0,recentContributions:j||0})},m=async()=>{const{data:y}=await F.from("artifacts").select("id, title, created_at, rea_role").order("created_at",{ascending:!1}).limit(8);y&&s(y)},p=async()=>{const{data:y}=await F.from("artifact_tags").select("tag").like("tag","hlamt:%");if(y){const b={};y.forEach(j=>{const S=j.tag.split(":")[1];b[S]=(b[S]||0)+1});const _={E:"bg-emerald-500",H:"bg-violet-500",L:"bg-pink-500",A:"bg-cyan-500",M:"bg-amber-500",T:"bg-orange-500"},x=Object.entries(b).map(([j,S])=>({dimension:j,count:S,color:_[j]||"bg-gray-500"}));x.sort((j,S)=>S.count-j.count),c(x)}};A.useEffect(()=>{f(),m(),p();const y=setInterval(()=>{f(),m(),p()},1e4),b=F.channel("dashboard-updates").on("postgres_changes",{event:"*",schema:"public",table:"artifacts"},f).on("postgres_changes",{event:"*",schema:"public",table:"contributions"},f).on("postgres_changes",{event:"*",schema:"public",table:"relationships"},f).subscribe();return()=>{clearInterval(y),F.removeChannel(b)}},[]);const g=y=>{const b=Math.floor((Date.now()-new Date(y).getTime())/1e3);if(b<60)return`${b}s`;const _=Math.floor(b/60);return _<60?`${_}m`:`${Math.floor(_/60)}h`};return h.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-gray-100 p-8",children:[h.jsxs("div",{className:"mb-8 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[h.jsx("div",{className:"text-[#c3fd50] font-bold text-5xl tracking-tight",children:"EthBoulder"}),h.jsx("div",{className:"text-gray-500 text-5xl",children:".commons.id"})]}),h.jsx("div",{className:"text-gray-500 text-lg",children:"Knowledge Graph  Live"})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(my,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.totalArtifacts}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Artifacts"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(Zf,{className:"w-8 h-8 text-violet-500"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.totalParticipants}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Participants"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(yy,{className:"w-8 h-8 text-cyan-500"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.totalRelationships}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Relationships"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(GS,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.recentContributions}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Last Hour"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-300",children:"Recent Artifacts"}),h.jsx("div",{className:"space-y-3",children:r.map(y=>h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#0f0f0f] rounded border border-gray-800",children:[h.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${DA[y.rea_role]}`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium text-gray-200 truncate",children:y.title}),h.jsxs("div",{className:"text-sm text-gray-500",children:[g(y.created_at)," ago"]})]})]},y.id))})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-300",children:"Dimension Distribution"}),h.jsx("div",{className:"space-y-4",children:o.map(y=>{const b=o[0]?.count||1,_=y.count/b*100;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-3 h-3 rounded ${y.color}`}),h.jsxs("span",{className:"text-gray-300 font-medium",children:[y.dimension,"/"]})]}),h.jsx("span",{className:"text-2xl font-bold",children:y.count})]}),h.jsx("div",{className:"w-full bg-[#0f0f0f] rounded-full h-2 overflow-hidden",children:h.jsx("div",{className:`h-full ${y.color} transition-all duration-500`,style:{width:`${_}%`}})})]},y.dimension)})})]})]}),h.jsxs("div",{className:"fixed bottom-6 right-6 flex items-center gap-2 bg-[#1a1a1a] border border-gray-800 rounded-full px-4 py-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-pulse"}),h.jsx("span",{className:"text-sm text-gray-400",children:"LIVE"})]})]})}function UA(){const[a,n]=iw(),[r,s]=A.useState(a.get("q")||""),[o,c]=A.useState([]),[f,m]=A.useState(!1),[p,g]=A.useState(!1);A.useEffect(()=>{const x=a.get("q");x&&x!==r&&(s(x),y(x))},[a]);const y=async x=>{if(!x.trim()){c([]),g(!1);return}m(!0),g(!0);try{const{data:j,error:S}=await F.rpc("search_content",{query_text:x});S?(console.error("Search error:",S),c([])):c(j||[])}catch(j){console.error("Search exception:",j),c([])}finally{m(!1)}},b=x=>{x.preventDefault(),r.trim()&&(n({q:r.trim()}),y(r.trim()))},_=x=>{const j=Math.floor((Date.now()-new Date(x).getTime())/1e3);if(j<60)return`${j}s ago`;const S=Math.floor(j/60);if(S<60)return`${S}m ago`;const N=Math.floor(S/60);return N<24?`${N}h ago`:`${Math.floor(N/24)}d ago`};return h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Search"}),h.jsxs("form",{onSubmit:b,className:"relative",children:[h.jsx("input",{type:"text",value:r,onChange:x=>s(x.target.value),placeholder:"Search artifacts and contributions...",className:"w-full px-4 py-3 pl-12 bg-[#1a1a1a] border border-[#262626] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50]",autoFocus:!0}),h.jsx(Fr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-1.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm font-medium",children:"Search"})]})]}),f&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Searching..."})]}),!f&&p&&o.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),h.jsxs("p",{className:"text-gray-400 mb-2",children:['No results found for "',r,'"']}),h.jsx("p",{className:"text-sm text-gray-500",children:"Try different keywords or check your spelling"})]}),!f&&o.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:[o.length," ",o.length===1?"result":"results",' for "',r,'"']}),h.jsx("div",{className:"space-y-4",children:o.map(x=>h.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#333] transition-colors",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"mt-1",children:x.result_type==="artifact"?h.jsx(lS,{className:"w-5 h-5 text-[#c3fd50]"}):h.jsx(vy,{className:"w-5 h-5 text-cyan-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[h.jsx(ye,{to:x.result_type==="artifact"?`/artifact/${x.id}`:"/me",className:"font-medium text-white hover:text-[#c3fd50] transition-colors",children:x.title}),h.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:_(x.created_at)})]}),h.jsx("div",{className:"text-sm text-gray-400 line-clamp-2",dangerouslySetInnerHTML:{__html:x.snippet}}),h.jsx("div",{className:"mt-2 flex items-center gap-2",children:h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:x.result_type})})]})]})},`${x.result_type}-${x.id}`))})]}),!p&&!f&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-400 mb-2",children:"Search the knowledge graph"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Enter keywords to find artifacts and contributions"})]})]})}const zA=[{key:"e",letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",tag:"hlamt:E"},{key:"H",letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",tag:"hlamt:H"},{key:"L",letter:"L/",name:"Language",desc:"How We Talk",color:"#c3fd50",tag:"hlamt:L"},{key:"A",letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",tag:"hlamt:A"},{key:"M",letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",tag:"hlamt:M"},{key:"T",letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",tag:"hlamt:T"}];function Cp(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function LA(){const{id:a}=jo(),[n,r]=A.useState(null),[s,o]=A.useState([]),[c,f]=A.useState({}),[m,p]=A.useState(!0),[g,y]=A.useState(null),[b,_]=A.useState(!1),[x,j]=A.useState([]),[S,N]=A.useState(!1),[E,T]=A.useState(""),[D,R]=A.useState(!1),[L,Z]=A.useState(null);A.useEffect(()=>{a&&J(a),F.auth.getSession().then(({data:{session:Q}})=>{Z(Q)})},[a]);async function J(Q){p(!0);const{data:re}=await F.from("contributions").select("*").eq("id",Q).single();if(!re){p(!1);return}if(r(re),re.participant_id){const{data:B}=await F.from("participants").select("name").eq("id",re.participant_id).single();B&&y(B.name)}const le=[];if(re.extraction?.artifacts&&re.processed_at){const B=re.extraction.artifacts.map(te=>te.title).filter(Boolean);if(B.length>0){const{data:te}=await F.from("artifacts").select("*").in("title",B).order("created_at",{ascending:!1});te&&le.push(...te)}}if(o(le),le.length>0){const B=le.map(U=>U.id),{data:te}=await F.from("artifact_tags").select("tag_id, tags(name)").in("artifact_id",B),k={};if(te)for(const U of te){const W=U.tags?.name;W?.startsWith("hlamt:")&&(k[W]=(k[W]||0)+1)}const Y=le.filter(U=>U.rea_role==="agent").length;Y>0&&(k["hlamt:H"]=(k["hlamt:H"]||0)+Y),f(k)}const{data:_e}=await F.rpc("get_contribution_thread",{p_contribution_id:Q});_e&&_e.length>1&&j(_e.slice(1)),p(!1)}async function ie(Q){if(Q.preventDefault(),!(!E.trim()||!L)){R(!0);try{const{data:re}=await F.from("participants").select("id").eq("auth_user_id",L.user.id).single(),{error:le}=await F.from("contributions").insert({content:E.trim(),participant_id:re?.id,parent_contribution_id:a,convergence_id:n?.extraction?.convergence_id||null,status:"pending"});if(le)throw le;T(""),N(!1),a&&await J(a)}catch(re){console.error("Reply submit error:",re),alert("Failed to submit reply. Please try again.")}finally{R(!1)}}}if(m)return h.jsx("div",{className:"text-center py-12",children:h.jsx(eo,{className:"w-8 h-8 text-gray-500 mx-auto animate-spin"})});if(!n)return h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-400",children:"Contribution not found"}),h.jsx(ye,{to:"/",className:"text-[#c3fd50] hover:text-white text-sm mt-2 inline-block",children:"Back to Explore"})]});const K=s.length>0;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-6",children:[h.jsx(ye,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Live Activity"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-white",children:"Contribution"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${n.status==="complete"?"bg-[#c3fd50]":n.status==="processing"?"bg-blue-400 animate-pulse":n.status==="error"?"bg-red-400":"bg-yellow-400"}`}),h.jsx("span",{className:"text-sm text-gray-400 capitalize",children:n.status}),h.jsx("span",{className:"text-gray-600",children:"|"}),h.jsx(py,{className:"w-3.5 h-3.5 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-400",children:Cp(n.created_at)}),g&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-gray-600",children:"|"}),h.jsx(ds,{className:"w-3.5 h-3.5 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-400",children:g})]})]}),h.jsx("div",{className:"text-gray-200 whitespace-pre-wrap leading-relaxed",children:n.content.length>300&&!b?h.jsxs(h.Fragment,{children:[n.content.slice(0,300).trimEnd(),"...",h.jsx("button",{onClick:()=>_(!0),className:"ml-2 text-[#c3fd50] hover:text-white text-sm font-medium",children:"View more"})]}):h.jsxs(h.Fragment,{children:[n.content,n.content.length>300&&h.jsx("button",{onClick:()=>_(!1),className:"ml-2 text-[#c3fd50] hover:text-white text-sm font-medium",children:"Show less"})]})})]}),K&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Observation Dimensions"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-2 mb-6",children:zA.map(Q=>{const re=c[Q.tag]??0;return h.jsxs("div",{className:`rounded-lg border border-[#262626] bg-[#1a1a1a] p-3 sm:p-4 text-center ${re>0?"border-opacity-100":"opacity-40"}`,style:re>0?{borderColor:Q.color+"40"}:void 0,children:[h.jsx("div",{className:"text-xs font-medium mb-1 truncate",style:{color:Q.color},children:Q.name}),h.jsxs("div",{className:"flex items-baseline justify-center gap-1 sm:gap-1.5",children:[h.jsx("span",{className:"font-mono text-xl sm:text-2xl font-bold",style:{color:Q.color},children:Q.letter}),h.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:re})]}),h.jsx("span",{className:"text-xs text-gray-400 block truncate",children:Q.desc})]},Q.key)})})]}),K&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Extracted Artifacts"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:s.map(Q=>h.jsxs(ye,{to:`/artifact/${Q.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:ga[Q.type]}}),h.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:Q.type}),Q.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[Q.rea_role],borderColor:un[Q.rea_role]+"40"},children:Ns[Q.rea_role]}),Q.agent_type&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:pa[Q.agent_type],borderColor:pa[Q.agent_type]+"40"},children:Co[Q.agent_type]})]}),h.jsx("h3",{className:"font-semibold text-white group-hover:text-[#c3fd50] transition-colors mb-1 text-sm",children:Q.title}),Q.summary&&h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:Q.summary})]},Q.id))})]}),n.status==="processing"&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-blue-500/20 rounded-lg p-6 text-center",children:[h.jsx(eo,{className:"w-8 h-8 text-blue-400 mx-auto mb-3 animate-spin"}),h.jsx("p",{className:"text-gray-300",children:"Extracting knowledge from this contribution..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Artifacts will appear here when processing completes."})]}),n.status==="error"&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-red-500/20 rounded-lg p-6",children:[h.jsx("p",{className:"text-red-400 mb-2",children:"Extraction failed"}),n.errors&&h.jsx("pre",{className:"text-xs text-gray-500 overflow-x-auto",children:JSON.stringify(n.errors,null,2)})]}),n.status==="pending"&&h.jsx("div",{className:"bg-[#1a1a1a] border border-yellow-500/20 rounded-lg p-6 text-center",children:h.jsx("p",{className:"text-yellow-400",children:"Waiting to be processed..."})}),x.length>0&&h.jsxs("div",{className:"mt-6 border-t border-[#262626] pt-6",children:[h.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(W0,{className:"w-5 h-5 text-[#c3fd50]"}),x.length," ",x.length===1?"Reply":"Replies"]}),h.jsx("div",{className:"space-y-3",children:x.map(Q=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",style:{marginLeft:`${Q.depth*20}px`},children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[h.jsx(ds,{className:"w-4 h-4"}),h.jsx("span",{children:Q.participant_name||"Anonymous"}),h.jsx("span",{className:"text-gray-600",children:""}),h.jsx("span",{children:Cp(Q.created_at)})]}),Q.status==="processing"&&h.jsx(eo,{className:"w-4 h-4 text-blue-400 animate-spin"})]}),h.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:Q.content})]},Q.id))})]}),h.jsx("div",{className:"mt-6 border-t border-[#262626] pt-6",children:S?h.jsxs("form",{onSubmit:ie,className:"space-y-3",children:[h.jsx("textarea",{value:E,onChange:Q=>T(Q.target.value),placeholder:"Share your thoughts, questions, or build on this contribution...",rows:4,autoFocus:!0,className:"w-full bg-[#0f0f0f] border border-[#333333] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#c3fd50] transition-colors resize-none"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{type:"submit",disabled:!E.trim()||D,className:"flex items-center gap-2 px-4 py-2 bg-[#c3fd50] text-[#0f0f0f] font-medium rounded-lg hover:bg-[#d4fe80] transition-colors disabled:opacity-50 text-sm",children:[D?h.jsx(eo,{className:"w-4 h-4 animate-spin"}):h.jsx(zS,{className:"w-4 h-4"}),D?"Submitting...":"Submit Reply"]}),h.jsx("button",{type:"button",onClick:()=>{N(!1),T("")},className:"px-4 py-2 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Cancel"})]})]}):h.jsxs("button",{onClick:()=>N(!0),disabled:!L,className:"flex items-center gap-2 px-4 py-2 bg-[#1a1a1a] border border-[#262626] rounded-lg hover:border-[#c3fd50] transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(W0,{className:"w-4 h-4"}),L?"Reply to this contribution":"Sign in to reply"]})})]})}const $A={"hlamt:E":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:H":{letter:"H/",name:"Human",color:"#c4956a"},"hlamt:L":{letter:"L/",name:"Language",color:"#c3fd50"},"hlamt:A":{letter:"A/",name:"Artifacts",color:"#8bbfff"},"hlamt:M":{letter:"M/",name:"Methodology",color:"#7ccfb8"},"hlamt:T":{letter:"T/",name:"Training",color:"#e8927c"}};function bf(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function BA(){const{id:a}=jo(),[n,r]=A.useState(null),[s,o]=A.useState([]),[c,f]=A.useState([]),[m,p]=A.useState({}),[g,y]=A.useState(!0);A.useEffect(()=>{a&&b()},[a]);async function b(){y(!0);const{data:x}=await F.from("participants").select("id, name, affiliation, bio, interests, created_at").eq("id",a).single();if(!x){y(!1);return}r(x);const[{data:j},{data:S}]=await Promise.all([F.from("contributions").select("id, content, status, created_at").eq("participant_id",a).order("created_at",{ascending:!1}).limit(50),F.from("artifacts").select("*").eq("created_by",a).order("created_at",{ascending:!1}).limit(50)]);if(o(j||[]),f(S||[]),S&&S.length>0){const N=S.map(D=>D.id),{data:E}=await F.from("artifact_tags").select("tags(name)").in("artifact_id",N),T={};if(E)for(const D of E){const R=D.tags?.name;R&&R.startsWith("hlamt:")&&(T[R]=(T[R]||0)+1)}p(T)}y(!1)}if(g)return h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."});if(!n)return h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Participant not found"});const _=Object.entries(m).sort((x,j)=>j[1]-x[1]);return h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-4",children:[h.jsx(ye,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Participants"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-white",children:n.name})]}),h.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-14 h-14 rounded-full bg-[#262626] flex items-center justify-center flex-shrink-0",children:h.jsx(ds,{className:"w-7 h-7 text-gray-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h1",{className:"text-2xl font-bold mb-1",children:n.name}),n.affiliation&&h.jsx("p",{className:"text-sm text-gray-400 mb-2",children:n.affiliation}),n.bio&&h.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:n.bio}),n.interests&&n.interests.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.interests.map(x=>h.jsxs("span",{className:"bg-[#262626] text-gray-300 text-xs px-2 py-1 rounded flex items-center gap-1",children:[h.jsx(qS,{className:"w-3 h-3"}),x]},x))}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[h.jsx(Z2,{className:"w-3 h-3"}),"Joined ",bf(n.created_at)]})]})]})}),_.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(Z0,{className:"w-4 h-4"}),"Dimension Activity"]}),h.jsx("div",{className:"flex flex-wrap gap-3",children:_.map(([x,j])=>{const S=$A[x];return S?h.jsxs("div",{className:"px-3 py-2 rounded-lg border flex items-center gap-2",style:{borderColor:S.color+"40"},children:[h.jsx("span",{className:"font-mono font-bold text-lg",style:{color:S.color},children:S.letter}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs",style:{color:S.color},children:S.name}),h.jsxs("div",{className:"text-xs text-gray-500",children:[j," artifact",j!==1?"s":""]})]})]},x):null})})]}),c.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(Z0,{className:"w-4 h-4"}),"Artifacts (",c.length,")"]}),h.jsx("div",{className:"space-y-2",children:c.map(x=>h.jsxs(ye,{to:`/artifact/${x.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ga[x.type]}}),h.jsx("span",{className:"text-xs uppercase text-gray-500",children:x.type}),x.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[x.rea_role],borderColor:un[x.rea_role]+"40"},children:Ns[x.rea_role]}),h.jsx("span",{className:"ml-auto text-xs text-gray-500",children:hs[x.state]})]}),h.jsx("div",{className:"text-sm text-white group-hover:text-[#c3fd50] transition-colors font-medium",children:x.title}),x.summary&&h.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:x.summary}),h.jsx("div",{className:"text-xs text-gray-600 mt-1",children:bf(x.created_at)})]},x.id))})]}),s.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(Q2,{className:"w-4 h-4"}),"Contributions (",s.length,")"]}),h.jsx("div",{className:"space-y-2",children:s.map(x=>h.jsxs(ye,{to:`/contribution/${x.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${x.status==="complete"?"bg-[#c3fd50]":x.status==="processing"?"bg-blue-400 animate-pulse":x.status==="error"?"bg-red-400":"bg-yellow-400"}`}),h.jsx("span",{className:"text-xs text-gray-500",children:x.status}),h.jsx("span",{className:"ml-auto text-xs text-gray-600",children:bf(x.created_at)})]}),h.jsx("p",{className:"text-xs text-gray-400 line-clamp-3",children:x.content})]},x.id))})]}),c.length===0&&s.length===0&&h.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No activity yet from this participant."})]})}function qA(){const a=$n(),[n,r]=A.useState(null),[s,o]=A.useState(!1),{convergence:c}=Ny();A.useEffect(()=>{F.auth.getSession().then(({data:p})=>r(p.session));const{data:{subscription:m}}=F.auth.onAuthStateChange((p,g)=>r(g));return()=>m.unsubscribe()},[]);const f=[{to:"/",label:"Explore"},{to:"/contribute",label:"Contribute"},{to:"/coordinate",label:"Coordinate"},{to:"/me",label:"My Thread"}];return h.jsx("nav",{className:"bg-[#0f0f0f] border-b border-[#262626] px-4 py-3",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"hidden md:flex items-center justify-between relative",children:[h.jsxs(ye,{to:"/",className:"text-xl font-bold tracking-tight",children:[h.jsx("span",{style:{color:c.theme_primary},children:c.logo_text}),h.jsx("span",{className:"text-gray-500",children:c.logo_accent})]}),h.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 flex gap-1",children:f.map(m=>h.jsx(ye,{to:m.to,className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${a.pathname===m.to||m.to==="/dimensions"&&a.pathname.startsWith("/d/")?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:m.label},m.to))}),h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsx(ye,{to:"/search",className:"text-gray-400 hover:text-white",children:h.jsx(Fr,{className:"w-5 h-5"})}),n?h.jsx("button",{onClick:()=>F.auth.signOut(),className:"text-gray-400 hover:text-white",children:"Sign out"}):h.jsx(ye,{to:"/auth",className:"text-[#c3fd50] hover:text-white",children:"Sign in"})]})]}),h.jsxs("div",{className:"md:hidden",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(ye,{to:"/",className:"text-lg font-bold tracking-tight",children:[h.jsx("span",{style:{color:c.theme_primary},children:c.logo_text}),h.jsx("span",{className:"text-gray-500",children:c.logo_accent})]}),h.jsx("button",{onClick:()=>o(!s),className:"text-gray-400 hover:text-white p-2","aria-label":"Menu",children:s?h.jsx(PS,{className:"w-6 h-6"}):h.jsx(jS,{className:"w-6 h-6"})})]}),s&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-[#262626] space-y-1",children:[f.map(m=>h.jsx(ye,{to:m.to,onClick:()=>o(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${a.pathname===m.to?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:m.label},m.to)),h.jsx(ye,{to:"/search",onClick:()=>o(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${a.pathname==="/search"?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:"Search"}),h.jsx("div",{className:"pt-2 border-t border-[#262626]",children:n?h.jsx("button",{onClick:()=>{F.auth.signOut(),o(!1)},className:"block w-full text-left px-3 py-2 text-sm text-gray-400 hover:text-white",children:"Sign out"}):h.jsx(ye,{to:"/auth",onClick:()=>o(!1),className:"block px-3 py-2 text-sm text-[#c3fd50] hover:text-white",children:"Sign in"})})]})]})]})})}function HA(){return h.jsx(F_,{basename:"/app",children:h.jsx(ZS,{children:h.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-white",children:[h.jsx(qA,{}),h.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:h.jsxs(A_,{children:[h.jsx(ut,{path:"/",element:h.jsx(FS,{})}),h.jsx(ut,{path:"/dimensions",element:h.jsx(uN,{})}),h.jsx(ut,{path:"/d/:dimension",element:h.jsx(pN,{})}),h.jsx(ut,{path:"/artifact/:id",element:h.jsx(nN,{})}),h.jsx(ut,{path:"/me",element:h.jsx(aN,{})}),h.jsx(ut,{path:"/contribute",element:h.jsx(sN,{})}),h.jsx(ut,{path:"/profile",element:h.jsx(xN,{})}),h.jsx(ut,{path:"/contribution/:id",element:h.jsx(LA,{})}),h.jsx(ut,{path:"/graph",element:h.jsx(OA,{})}),h.jsx(ut,{path:"/coordinate",element:h.jsx(kA,{})}),h.jsx(ut,{path:"/dashboard",element:h.jsx(MA,{})}),h.jsx(ut,{path:"/search",element:h.jsx(UA,{})}),h.jsx(ut,{path:"/p/:id",element:h.jsx(BA,{})}),h.jsx(ut,{path:"/status",element:h.jsx(bN,{})}),h.jsx(ut,{path:"/auth",element:h.jsx(oN,{})}),h.jsx(ut,{path:"*",element:h.jsx(yN,{})})]})})]})})})}Cb.createRoot(document.getElementById("root")).render(h.jsx(A.StrictMode,{children:h.jsx(HA,{})}));
