(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Wu={exports:{}},Xi={};var o0;function pb(){if(o0)return Xi;o0=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Xi.Fragment=n,Xi.jsx=i,Xi.jsxs=i,Xi}var c0;function yb(){return c0||(c0=1,Wu.exports=pb()),Wu.exports}var h=yb(),Fu={exports:{}},ge={};var u0;function vb(){if(u0)return ge;u0=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function j(O,G,W){this.props=O,this.context=G,this.refs=N,this.updater=W||E}j.prototype.isReactComponent={},j.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=j.prototype;function M(O,G,W){this.props=O,this.context=G,this.refs=N,this.updater=W||E}var R=M.prototype=new T;R.constructor=M,w(R,j.prototype),R.isPureReactComponent=!0;var Y=Array.isArray;function P(){}var Q={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function ie(O,G,W){var F=W.ref;return{$$typeof:a,type:O,key:G,ref:F!==void 0?F:null,props:W}}function de(O,G){return ie(O.type,G,O.props)}function be(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function ue(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return G[W]})}var Oe=/\/+/g;function q(O,G){return typeof O=="object"&&O!==null&&O.key!=null?ue(""+O.key):G.toString(36)}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(P,P):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function k(O,G,W,F,oe){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(me){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case a:case n:ye=!0;break;case y:return ye=O._init,k(ye(O._payload),G,W,F,oe)}}if(ye)return oe=oe(O),ye=F===""?"."+q(O,0):F,Y(oe)?(W="",ye!=null&&(W=ye.replace(Oe,"$&/")+"/"),k(oe,G,W,"",function(Fr){return Fr})):oe!=null&&(be(oe)&&(oe=de(oe,W+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(Oe,"$&/")+"/")+ye)),G.push(oe)),1;ye=0;var $e=F===""?".":F+":";if(Y(O))for(var Be=0;Be<O.length;Be++)F=O[Be],me=$e+q(F,Be),ye+=k(F,G,W,me,oe);else if(Be=x(O),typeof Be=="function")for(O=Be.call(O),Be=0;!(F=O.next()).done;)F=F.value,me=$e+q(F,Be++),ye+=k(F,G,W,me,oe);else if(me==="object"){if(typeof O.then=="function")return k(ne(O),G,W,F,oe);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ye}function V(O,G,W){if(O==null)return O;var F=[],oe=0;return k(O,F,"","",function(me){return G.call(W,me,oe++)}),F}function U(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var J=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ee={map:V,forEach:function(O,G,W){V(O,function(){G.apply(this,arguments)},W)},count:function(O){var G=0;return V(O,function(){G++}),G},toArray:function(O){return V(O,function(G){return G})||[]},only:function(O){if(!be(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ge.Activity=b,ge.Children=ee,ge.Component=j,ge.Fragment=i,ge.Profiler=o,ge.PureComponent=M,ge.StrictMode=s,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return Q.H.useMemoCache(O)}},ge.cache=function(O){return function(){return O.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(O,G,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var F=w({},O.props),oe=O.key;if(G!=null)for(me in G.key!==void 0&&(oe=""+G.key),G)!te.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(F[me]=G[me]);var me=arguments.length-2;if(me===1)F.children=W;else if(1<me){for(var ye=Array(me),$e=0;$e<me;$e++)ye[$e]=arguments[$e+2];F.children=ye}return ie(O.type,oe,F)},ge.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ge.createElement=function(O,G,W){var F,oe={},me=null;if(G!=null)for(F in G.key!==void 0&&(me=""+G.key),G)te.call(G,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(oe[F]=G[F]);var ye=arguments.length-2;if(ye===1)oe.children=W;else if(1<ye){for(var $e=Array(ye),Be=0;Be<ye;Be++)$e[Be]=arguments[Be+2];oe.children=$e}if(O&&O.defaultProps)for(F in ye=O.defaultProps,ye)oe[F]===void 0&&(oe[F]=ye[F]);return ie(O,me,oe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(O){return{$$typeof:m,render:O}},ge.isValidElement=be,ge.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:U}},ge.memo=function(O,G){return{$$typeof:g,type:O,compare:G===void 0?null:G}},ge.startTransition=function(O){var G=Q.T,W={};Q.T=W;try{var F=O(),oe=Q.S;oe!==null&&oe(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(P,J)}catch(me){J(me)}finally{G!==null&&W.types!==null&&(G.types=W.types),Q.T=G}},ge.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ge.use=function(O){return Q.H.use(O)},ge.useActionState=function(O,G,W){return Q.H.useActionState(O,G,W)},ge.useCallback=function(O,G){return Q.H.useCallback(O,G)},ge.useContext=function(O){return Q.H.useContext(O)},ge.useDebugValue=function(){},ge.useDeferredValue=function(O,G){return Q.H.useDeferredValue(O,G)},ge.useEffect=function(O,G){return Q.H.useEffect(O,G)},ge.useEffectEvent=function(O){return Q.H.useEffectEvent(O)},ge.useId=function(){return Q.H.useId()},ge.useImperativeHandle=function(O,G,W){return Q.H.useImperativeHandle(O,G,W)},ge.useInsertionEffect=function(O,G){return Q.H.useInsertionEffect(O,G)},ge.useLayoutEffect=function(O,G){return Q.H.useLayoutEffect(O,G)},ge.useMemo=function(O,G){return Q.H.useMemo(O,G)},ge.useOptimistic=function(O,G){return Q.H.useOptimistic(O,G)},ge.useReducer=function(O,G,W){return Q.H.useReducer(O,G,W)},ge.useRef=function(O){return Q.H.useRef(O)},ge.useState=function(O){return Q.H.useState(O)},ge.useSyncExternalStore=function(O,G,W){return Q.H.useSyncExternalStore(O,G,W)},ge.useTransition=function(){return Q.H.useTransition()},ge.version="19.2.4",ge}var f0;function Gf(){return f0||(f0=1,Fu.exports=vb()),Fu.exports}var A=Gf(),ef={exports:{}},Ii={},tf={exports:{}},nf={};var h0;function xb(){return h0||(h0=1,(function(a){function n(k,V){var U=k.length;k.push(V);e:for(;0<U;){var J=U-1>>>1,ee=k[J];if(0<o(ee,V))k[J]=V,k[U]=ee,U=J;else break e}}function i(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var V=k[0],U=k.pop();if(U!==V){k[0]=U;e:for(var J=0,ee=k.length,O=ee>>>1;J<O;){var G=2*(J+1)-1,W=k[G],F=G+1,oe=k[F];if(0>o(W,U))F<ee&&0>o(oe,W)?(k[J]=oe,k[F]=U,J=F):(k[J]=W,k[G]=U,J=G);else if(F<ee&&0>o(oe,U))k[J]=oe,k[F]=U,J=F;else break e}}return V}function o(k,V){var U=k.sortIndex-V.sortIndex;return U!==0?U:k.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var p=[],g=[],y=1,b=null,_=3,x=!1,E=!1,w=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var V=i(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=k)s(g),V.sortIndex=V.expirationTime,n(p,V);else break;V=i(g)}}function Y(k){if(w=!1,R(k),!E)if(i(p)!==null)E=!0,P||(P=!0,ue());else{var V=i(g);V!==null&&ne(Y,V.startTime-k)}}var P=!1,Q=-1,te=5,ie=-1;function de(){return N?!0:!(a.unstable_now()-ie<te)}function be(){if(N=!1,P){var k=a.unstable_now();ie=k;var V=!0;try{e:{E=!1,w&&(w=!1,T(Q),Q=-1),x=!0;var U=_;try{t:{for(R(k),b=i(p);b!==null&&!(b.expirationTime>k&&de());){var J=b.callback;if(typeof J=="function"){b.callback=null,_=b.priorityLevel;var ee=J(b.expirationTime<=k);if(k=a.unstable_now(),typeof ee=="function"){b.callback=ee,R(k),V=!0;break t}b===i(p)&&s(p),R(k)}else s(p);b=i(p)}if(b!==null)V=!0;else{var O=i(g);O!==null&&ne(Y,O.startTime-k),V=!1}}break e}finally{b=null,_=U,x=!1}V=void 0}}finally{V?ue():P=!1}}}var ue;if(typeof M=="function")ue=function(){M(be)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,q=Oe.port2;Oe.port1.onmessage=be,ue=function(){q.postMessage(null)}}else ue=function(){j(be,0)};function ne(k,V){Q=j(function(){k(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(k){switch(_){case 1:case 2:case 3:var V=3;break;default:V=_}var U=_;_=V;try{return k()}finally{_=U}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=_;_=k;try{return V()}finally{_=U}},a.unstable_scheduleCallback=function(k,V,U){var J=a.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,k){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,k={id:y++,callback:V,priorityLevel:k,startTime:U,expirationTime:ee,sortIndex:-1},U>J?(k.sortIndex=U,n(g,k),i(p)===null&&k===i(g)&&(w?(T(Q),Q=-1):w=!0,ne(Y,U-J))):(k.sortIndex=ee,n(p,k),E||x||(E=!0,P||(P=!0,ue()))),k},a.unstable_shouldYield=de,a.unstable_wrapCallback=function(k){var V=_;return function(){var U=_;_=V;try{return k.apply(this,arguments)}finally{_=U}}}})(nf)),nf}var d0;function bb(){return d0||(d0=1,tf.exports=xb()),tf.exports}var af={exports:{}},ht={};var m0;function _b(){if(m0)return ht;m0=1;var a=Gf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:y}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ht.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(p,g,null,y)},ht.flushSync=function(p){var g=f.T,y=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=y,s.d.f()}},ht.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ht.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ht.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:x}):y==="script"&&s.d.X(p,{crossOrigin:b,integrity:_,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ht.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ht.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ht.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ht.requestFormReset=function(p){s.d.r(p)},ht.unstable_batchedUpdates=function(p,g){return p(g)},ht.useFormState=function(p,g,y){return f.H.useFormState(p,g,y)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.4",ht}var g0;function wb(){if(g0)return af.exports;g0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),af.exports=_b(),af.exports}var p0;function Sb(){if(p0)return Ii;p0=1;var a=bb(),n=Gf(),i=wb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return p(u),e;if(d===l)return p(u),t;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=u,l=d;else{for(var v=!1,S=u.child;S;){if(S===r){v=!0,r=u,l=d;break}if(S===l){v=!0,l=u,r=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===r){v=!0,r=d,l=u;break}if(S===l){v=!0,l=d,r=u;break}S=S.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case P:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case M:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case R:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var ne=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},J=[],ee=-1;function O(e){return{current:e}}function G(e){0>ee||(e.current=J[ee],J[ee]=null,ee--)}function W(e,t){ee++,J[ee]=e.current,e.current=t}var F=O(null),oe=O(null),me=O(null),ye=O(null);function $e(e,t){switch(W(me,t),W(oe,e),W(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cg(t),e=kg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(F),W(F,e)}function Be(){G(F),G(oe),G(me)}function Fr(e){e.memoizedState!==null&&W(ye,e);var t=F.current,r=kg(t,e.type);t!==r&&(W(oe,e),W(F,r))}function Ts(e){oe.current===e&&(G(F),G(oe)),ye.current===e&&(G(ye),Gi._currentValue=U)}var Mo,lh;function va(e){if(Mo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mo=t&&t[1]||"",lh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mo+e+lh}var Uo=!1;function zo(e,t){if(!e||Uo)return"";Uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(H){var B=H}Reflect.construct(e,[],I)}else{try{I.call()}catch(H){B=H}e.call(I.prototype)}}else{try{throw Error()}catch(H){B=H}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var C=v.split(`
`),$=S.split(`
`);for(u=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;if(l===C.length||u===$.length)for(l=C.length-1,u=$.length-1;1<=l&&0<=u&&C[l]!==$[u];)u--;for(;1<=l&&0<=u;l--,u--)if(C[l]!==$[u]){if(l!==1||u!==1)do if(l--,u--,0>u||C[l]!==$[u]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=u);break}}}finally{Uo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?va(r):""}function Iy(e,t){switch(e.tag){case 26:case 27:case 5:return va(e.type);case 16:return va("Lazy");case 13:return e.child!==t&&t!==null?va("Suspense Fallback"):va("Suspense");case 19:return va("SuspenseList");case 0:case 15:return zo(e.type,!1);case 11:return zo(e.type.render,!1);case 1:return zo(e.type,!0);case 31:return va("Activity");default:return""}}function oh(e){try{var t="",r=null;do t+=Iy(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Lo=Object.prototype.hasOwnProperty,$o=a.unstable_scheduleCallback,Bo=a.unstable_cancelCallback,Py=a.unstable_shouldYield,Qy=a.unstable_requestPaint,Nt=a.unstable_now,Jy=a.unstable_getCurrentPriorityLevel,ch=a.unstable_ImmediatePriority,uh=a.unstable_UserBlockingPriority,As=a.unstable_NormalPriority,Zy=a.unstable_LowPriority,fh=a.unstable_IdlePriority,Wy=a.log,Fy=a.unstable_setDisableYieldValue,ei=null,Et=null;function qn(e){if(typeof Wy=="function"&&Fy(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(ei,e)}catch{}}var jt=Math.clz32?Math.clz32:nv,ev=Math.log,tv=Math.LN2;function nv(e){return e>>>=0,e===0?32:31-(ev(e)/tv|0)|0}var Rs=256,Os=262144,Cs=4194304;function xa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var u=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?u=xa(l):(v&=S,v!==0?u=xa(v):r||(r=S&~e,r!==0&&(u=xa(r))))):(S=l&~d,S!==0?u=xa(S):v!==0?u=xa(v):r||(r=l&~e,r!==0&&(u=xa(r)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:u}function ti(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function av(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hh(){var e=Cs;return Cs<<=1,(Cs&62914560)===0&&(Cs=4194304),e}function qo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ni(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rv(e,t,r,l,u,d){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,$=e.hiddenUpdates;for(r=v&~r;0<r;){var K=31-jt(r),I=1<<K;S[K]=0,C[K]=-1;var B=$[K];if(B!==null)for($[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}r&=~I}l!==0&&dh(e,l,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function dh(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-jt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function mh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-jt(r),u=1<<l;u&t|e[l]&t&&(e[l]|=t),r&=~u}}function gh(e,t){var r=t&-t;return r=(r&42)!==0?1:Ho(r),(r&(e.suspendedLanes|t))!==0?0:r}function Ho(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ph(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:t0(e.type))}function yh(e,t){var r=V.p;try{return V.p=e,t()}finally{V.p=r}}var Hn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Hn,pt="__reactProps$"+Hn,Qa="__reactContainer$"+Hn,Vo="__reactEvents$"+Hn,iv="__reactListeners$"+Hn,sv="__reactHandles$"+Hn,vh="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function Yo(e){delete e[rt],delete e[pt],delete e[Vo],delete e[iv],delete e[sv]}function Ja(e){var t=e[rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qa]||r[rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bg(e);e!==null;){if(r=e[rt])return r;e=Bg(e)}return t}e=r,r=e.parentNode}return null}function Za(e){if(e=e[rt]||e[Qa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ri(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Wa(e){var t=e[vh];return t||(t=e[vh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[ai]=!0}var xh=new Set,bh={};function ba(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(bh[e]=t,e=0;e<t.length;e++)xh.add(t[e])}var lv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_h={},wh={};function ov(e){return Lo.call(wh,e)?!0:Lo.call(_h,e)?!1:lv.test(e)?wh[e]=!0:(_h[e]=!0,!1)}function Ds(e,t,r){if(ov(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ms(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function dn(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cv(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){if(!e._valueTracker){var t=Sh(e)?"checked":"value";e._valueTracker=cv(e,t,""+e[t])}}function Nh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=Sh(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uv=/[\n"\\]/g;function $t(e){return e.replace(uv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xo(e,t,r,l,u,d,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Io(e,v,Lt(t)):r!=null?Io(e,v,Lt(r)):l!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Lt(S):e.removeAttribute("name")}function Eh(e,t,r,l,u,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Ko(e);return}r=r!=null?""+Lt(r):"",t=t!=null?""+Lt(t):r,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Ko(e)}function Io(e,t,r){t==="number"&&Us(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function er(e,t,r,l){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Lt(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function jh(e,t,r){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Lt(r):""}function Th(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=Lt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Ko(e)}function tr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ah(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||fv.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Rh(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&r[u]!==l&&Ah(e,u,l)}else for(var d in t)t.hasOwnProperty(d)&&Ah(e,d,t[d])}function Po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return dv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Qo=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nr=null,ar=null;function Oh(e){var t=Za(e);if(t&&(e=t.stateNode)){var r=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var u=l[pt]||null;if(!u)throw Error(s(90));Xo(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Nh(l)}break e;case"textarea":jh(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&er(e,!!r.multiple,t,!1)}}}var Zo=!1;function Ch(e,t,r){if(Zo)return e(t,r);Zo=!0;try{var l=e(t);return l}finally{if(Zo=!1,(nr!==null||ar!==null)&&(Sl(),nr&&(t=nr,e=ar,ar=nr=null,Oh(t),e)))for(t=0;t<e.length;t++)Oh(e[t])}}function ii(e,t){var r=e.stateNode;if(r===null)return null;var l=r[pt]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(gn)try{var si={};Object.defineProperty(si,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Wo=!1}var Gn=null,Fo=null,Ls=null;function kh(){if(Ls)return Ls;var e,t=Fo,r=t.length,l,u="value"in Gn?Gn.value:Gn.textContent,d=u.length;for(e=0;e<r&&t[e]===u[e];e++);var v=r-e;for(l=1;l<=v&&t[r-l]===u[d-l];l++);return Ls=u.slice(e,1<l?1-l:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function Dh(){return!1}function yt(e){function t(r,l,u,d,v){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(r=e[S],this[S]=r?r(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bs:Dh,this.isPropagationStopped=Dh,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=yt(_a),li=b({},_a,{view:0,detail:0}),mv=yt(li),ec,tc,oi,Hs=b({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ec=e.screenX-oi.screenX,tc=e.screenY-oi.screenY):tc=ec=0,oi=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),Mh=yt(Hs),gv=b({},Hs,{dataTransfer:0}),pv=yt(gv),yv=b({},li,{relatedTarget:0}),nc=yt(yv),vv=b({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),xv=yt(vv),bv=b({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_v=yt(bv),wv=b({},_a,{data:0}),Uh=yt(wv),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function ac(){return jv}var Tv=b({},li,{key:function(e){if(e.key){var t=Sv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Av=yt(Tv),Rv=b({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=yt(Rv),Ov=b({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),Cv=yt(Ov),kv=b({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=yt(kv),Mv=b({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=yt(Mv),zv=b({},_a,{newState:0,oldState:0}),Lv=yt(zv),$v=[9,13,27,32],rc=gn&&"CompositionEvent"in window,ci=null;gn&&"documentMode"in document&&(ci=document.documentMode);var Bv=gn&&"TextEvent"in window&&!ci,Lh=gn&&(!rc||ci&&8<ci&&11>=ci),$h=" ",Bh=!1;function qh(e,t){switch(e){case"keyup":return $v.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function qv(e,t){switch(e){case"compositionend":return Hh(t);case"keypress":return t.which!==32?null:(Bh=!0,$h);case"textInput":return e=t.data,e===$h&&Bh?null:e;default:return null}}function Hv(e,t){if(rr)return e==="compositionend"||!rc&&qh(e,t)?(e=kh(),Ls=Fo=Gn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lh&&t.locale!=="ko"?null:t.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gv[e.type]:t==="textarea"}function Vh(e,t,r,l){nr?ar?ar.push(l):ar=[l]:nr=l,t=Ol(t,"onChange"),0<t.length&&(r=new qs("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var ui=null,fi=null;function Vv(e){Eg(e,0)}function Gs(e){var t=ri(e);if(Nh(t))return e}function Yh(e,t){if(e==="change")return t}var Kh=!1;if(gn){var ic;if(gn){var sc="oninput"in document;if(!sc){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),sc=typeof Xh.oninput=="function"}ic=sc}else ic=!1;Kh=ic&&(!document.documentMode||9<document.documentMode)}function Ih(){ui&&(ui.detachEvent("onpropertychange",Ph),fi=ui=null)}function Ph(e){if(e.propertyName==="value"&&Gs(fi)){var t=[];Vh(t,fi,e,Jo(e)),Ch(Vv,t)}}function Yv(e,t,r){e==="focusin"?(Ih(),ui=t,fi=r,ui.attachEvent("onpropertychange",Ph)):e==="focusout"&&Ih()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gs(fi)}function Xv(e,t){if(e==="click")return Gs(t)}function Iv(e,t){if(e==="input"||e==="change")return Gs(t)}function Pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Pv;function hi(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!Lo.call(t,u)||!Tt(e[u],t[u]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var r=Qh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qh(r)}}function Zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Us(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Us(e.document)}return t}function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Qv=gn&&"documentMode"in document&&11>=document.documentMode,ir=null,oc=null,di=null,cc=!1;function Fh(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cc||ir==null||ir!==Us(l)||(l=ir,"selectionStart"in l&&lc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),di&&hi(di,l)||(di=l,l=Ol(oc,"onSelect"),0<l.length&&(t=new qs("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=ir)))}function wa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sr={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},uc={},ed={};gn&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function Sa(e){if(uc[e])return uc[e];if(!sr[e])return e;var t=sr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ed)return uc[e]=t[r];return e}var td=Sa("animationend"),nd=Sa("animationiteration"),ad=Sa("animationstart"),Jv=Sa("transitionrun"),Zv=Sa("transitionstart"),Wv=Sa("transitioncancel"),rd=Sa("transitionend"),id=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function Pt(e,t){id.set(e,t),ba(t,[e])}var Vs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],lr=0,hc=0;function Ys(){for(var e=lr,t=hc=lr=0;t<e;){var r=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var u=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,l!==null&&u!==null){var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}d!==0&&sd(r,u,d)}}function Ks(e,t,r,l){Bt[lr++]=e,Bt[lr++]=t,Bt[lr++]=r,Bt[lr++]=l,hc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function dc(e,t,r,l){return Ks(e,t,r,l),Xs(e)}function Na(e,t){return Ks(e,null,null,t),Xs(e)}function sd(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var u=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-jt(r),e=d.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=r|536870912),d):null}function Xs(e){if(50<Ui)throw Ui=0,wu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var or={};function Fv(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,r,l){return new Fv(e,t,r,l)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var r=e.alternate;return r===null?(r=At(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function ld(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Is(e,t,r,l,u,d){var v=0;if(l=e,typeof e=="function")mc(e)&&(v=1);else if(typeof e=="string")v=rb(e,r,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=At(31,r,t,u),e.elementType=ie,e.lanes=d,e;case w:return Ea(r.children,u,d,t);case N:v=8,u|=24;break;case j:return e=At(12,r,t,u|2),e.elementType=j,e.lanes=d,e;case Y:return e=At(13,r,t,u),e.elementType=Y,e.lanes=d,e;case P:return e=At(19,r,t,u),e.elementType=P,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:v=10;break e;case T:v=9;break e;case R:v=11;break e;case Q:v=14;break e;case te:v=16,l=null;break e}v=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=At(v,r,t,u),t.elementType=e,t.type=l,t.lanes=d,t}function Ea(e,t,r,l){return e=At(7,e,l,t),e.lanes=r,e}function gc(e,t,r){return e=At(6,e,null,t),e.lanes=r,e}function od(e){var t=At(18,null,null,0);return t.stateNode=e,t}function pc(e,t,r){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cd=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var r=cd.get(e);return r!==void 0?r:(t={value:e,source:t,stack:oh(t)},cd.set(e,t),t)}return{value:e,source:t,stack:oh(t)}}var cr=[],ur=0,Ps=null,mi=0,Ht=[],Gt=0,Vn=null,an=1,rn="";function yn(e,t){cr[ur++]=mi,cr[ur++]=Ps,Ps=e,mi=t}function ud(e,t,r){Ht[Gt++]=an,Ht[Gt++]=rn,Ht[Gt++]=Vn,Vn=e;var l=an;e=rn;var u=32-jt(l)-1;l&=~(1<<u),r+=1;var d=32-jt(t)+u;if(30<d){var v=u-u%5;d=(l&(1<<v)-1).toString(32),l>>=v,u-=v,an=1<<32-jt(t)+u|r<<u|l,rn=d+e}else an=1<<d|r<<u|l,rn=e}function yc(e){e.return!==null&&(yn(e,1),ud(e,1,0))}function vc(e){for(;e===Ps;)Ps=cr[--ur],cr[ur]=null,mi=cr[--ur],cr[ur]=null;for(;e===Vn;)Vn=Ht[--Gt],Ht[Gt]=null,rn=Ht[--Gt],Ht[Gt]=null,an=Ht[--Gt],Ht[Gt]=null}function fd(e,t){Ht[Gt++]=an,Ht[Gt++]=rn,Ht[Gt++]=Vn,an=t.id,rn=t.overflow,Vn=e}var it=null,qe=null,Ee=!1,Yn=null,Vt=!1,xc=Error(s(519));function Kn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(qt(t,e)),xc}function hd(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[rt]=e,t[pt]=l,r){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(r=0;r<Li.length;r++)we(Li[r],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Eh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Th(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||Rg(t.textContent,r)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||Kn(e,!0)}function dd(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:it=it.return}}function fr(e){if(e!==it)return!1;if(!Ee)return dd(e),Ee=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Lu(e.type,e.memoizedProps)),r=!r),r&&qe&&Kn(e),dd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=$g(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=$g(e)}else t===27?(t=qe,ia(e.type)?(e=Gu,Gu=null,qe=e):qe=t):qe=it?Kt(e.stateNode.nextSibling):null;return!0}function ja(){qe=it=null,Ee=!1}function bc(){var e=Yn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Yn=null),e}function gi(e){Yn===null?Yn=[e]:Yn.push(e)}var _c=O(null),Ta=null,vn=null;function Xn(e,t,r){W(_c,t._currentValue),t._currentValue=r}function xn(e){e._currentValue=_c.current,G(_c)}function wc(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function Sc(e,t,r,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var v=u.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=u;for(var C=0;C<t.length;C++)if(S.context===t[C]){d.lanes|=r,S=d.alternate,S!==null&&(S.lanes|=r),wc(d.return,r,e),l||(v=null);break e}d=S.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(s(341));v.lanes|=r,d=v.alternate,d!==null&&(d.lanes|=r),wc(v,r,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function hr(e,t,r,l){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=u.type;Tt(u.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(u===ye.current){if(v=u.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Gi):e=[Gi])}u=u.return}e!==null&&Sc(t,e,r,l),t.flags|=262144}function Qs(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ta=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return md(Ta,e)}function Js(e,t){return Ta===null&&Aa(e),md(e,t)}function md(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},vn===null){if(e===null)throw Error(s(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return r}var ex=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},tx=a.unstable_scheduleCallback,nx=a.unstable_NormalPriority,Qe={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new ex,data:new Map,refCount:0}}function pi(e){e.refCount--,e.refCount===0&&tx(nx,function(){e.controller.abort()})}var yi=null,Ec=0,dr=0,mr=null;function ax(e,t){if(yi===null){var r=yi=[];Ec=0,dr=Au(),mr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ec++,t.then(gd,gd),t}function gd(){if(--Ec===0&&yi!==null){mr!==null&&(mr.status="fulfilled");var e=yi;yi=null,dr=0,mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rx(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<r.length;u++)(0,r[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var pd=k.S;k.S=function(e,t){Fm=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ax(e,t),pd!==null&&pd(e,t)};var Ra=O(null);function jc(){var e=Ra.current;return e!==null?e:ze.pooledCache}function Zs(e,t){t===null?W(Ra,Ra.current):W(Ra,t.pool)}function yd(){var e=jc();return e===null?null:{parent:Qe._currentValue,pool:e}}var gr=Error(s(460)),Tc=Error(s(474)),Ws=Error(s(542)),Fs={then:function(){}};function vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xd(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(mn,mn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e}throw Ca=t,gr}}function Oa(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ca=r,gr):r}}var Ca=null;function bd(){if(Ca===null)throw Error(s(459));var e=Ca;return Ca=null,e}function _d(e){if(e===gr||e===Ws)throw Error(s(483))}var pr=null,vi=0;function el(e){var t=vi;return vi+=1,pr===null&&(pr=[]),xd(pr,e,t)}function xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tl(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wd(e){function t(z,D){if(e){var L=z.deletions;L===null?(z.deletions=[D],z.flags|=16):L.push(D)}}function r(z,D){if(!e)return null;for(;D!==null;)t(z,D),D=D.sibling;return null}function l(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function u(z,D){return z=pn(z,D),z.index=0,z.sibling=null,z}function d(z,D,L){return z.index=L,e?(L=z.alternate,L!==null?(L=L.index,L<D?(z.flags|=67108866,D):L):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function v(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function S(z,D,L,X){return D===null||D.tag!==6?(D=gc(L,z.mode,X),D.return=z,D):(D=u(D,L),D.return=z,D)}function C(z,D,L,X){var le=L.type;return le===w?K(z,D,L.props.children,X,L.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&Oa(le)===D.type)?(D=u(D,L.props),xi(D,L),D.return=z,D):(D=Is(L.type,L.key,L.props,null,z.mode,X),xi(D,L),D.return=z,D)}function $(z,D,L,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=pc(L,z.mode,X),D.return=z,D):(D=u(D,L.children||[]),D.return=z,D)}function K(z,D,L,X,le){return D===null||D.tag!==7?(D=Ea(L,z.mode,X,le),D.return=z,D):(D=u(D,L),D.return=z,D)}function I(z,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=gc(""+D,z.mode,L),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return L=Is(D.type,D.key,D.props,null,z.mode,L),xi(L,D),L.return=z,L;case E:return D=pc(D,z.mode,L),D.return=z,D;case te:return D=Oa(D),I(z,D,L)}if(ne(D)||ue(D))return D=Ea(D,z.mode,L,null),D.return=z,D;if(typeof D.then=="function")return I(z,el(D),L);if(D.$$typeof===M)return I(z,Js(z,D),L);tl(z,D)}return null}function B(z,D,L,X){var le=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return le!==null?null:S(z,D,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return L.key===le?C(z,D,L,X):null;case E:return L.key===le?$(z,D,L,X):null;case te:return L=Oa(L),B(z,D,L,X)}if(ne(L)||ue(L))return le!==null?null:K(z,D,L,X,null);if(typeof L.then=="function")return B(z,D,el(L),X);if(L.$$typeof===M)return B(z,D,Js(z,L),X);tl(z,L)}return null}function H(z,D,L,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(L)||null,S(D,z,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return z=z.get(X.key===null?L:X.key)||null,C(D,z,X,le);case E:return z=z.get(X.key===null?L:X.key)||null,$(D,z,X,le);case te:return X=Oa(X),H(z,D,L,X,le)}if(ne(X)||ue(X))return z=z.get(L)||null,K(D,z,X,le,null);if(typeof X.then=="function")return H(z,D,L,el(X),le);if(X.$$typeof===M)return H(z,D,L,Js(D,X),le);tl(D,X)}return null}function ae(z,D,L,X){for(var le=null,Te=null,re=D,xe=D=0,Ne=null;re!==null&&xe<L.length;xe++){re.index>xe?(Ne=re,re=null):Ne=re.sibling;var Ae=B(z,re,L[xe],X);if(Ae===null){re===null&&(re=Ne);break}e&&re&&Ae.alternate===null&&t(z,re),D=d(Ae,D,xe),Te===null?le=Ae:Te.sibling=Ae,Te=Ae,re=Ne}if(xe===L.length)return r(z,re),Ee&&yn(z,xe),le;if(re===null){for(;xe<L.length;xe++)re=I(z,L[xe],X),re!==null&&(D=d(re,D,xe),Te===null?le=re:Te.sibling=re,Te=re);return Ee&&yn(z,xe),le}for(re=l(re);xe<L.length;xe++)Ne=H(re,z,xe,L[xe],X),Ne!==null&&(e&&Ne.alternate!==null&&re.delete(Ne.key===null?xe:Ne.key),D=d(Ne,D,xe),Te===null?le=Ne:Te.sibling=Ne,Te=Ne);return e&&re.forEach(function(ua){return t(z,ua)}),Ee&&yn(z,xe),le}function ce(z,D,L,X){if(L==null)throw Error(s(151));for(var le=null,Te=null,re=D,xe=D=0,Ne=null,Ae=L.next();re!==null&&!Ae.done;xe++,Ae=L.next()){re.index>xe?(Ne=re,re=null):Ne=re.sibling;var ua=B(z,re,Ae.value,X);if(ua===null){re===null&&(re=Ne);break}e&&re&&ua.alternate===null&&t(z,re),D=d(ua,D,xe),Te===null?le=ua:Te.sibling=ua,Te=ua,re=Ne}if(Ae.done)return r(z,re),Ee&&yn(z,xe),le;if(re===null){for(;!Ae.done;xe++,Ae=L.next())Ae=I(z,Ae.value,X),Ae!==null&&(D=d(Ae,D,xe),Te===null?le=Ae:Te.sibling=Ae,Te=Ae);return Ee&&yn(z,xe),le}for(re=l(re);!Ae.done;xe++,Ae=L.next())Ae=H(re,z,xe,Ae.value,X),Ae!==null&&(e&&Ae.alternate!==null&&re.delete(Ae.key===null?xe:Ae.key),D=d(Ae,D,xe),Te===null?le=Ae:Te.sibling=Ae,Te=Ae);return e&&re.forEach(function(gb){return t(z,gb)}),Ee&&yn(z,xe),le}function Ue(z,D,L,X){if(typeof L=="object"&&L!==null&&L.type===w&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case x:e:{for(var le=L.key;D!==null;){if(D.key===le){if(le=L.type,le===w){if(D.tag===7){r(z,D.sibling),X=u(D,L.props.children),X.return=z,z=X;break e}}else if(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&Oa(le)===D.type){r(z,D.sibling),X=u(D,L.props),xi(X,L),X.return=z,z=X;break e}r(z,D);break}else t(z,D);D=D.sibling}L.type===w?(X=Ea(L.props.children,z.mode,X,L.key),X.return=z,z=X):(X=Is(L.type,L.key,L.props,null,z.mode,X),xi(X,L),X.return=z,z=X)}return v(z);case E:e:{for(le=L.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(z,D.sibling),X=u(D,L.children||[]),X.return=z,z=X;break e}else{r(z,D);break}else t(z,D);D=D.sibling}X=pc(L,z.mode,X),X.return=z,z=X}return v(z);case te:return L=Oa(L),Ue(z,D,L,X)}if(ne(L))return ae(z,D,L,X);if(ue(L)){if(le=ue(L),typeof le!="function")throw Error(s(150));return L=le.call(L),ce(z,D,L,X)}if(typeof L.then=="function")return Ue(z,D,el(L),X);if(L.$$typeof===M)return Ue(z,D,Js(z,L),X);tl(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(z,D.sibling),X=u(D,L),X.return=z,z=X):(r(z,D),X=gc(L,z.mode,X),X.return=z,z=X),v(z)):r(z,D)}return function(z,D,L,X){try{vi=0;var le=Ue(z,D,L,X);return pr=null,le}catch(re){if(re===gr||re===Ws)throw re;var Te=At(29,re,null,z.mode);return Te.lanes=X,Te.return=z,Te}}}var ka=wd(!0),Sd=wd(!1),In=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Xs(e),sd(e,null,r),t}return Ks(e,l,t,r),Xs(e)}function bi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,mh(e,r)}}function Oc(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?u=d=v:d=d.next=v,r=r.next}while(r!==null);d===null?u=d=t:d=d.next=t}else u=d=t;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Cc=!1;function _i(){if(Cc){var e=mr;if(e!==null)throw e}}function wi(e,t,r,l){Cc=!1;var u=e.updateQueue;In=!1;var d=u.firstBaseUpdate,v=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var C=S,$=C.next;C.next=null,v===null?d=$:v.next=$,v=C;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==v&&(S===null?K.firstBaseUpdate=$:S.next=$,K.lastBaseUpdate=C))}if(d!==null){var I=u.baseState;v=0,K=$=C=null,S=d;do{var B=S.lane&-536870913,H=B!==S.lane;if(H?(Se&B)===B:(l&B)===B){B!==0&&B===dr&&(Cc=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ae=e,ce=S;B=t;var Ue=r;switch(ce.tag){case 1:if(ae=ce.payload,typeof ae=="function"){I=ae.call(Ue,I,B);break e}I=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ce.payload,B=typeof ae=="function"?ae.call(Ue,I,B):ae,B==null)break e;I=b({},I,B);break e;case 2:In=!0}}B=S.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=u.callbacks,H===null?u.callbacks=[B]:H.push(B))}else H={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?($=K=H,C=I):K=K.next=H,v|=B;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;H=S,S=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);K===null&&(C=I),u.baseState=C,u.firstBaseUpdate=$,u.lastBaseUpdate=K,d===null&&(u.shared.lanes=0),ea|=v,e.lanes=v,e.memoizedState=I}}function Nd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Ed(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Nd(r[e],t)}var yr=O(null),nl=O(0);function jd(e,t){e=An,W(nl,e),W(yr,t),An=e|t.baseLanes}function kc(){W(nl,An),W(yr,yr.current)}function Dc(){An=nl.current,G(yr),G(nl)}var Rt=O(null),Yt=null;function Jn(e){var t=e.alternate;W(Ie,Ie.current&1),W(Rt,e),Yt===null&&(t===null||yr.current!==null||t.memoizedState!==null)&&(Yt=e)}function Mc(e){W(Ie,Ie.current),W(Rt,e),Yt===null&&(Yt=e)}function Td(e){e.tag===22?(W(Ie,Ie.current),W(Rt,e),Yt===null&&(Yt=e)):Zn()}function Zn(){W(Ie,Ie.current),W(Rt,Rt.current)}function Ot(e){G(Rt),Yt===e&&(Yt=null),G(Ie)}var Ie=O(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||qu(r)||Hu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,ve=null,De=null,Je=null,rl=!1,vr=!1,Da=!1,il=0,Si=0,xr=null,ix=0;function Ye(){throw Error(s(321))}function Uc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tt(e[r],t[r]))return!1;return!0}function zc(e,t,r,l,u,d){return bn=d,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?um:Zc,Da=!1,d=r(l,u),Da=!1,vr&&(d=Rd(t,r,l,u)),Ad(e),d}function Ad(e){k.H=ji;var t=De!==null&&De.next!==null;if(bn=0,Je=De=ve=null,rl=!1,Si=0,xr=null,t)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&Qs(e)&&(Ze=!0))}function Rd(e,t,r,l){ve=e;var u=0;do{if(vr&&(xr=null),Si=0,vr=!1,25<=u)throw Error(s(301));if(u+=1,Je=De=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}k.H=fm,d=t(r,l)}while(vr);return d}function sx(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ve.flags|=1024),t}function Lc(){var e=il!==0;return il=0,e}function $c(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Bc(e){if(rl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rl=!1}bn=0,Je=De=ve=null,vr=!1,Si=il=0,xr=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ve.memoizedState=Je=e:Je=Je.next=e,Je}function Pe(){if(De===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Je===null?ve.memoizedState:Je.next;if(t!==null)Je=t,De=e;else{if(e===null)throw ve.alternate===null?Error(s(467)):Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?ve.memoizedState=Je=e:Je=Je.next=e}return Je}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Si;return Si+=1,xr===null&&(xr=[]),e=xd(xr,e,t),t=ve,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?um:Zc),e}function ll(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===M)return st(e)}throw Error(s(438,String(e)))}function qc(e){var t=null,r=ve.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=sl(),ve.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=de;return t.index++,r}function _n(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Pe();return Hc(t,De,e)}function Hc(e,t,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var u=e.baseQueue,d=l.pending;if(d!==null){if(u!==null){var v=u.next;u.next=d.next,d.next=v}t.baseQueue=u=d,l.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var S=v=null,C=null,$=t,K=!1;do{var I=$.lane&-536870913;if(I!==$.lane?(Se&I)===I:(bn&I)===I){var B=$.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),I===dr&&(K=!0);else if((bn&B)===B){$=$.next,B===dr&&(K=!0);continue}else I={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(S=C=I,v=d):C=C.next=I,ve.lanes|=B,ea|=B;I=$.action,Da&&r(d,I),d=$.hasEagerState?$.eagerState:r(d,I)}else B={lane:I,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(S=C=B,v=d):C=C.next=B,ve.lanes|=I,ea|=I;$=$.next}while($!==null&&$!==t);if(C===null?v=d:C.next=S,!Tt(d,e.memoizedState)&&(Ze=!0,K&&(r=mr,r!==null)))throw r;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gc(e){var t=Pe(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,u=r.pending,d=t.memoizedState;if(u!==null){r.pending=null;var v=u=u.next;do d=e(d,v.action),v=v.next;while(v!==u);Tt(d,t.memoizedState)||(Ze=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,l]}function Od(e,t,r){var l=ve,u=Pe(),d=Ee;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=t();var v=!Tt((De||u).memoizedState,r);if(v&&(u.memoizedState=r,Ze=!0),u=u.queue,Kc(Dd.bind(null,l,u,e),[e]),u.getSnapshot!==t||v||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,br(9,{destroy:void 0},kd.bind(null,l,u,r,t),null),ze===null)throw Error(s(349));d||(bn&127)!==0||Cd(l,t,r)}return r}function Cd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ve.updateQueue,t===null?(t=sl(),ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function kd(e,t,r,l){t.value=r,t.getSnapshot=l,Md(t)&&Ud(e)}function Dd(e,t,r){return r(function(){Md(t)&&Ud(e)})}function Md(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tt(e,r)}catch{return!0}}function Ud(e){var t=Na(e,2);t!==null&&wt(t,e,2)}function Vc(e){var t=dt();if(typeof e=="function"){var r=e;if(e=r(),Da){qn(!0);try{r()}finally{qn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function zd(e,t,r,l){return e.baseState=r,Hc(e,De,typeof l=="function"?l:_n)}function lx(e,t,r,l,u){if(fl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};k.T!==null?r(!0):d.isTransition=!1,l(d),r=t.pending,r===null?(d.next=t.pending=d,Ld(t,d)):(d.next=r.next,t.pending=r.next=d)}}function Ld(e,t){var r=t.action,l=t.payload,u=e.state;if(t.isTransition){var d=k.T,v={};k.T=v;try{var S=r(u,l),C=k.S;C!==null&&C(v,S),$d(e,t,S)}catch($){Yc(e,t,$)}finally{d!==null&&v.types!==null&&(d.types=v.types),k.T=d}}else try{d=r(u,l),$d(e,t,d)}catch($){Yc(e,t,$)}}function $d(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Bd(e,t,l)},function(l){return Yc(e,t,l)}):Bd(e,t,r)}function Bd(e,t,r){t.status="fulfilled",t.value=r,qd(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Ld(e,r)))}function Yc(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,qd(t),t=t.next;while(t!==l)}e.action=null}function qd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hd(e,t){return t}function Gd(e,t){if(Ee){var r=ze.formState;if(r!==null){e:{var l=ve;if(Ee){if(qe){t:{for(var u=qe,d=Vt;u.nodeType!==8;){if(!d){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){qe=Kt(u.nextSibling),l=u.data==="F!";break e}}Kn(l)}l=!1}l&&(t=r[0])}}return r=dt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:t},r.queue=l,r=lm.bind(null,ve,l),l.dispatch=r,l=Vc(!1),d=Jc.bind(null,ve,!1,l.queue),l=dt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,r=lx.bind(null,ve,u,d,r),u.dispatch=r,l.memoizedState=e,[t,r,!1]}function Vd(e){var t=Pe();return Yd(t,De,e)}function Yd(e,t,r){if(t=Hc(e,t,Hd)[0],e=ol(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(v){throw v===gr?Ws:v}else l=t;t=Pe();var u=t.queue,d=u.dispatch;return r!==t.memoizedState&&(ve.flags|=2048,br(9,{destroy:void 0},ox.bind(null,u,r),null)),[l,d,e]}function ox(e,t){e.action=t}function Kd(e){var t=Pe(),r=De;if(r!==null)return Yd(t,r,e);Pe(),t=t.memoizedState,r=Pe();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function br(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=sl(),ve.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function Xd(){return Pe().memoizedState}function cl(e,t,r,l){var u=dt();ve.flags|=e,u.memoizedState=br(1|t,{destroy:void 0},r,l===void 0?null:l)}function ul(e,t,r,l){var u=Pe();l=l===void 0?null:l;var d=u.memoizedState.inst;De!==null&&l!==null&&Uc(l,De.memoizedState.deps)?u.memoizedState=br(t,d,r,l):(ve.flags|=e,u.memoizedState=br(1|t,d,r,l))}function Id(e,t){cl(8390656,8,e,t)}function Kc(e,t){ul(2048,8,e,t)}function cx(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=sl(),ve.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function Pd(e){var t=Pe().memoizedState;return cx({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Qd(e,t){return ul(4,2,e,t)}function Jd(e,t){return ul(4,4,e,t)}function Zd(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wd(e,t,r){r=r!=null?r.concat([e]):null,ul(4,4,Zd.bind(null,t,e),r)}function Xc(){}function Fd(e,t){var r=Pe();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Uc(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function em(e,t){var r=Pe();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Uc(t,l[1]))return l[0];if(l=e(),Da){qn(!0);try{e()}finally{qn(!1)}}return r.memoizedState=[l,t],l}function Ic(e,t,r){return r===void 0||(bn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=tg(),ve.lanes|=e,ea|=e,r)}function tm(e,t,r,l){return Tt(r,t)?r:yr.current!==null?(e=Ic(e,r,l),Tt(e,t)||(Ze=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(Se&261930)===0?(Ze=!0,e.memoizedState=r):(e=tg(),ve.lanes|=e,ea|=e,t)}function nm(e,t,r,l,u){var d=V.p;V.p=d!==0&&8>d?d:8;var v=k.T,S={};k.T=S,Jc(e,!1,t,r);try{var C=u(),$=k.S;if($!==null&&$(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=rx(C,l);Ei(e,t,K,Dt(e))}else Ei(e,t,l,Dt(e))}catch(I){Ei(e,t,{then:function(){},status:"rejected",reason:I},Dt())}finally{V.p=d,v!==null&&S.types!==null&&(v.types=S.types),k.T=v}}function ux(){}function Pc(e,t,r,l){if(e.tag!==5)throw Error(s(476));var u=am(e).queue;nm(e,u,t,U,r===null?ux:function(){return rm(e),r(l)})}function am(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:U},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rm(e){var t=am(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},Dt())}function Qc(){return st(Gi)}function im(){return Pe().memoizedState}function sm(){return Pe().memoizedState}function fx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Dt();e=Pn(r);var l=Qn(t,e,r);l!==null&&(wt(l,t,r),bi(l,t,r)),t={cache:Nc()},e.payload=t;return}t=t.return}}function hx(e,t,r){var l=Dt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fl(e)?om(t,r):(r=dc(e,t,r,l),r!==null&&(wt(r,e,l),cm(r,t,l)))}function lm(e,t,r){var l=Dt();Ei(e,t,r,l)}function Ei(e,t,r,l){var u={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(fl(e))om(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,S=d(v,r);if(u.hasEagerState=!0,u.eagerState=S,Tt(S,v))return Ks(e,t,u,0),ze===null&&Ys(),!1}catch{}if(r=dc(e,t,u,l),r!==null)return wt(r,e,l),cm(r,t,l),!0}return!1}function Jc(e,t,r,l){if(l={lane:2,revertLane:Au(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fl(e)){if(t)throw Error(s(479))}else t=dc(e,r,l,2),t!==null&&wt(t,e,2)}function fl(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function om(e,t){vr=rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cm(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,mh(e,r)}}var ji={readContext:st,use:ll,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};ji.useEffectEvent=Ye;var um={readContext:st,use:ll,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Id,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,cl(4194308,4,Zd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){cl(4,2,e,t)},useMemo:function(e,t){var r=dt();t=t===void 0?null:t;var l=e();if(Da){qn(!0);try{e()}finally{qn(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=dt();if(r!==void 0){var u=r(t);if(Da){qn(!0);try{r(t)}finally{qn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=hx.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vc(e);var t=e.queue,r=lm.bind(null,ve,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Xc,useDeferredValue:function(e,t){var r=dt();return Ic(r,e,t)},useTransition:function(){var e=Vc(!1);return e=nm.bind(null,ve,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=ve,u=dt();if(Ee){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),ze===null)throw Error(s(349));(Se&127)!==0||Cd(l,t,r)}u.memoizedState=r;var d={value:r,getSnapshot:t};return u.queue=d,Id(Dd.bind(null,l,d,e),[e]),l.flags|=2048,br(9,{destroy:void 0},kd.bind(null,l,d,r,t),null),r},useId:function(){var e=dt(),t=ze.identifierPrefix;if(Ee){var r=rn,l=an;r=(l&~(1<<32-jt(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=il++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=ix++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:Gd,useActionState:Gd,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Jc.bind(null,ve,!0,r),r.dispatch=t,[e,t]},useMemoCache:qc,useCacheRefresh:function(){return dt().memoizedState=fx.bind(null,ve)},useEffectEvent:function(e){var t=dt(),r={impl:e};return t.memoizedState=r,function(){if((Re&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Zc={readContext:st,use:ll,useCallback:Fd,useContext:st,useEffect:Kc,useImperativeHandle:Wd,useInsertionEffect:Qd,useLayoutEffect:Jd,useMemo:em,useReducer:ol,useRef:Xd,useState:function(){return ol(_n)},useDebugValue:Xc,useDeferredValue:function(e,t){var r=Pe();return tm(r,De.memoizedState,e,t)},useTransition:function(){var e=ol(_n)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Od,useId:im,useHostTransitionStatus:Qc,useFormState:Vd,useActionState:Vd,useOptimistic:function(e,t){var r=Pe();return zd(r,De,e,t)},useMemoCache:qc,useCacheRefresh:sm};Zc.useEffectEvent=Pd;var fm={readContext:st,use:ll,useCallback:Fd,useContext:st,useEffect:Kc,useImperativeHandle:Wd,useInsertionEffect:Qd,useLayoutEffect:Jd,useMemo:em,useReducer:Gc,useRef:Xd,useState:function(){return Gc(_n)},useDebugValue:Xc,useDeferredValue:function(e,t){var r=Pe();return De===null?Ic(r,e,t):tm(r,De.memoizedState,e,t)},useTransition:function(){var e=Gc(_n)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Od,useId:im,useHostTransitionStatus:Qc,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var r=Pe();return De!==null?zd(r,De,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:qc,useCacheRefresh:sm};fm.useEffectEvent=Pd;function Wc(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:b({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fc={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Dt(),u=Pn(l);u.payload=t,r!=null&&(u.callback=r),t=Qn(e,u,l),t!==null&&(wt(t,e,l),bi(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Dt(),u=Pn(l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Qn(e,u,l),t!==null&&(wt(t,e,l),bi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),l=Pn(r);l.tag=2,t!=null&&(l.callback=t),t=Qn(e,l,r),t!==null&&(wt(t,e,r),bi(t,e,r))}};function hm(e,t,r,l,u,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):t.prototype&&t.prototype.isPureReactComponent?!hi(r,l)||!hi(u,d):!0}function dm(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Fc.enqueueReplaceState(t,t.state,null)}function Ma(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=b({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}function mm(e){Vs(e)}function gm(e){console.error(e)}function pm(e){Vs(e)}function hl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function ym(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function eu(e,t,r){return r=Pn(r),r.tag=3,r.payload={element:null},r.callback=function(){hl(e,t)},r}function vm(e){return e=Pn(e),e.tag=3,e}function xm(e,t,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;e.payload=function(){return u(d)},e.callback=function(){ym(t,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){ym(t,r,l),typeof u!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function dx(e,t,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&hr(t,r,u,!0),r=Rt.current,r!==null){switch(r.tag){case 31:case 13:return Yt===null?Nl():r.alternate===null&&Ke===0&&(Ke=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===Fs?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),Eu(e,l,u)),!1;case 22:return r.flags|=65536,l===Fs?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),Eu(e,l,u)),!1}throw Error(s(435,r.tag))}return Eu(e,l,u),Nl(),!1}if(Ee)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==xc&&(e=Error(s(422),{cause:l}),gi(qt(e,r)))):(l!==xc&&(t=Error(s(423),{cause:l}),gi(qt(t,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=qt(l,r),u=eu(e.stateNode,l,u),Oc(e,u),Ke!==4&&(Ke=2)),!1;var d=Error(s(520),{cause:l});if(d=qt(d,r),Mi===null?Mi=[d]:Mi.push(d),Ke!==4&&(Ke=2),t===null)return!0;l=qt(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=eu(r.stateNode,l,e),Oc(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ta===null||!ta.has(d))))return r.flags|=65536,u&=-u,r.lanes|=u,u=vm(u),xm(u,e,r,l),Oc(r,u),!1}r=r.return}while(r!==null);return!1}var tu=Error(s(461)),Ze=!1;function lt(e,t,r,l){t.child=e===null?Sd(t,null,r,l):ka(t,e.child,r,l)}function bm(e,t,r,l,u){r=r.render;var d=t.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Aa(t),l=zc(e,t,r,v,d,u),S=Lc(),e!==null&&!Ze?($c(e,t,u),wn(e,t,u)):(Ee&&S&&yc(t),t.flags|=1,lt(e,t,l,u),t.child)}function _m(e,t,r,l,u){if(e===null){var d=r.type;return typeof d=="function"&&!mc(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,wm(e,t,d,l,u)):(e=Is(r.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!cu(e,u)){var v=d.memoizedProps;if(r=r.compare,r=r!==null?r:hi,r(v,l)&&e.ref===t.ref)return wn(e,t,u)}return t.flags|=1,e=pn(d,l),e.ref=t.ref,e.return=t,t.child=e}function wm(e,t,r,l,u){if(e!==null){var d=e.memoizedProps;if(hi(d,l)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=l=d,cu(e,u))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,wn(e,t,u)}return nu(e,t,r,l,u)}function Sm(e,t,r,l){var u=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~d}else l=0,t.child=null;return Nm(e,t,d,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zs(t,d!==null?d.cachePool:null),d!==null?jd(t,d):kc(),Td(t);else return l=t.lanes=536870912,Nm(e,t,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Zs(t,d.cachePool),jd(t,d),Zn(),t.memoizedState=null):(e!==null&&Zs(t,null),kc(),Zn());return lt(e,t,u,r),t.child}function Ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Nm(e,t,r,l,u){var d=jc();return d=d===null?null:{parent:Qe._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&Zs(t,null),kc(),Td(t),e!==null&&hr(e,t,l,!0),t.childLanes=u,null}function dl(e,t){return t=gl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Em(e,t,r){return ka(t,e.child,null,r),e=dl(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function mx(e,t,r){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=dl(t,l),t.lanes=536870912,Ti(null,e);if(Mc(t),(e=qe)?(e=Lg(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=od(e),r.return=t,t.child=r,it=t,qe=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return dl(t,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Mc(t),u)if(t.flags&256)t.flags&=-257,t=Em(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ze||hr(e,t,r,!1),u=(r&e.childLanes)!==0,Ze||u){if(l=ze,l!==null&&(v=gh(l,r),v!==0&&v!==d.retryLane))throw d.retryLane=v,Na(e,v),wt(l,e,v),tu;Nl(),t=Em(e,t,r)}else e=d.treeContext,qe=Kt(v.nextSibling),it=t,Ee=!0,Yn=null,Vt=!1,e!==null&&fd(t,e),t=dl(t,l),t.flags|=4096;return t}return e=pn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ml(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function nu(e,t,r,l,u){return Aa(t),r=zc(e,t,r,l,void 0,u),l=Lc(),e!==null&&!Ze?($c(e,t,u),wn(e,t,u)):(Ee&&l&&yc(t),t.flags|=1,lt(e,t,r,u),t.child)}function jm(e,t,r,l,u,d){return Aa(t),t.updateQueue=null,r=Rd(t,l,r,u),Ad(e),l=Lc(),e!==null&&!Ze?($c(e,t,d),wn(e,t,d)):(Ee&&l&&yc(t),t.flags|=1,lt(e,t,r,d),t.child)}function Tm(e,t,r,l,u){if(Aa(t),t.stateNode===null){var d=or,v=r.contextType;typeof v=="object"&&v!==null&&(d=st(v)),d=new r(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Ac(t),v=r.contextType,d.context=typeof v=="object"&&v!==null?st(v):or,d.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Wc(t,r,v,l),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Fc.enqueueReplaceState(d,d.state,null),wi(t,l,d,u),_i(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var S=t.memoizedProps,C=Ma(r,S);d.props=C;var $=d.context,K=r.contextType;v=or,typeof K=="object"&&K!==null&&(v=st(K));var I=r.getDerivedStateFromProps;K=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||$!==v)&&dm(t,d,l,v),In=!1;var B=t.memoizedState;d.state=B,wi(t,l,d,u),_i(),$=t.memoizedState,S||B!==$||In?(typeof I=="function"&&(Wc(t,r,I,l),$=t.memoizedState),(C=In||hm(t,r,C,l,B,$,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=$),d.props=l,d.state=$,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Rc(e,t),v=t.memoizedProps,K=Ma(r,v),d.props=K,I=t.pendingProps,B=d.context,$=r.contextType,C=or,typeof $=="object"&&$!==null&&(C=st($)),S=r.getDerivedStateFromProps,($=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==I||B!==C)&&dm(t,d,l,C),In=!1,B=t.memoizedState,d.state=B,wi(t,l,d,u),_i();var H=t.memoizedState;v!==I||B!==H||In||e!==null&&e.dependencies!==null&&Qs(e.dependencies)?(typeof S=="function"&&(Wc(t,r,S,l),H=t.memoizedState),(K=In||hm(t,r,K,l,B,H,C)||e!==null&&e.dependencies!==null&&Qs(e.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=H),d.props=l,d.state=H,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,ml(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=ka(t,e.child,null,u),t.child=ka(t,null,r,u)):lt(e,t,r,u),t.memoizedState=d.state,e=t.child):e=wn(e,t,u),e}function Am(e,t,r,l){return ja(),t.flags|=256,lt(e,t,r,l),t.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:yd()}}function iu(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=kt),e}function Rm(e,t,r){var l=t.pendingProps,u=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(u?Jn(t):Zn(),(e=qe)?(e=Lg(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=od(e),r.return=t,t.child=r,it=t,qe=null)):e=null,e===null)throw Kn(t);return Hu(e)?t.lanes=32:t.lanes=536870912,null}var S=l.children;return l=l.fallback,u?(Zn(),u=t.mode,S=gl({mode:"hidden",children:S},u),l=Ea(l,u,r,null),S.return=t,l.return=t,S.sibling=l,t.child=S,l=t.child,l.memoizedState=ru(r),l.childLanes=iu(e,v,r),t.memoizedState=au,Ti(null,l)):(Jn(t),su(t,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)t.flags&256?(Jn(t),t.flags&=-257,t=lu(e,t,r)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),S=l.fallback,u=t.mode,l=gl({mode:"visible",children:l.children},u),S=Ea(S,u,r,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,ka(t,e.child,null,r),l=t.child,l.memoizedState=ru(r),l.childLanes=iu(e,v,r),t.memoizedState=au,t=Ti(null,l));else if(Jn(t),Hu(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var $=v.dgst;v=$,l=Error(s(419)),l.stack="",l.digest=v,gi({value:l,source:null,stack:null}),t=lu(e,t,r)}else if(Ze||hr(e,t,r,!1),v=(r&e.childLanes)!==0,Ze||v){if(v=ze,v!==null&&(l=gh(v,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Na(e,l),wt(v,e,l),tu;qu(S)||Nl(),t=lu(e,t,r)}else qu(S)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,qe=Kt(S.nextSibling),it=t,Ee=!0,Yn=null,Vt=!1,e!==null&&fd(t,e),t=su(t,l.children),t.flags|=4096);return t}return u?(Zn(),S=l.fallback,u=t.mode,C=e.child,$=C.sibling,l=pn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,$!==null?S=pn($,S):(S=Ea(S,u,r,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,Ti(null,l),l=t.child,S=e.child.memoizedState,S===null?S=ru(r):(u=S.cachePool,u!==null?(C=Qe._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=yd(),S={baseLanes:S.baseLanes|r,cachePool:u}),l.memoizedState=S,l.childLanes=iu(e,v,r),t.memoizedState=au,Ti(e.child,l)):(Jn(t),r=e.child,e=r.sibling,r=pn(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=r,t.memoizedState=null,r)}function su(e,t){return t=gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gl(e,t){return e=At(22,e,null,t),e.lanes=0,e}function lu(e,t,r){return ka(t,e.child,null,r),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Om(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wc(e.return,t,r)}function ou(e,t,r,l,u,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u,treeForkCount:d}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=u,v.treeForkCount=d)}function Cm(e,t,r){var l=t.pendingProps,u=l.revealOrder,d=l.tail;l=l.children;var v=Ie.current,S=(v&2)!==0;if(S?(v=v&1|2,t.flags|=128):v&=1,W(Ie,v),lt(e,t,l,r),l=Ee?mi:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Om(e,r,t);else if(e.tag===19)Om(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&al(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),ou(t,!1,u,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&al(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}ou(t,!0,r,null,d,l);break;case"together":ou(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(hr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=pn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qs(e)))}function gx(e,t,r){switch(t.tag){case 3:$e(t,t.stateNode.containerInfo),Xn(t,Qe,e.memoizedState.cache),ja();break;case 27:case 5:Fr(t);break;case 4:$e(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Jn(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Rm(e,t,r):(Jn(t),e=wn(e,t,r),e!==null?e.sibling:null);Jn(t);break;case 19:var u=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(hr(e,t,r,!1),l=(r&t.childLanes)!==0),u){if(l)return Cm(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),W(Ie,Ie.current),l)break;return null;case 22:return t.lanes=0,Sm(e,t,r,t.pendingProps);case 24:Xn(t,Qe,e.memoizedState.cache)}return wn(e,t,r)}function km(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!cu(e,r)&&(t.flags&128)===0)return Ze=!1,gx(e,t,r);Ze=(e.flags&131072)!==0}else Ze=!1,Ee&&(t.flags&1048576)!==0&&ud(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Oa(t.elementType),t.type=e,typeof e=="function")mc(e)?(l=Ma(e,l),t.tag=1,t=Tm(null,t,e,l,r)):(t.tag=0,t=nu(null,t,e,l,r));else{if(e!=null){var u=e.$$typeof;if(u===R){t.tag=11,t=bm(null,t,e,l,r);break e}else if(u===Q){t.tag=14,t=_m(null,t,e,l,r);break e}}throw t=q(e)||e,Error(s(306,t,""))}}return t;case 0:return nu(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,u=Ma(l,t.pendingProps),Tm(e,t,l,u,r);case 3:e:{if($e(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;u=d.element,Rc(e,t),wi(t,l,null,r);var v=t.memoizedState;if(l=v.cache,Xn(t,Qe,l),l!==d.cache&&Sc(t,[Qe],r,!0),_i(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Am(e,t,l,r);break e}else if(l!==u){u=qt(Error(s(424)),t),gi(u),t=Am(e,t,l,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=Kt(e.firstChild),it=t,Ee=!0,Yn=null,Vt=!0,r=Sd(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ja(),l===u){t=wn(e,t,r);break e}lt(e,t,l,r)}t=t.child}return t;case 26:return ml(e,t),e===null?(r=Vg(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ee||(r=t.type,e=t.pendingProps,l=Cl(me.current).createElement(r),l[rt]=t,l[pt]=e,ot(l,r,e),nt(l),t.stateNode=l):t.memoizedState=Vg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fr(t),e===null&&Ee&&(l=t.stateNode=qg(t.type,t.pendingProps,me.current),it=t,Vt=!0,u=qe,ia(t.type)?(Gu=u,qe=Kt(l.firstChild)):qe=u),lt(e,t,t.pendingProps.children,r),ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((u=l=qe)&&(l=Kx(l,t.type,t.pendingProps,Vt),l!==null?(t.stateNode=l,it=t,qe=Kt(l.firstChild),Vt=!1,u=!0):u=!1),u||Kn(t)),Fr(t),u=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Lu(u,d)?l=null:v!==null&&Lu(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=zc(e,t,sx,null,null,r),Gi._currentValue=u),ml(e,t),lt(e,t,l,r),t.child;case 6:return e===null&&Ee&&((e=r=qe)&&(r=Xx(r,t.pendingProps,Vt),r!==null?(t.stateNode=r,it=t,qe=null,e=!0):e=!1),e||Kn(t)),null;case 13:return Rm(e,t,r);case 4:return $e(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ka(t,null,l,r):lt(e,t,l,r),t.child;case 11:return bm(e,t,t.type,t.pendingProps,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,Xn(t,t.type,l.value),lt(e,t,l.children,r),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Aa(t),u=st(u),l=l(u),t.flags|=1,lt(e,t,l,r),t.child;case 14:return _m(e,t,t.type,t.pendingProps,r);case 15:return wm(e,t,t.type,t.pendingProps,r);case 19:return Cm(e,t,r);case 31:return mx(e,t,r);case 22:return Sm(e,t,r,t.pendingProps);case 24:return Aa(t),l=st(Qe),e===null?(u=jc(),u===null&&(u=ze,d=Nc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=r),u=d),t.memoizedState={parent:l,cache:u},Ac(t),Xn(t,Qe,u)):((e.lanes&r)!==0&&(Rc(e,t),wi(t,null,null,r),_i()),u=e.memoizedState,d=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Xn(t,Qe,l)):(l=d.cache,Xn(t,Qe,l),l!==u.cache&&Sc(t,[Qe],r,!0))),lt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Sn(e){e.flags|=4}function uu(e,t,r,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(ig())e.flags|=8192;else throw Ca=Fs,Tc}else e.flags&=-16777217}function Dm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pg(t))if(ig())e.flags|=8192;else throw Ca=Fs,Tc}function pl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hh():536870912,e.lanes|=t,Nr|=t)}function Ai(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function px(e,t,r){var l=t.pendingProps;switch(vc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),xn(Qe),Be(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fr(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bc())),He(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(Sn(t),d!==null?(He(t),Dm(t,d)):(He(t),uu(t,u,null,l,r))):d?d!==e.memoizedState?(Sn(t),He(t),Dm(t,d)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sn(t),He(t),uu(t,u,e,l,r)),null;case 27:if(Ts(t),r=me.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return He(t),null}e=F.current,fr(t)?hd(t):(e=qg(u,l,r),t.stateNode=e,Sn(t))}return He(t),null;case 5:if(Ts(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return He(t),null}if(d=F.current,fr(t))hd(t);else{var v=Cl(me.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(u,{is:l.is}):v.createElement(u)}}d[rt]=t,d[pt]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=d;e:switch(ot(d,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sn(t)}}return He(t),uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=me.current,fr(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,u=it,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[rt]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Rg(e.nodeValue,r)),e||Kn(t,!0)}else e=Cl(e).createTextNode(l),e[rt]=t,t.stateNode=e}return He(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=fr(t),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[rt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else r=bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(s(558))}return He(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=fr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[rt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),u=!1}else u=bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),pl(t,t.updateQueue),He(t),null);case 4:return Be(),e===null&&ku(t.stateNode.containerInfo),He(t),null;case 10:return xn(t.type),He(t),null;case 19:if(G(Ie),l=t.memoizedState,l===null)return He(t),null;if(u=(t.flags&128)!==0,d=l.rendering,d===null)if(u)Ai(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=al(e),d!==null){for(t.flags|=128,Ai(l,!1),e=d.updateQueue,t.updateQueue=e,pl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)ld(r,e),r=r.sibling;return W(Ie,Ie.current&1|2),Ee&&yn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Nt()>_l&&(t.flags|=128,u=!0,Ai(l,!1),t.lanes=4194304)}else{if(!u)if(e=al(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,pl(t,e),Ai(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ee)return He(t),null}else 2*Nt()-l.renderingStartTime>_l&&r!==536870912&&(t.flags|=128,u=!0,Ai(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Nt(),e.sibling=null,r=Ie.current,W(Ie,u?r&1|2:r&1),Ee&&yn(t,l.treeForkCount),e):(He(t),null);case 22:case 23:return Ot(t),Dc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),r=t.updateQueue,r!==null&&pl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&G(Ra),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xn(Qe),He(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function yx(e,t){switch(vc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Qe),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ts(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(s(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ie),null;case 4:return Be(),null;case 10:return xn(t.type),null;case 22:case 23:return Ot(t),Dc(),e!==null&&G(Ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Qe),null;case 25:return null;default:return null}}function Mm(e,t){switch(vc(t),t.tag){case 3:xn(Qe),Be();break;case 26:case 27:case 5:Ts(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:G(Ie);break;case 10:xn(t.type);break;case 22:case 23:Ot(t),Dc(),e!==null&&G(Ra);break;case 24:xn(Qe)}}function Ri(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&e)===e){l=void 0;var d=r.create,v=r.inst;l=d(),v.destroy=l}r=r.next}while(r!==u)}}catch(S){ke(t,t.return,S)}}function Wn(e,t,r){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,u=t;var C=r,$=S;try{$()}catch(K){ke(u,C,K)}}}l=l.next}while(l!==d)}}catch(K){ke(t,t.return,K)}}function Um(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Ed(t,r)}catch(l){ke(e,e.return,l)}}}function zm(e,t,r){r.props=Ma(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){ke(e,t,l)}}function Oi(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(u){ke(e,t,u)}}function sn(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){ke(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){ke(e,t,u)}else r.current=null}function Lm(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){ke(e,e.return,u)}}function fu(e,t,r){try{var l=e.stateNode;Bx(l,e.type,r,t),l[pt]=t}catch(u){ke(e,e.return,u)}}function $m(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ia(e.type)||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mn));else if(l!==4&&(l===27&&ia(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(du(e,t,r),e=e.sibling;e!==null;)du(e,t,r),e=e.sibling}function yl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&ia(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}function Bm(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ot(t,l,r),t[rt]=e,t[pt]=r}catch(d){ke(e,e.return,d)}}var Nn=!1,We=!1,mu=!1,qm=typeof WeakSet=="function"?WeakSet:Set,at=null;function vx(e,t){if(e=e.containerInfo,Uu=$l,e=Wh(e),lc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var v=0,S=-1,C=-1,$=0,K=0,I=e,B=null;t:for(;;){for(var H;I!==r||u!==0&&I.nodeType!==3||(S=v+u),I!==d||l!==0&&I.nodeType!==3||(C=v+l),I.nodeType===3&&(v+=I.nodeValue.length),(H=I.firstChild)!==null;)B=I,I=H;for(;;){if(I===e)break t;if(B===r&&++$===u&&(S=v),B===d&&++K===l&&(C=v),(H=I.nextSibling)!==null)break;I=B,B=I.parentNode}I=H}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(zu={focusedElem:e,selectionRange:r},$l=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)u=e[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,u=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ae=Ma(r.type,u);e=l.getSnapshotBeforeUpdate(ae,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){ke(r,r.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Bu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Hm(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:jn(e,r),l&4&&Ri(5,r);break;case 1:if(jn(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(v){ke(r,r.return,v)}else{var u=Ma(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ke(r,r.return,v)}}l&64&&Um(r),l&512&&Oi(r,r.return);break;case 3:if(jn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Ed(e,t)}catch(v){ke(r,r.return,v)}}break;case 27:t===null&&l&4&&Bm(r);case 26:case 5:jn(e,r),t===null&&l&4&&Lm(r),l&512&&Oi(r,r.return);break;case 12:jn(e,r);break;case 31:jn(e,r),l&4&&Ym(e,r);break;case 13:jn(e,r),l&4&&Km(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Tx.bind(null,r),Ix(e,r))));break;case 22:if(l=r.memoizedState!==null||Nn,!l){t=t!==null&&t.memoizedState!==null||We,u=Nn;var d=We;Nn=l,(We=t)&&!d?Tn(e,r,(r.subtreeFlags&8772)!==0):jn(e,r),Nn=u,We=d}break;case 30:break;default:jn(e,r)}}function Gm(e){var t=e.alternate;t!==null&&(e.alternate=null,Gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,vt=!1;function En(e,t,r){for(r=r.child;r!==null;)Vm(e,t,r),r=r.sibling}function Vm(e,t,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ei,r)}catch{}switch(r.tag){case 26:We||sn(r,t),En(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:We||sn(r,t);var l=Ge,u=vt;ia(r.type)&&(Ge=r.stateNode,vt=!1),En(e,t,r),Bi(r.stateNode),Ge=l,vt=u;break;case 5:We||sn(r,t);case 6:if(l=Ge,u=vt,Ge=null,En(e,t,r),Ge=l,vt=u,Ge!==null)if(vt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(r.stateNode)}catch(d){ke(r,t,d)}else try{Ge.removeChild(r.stateNode)}catch(d){ke(r,t,d)}break;case 18:Ge!==null&&(vt?(e=Ge,Ug(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),kr(e)):Ug(Ge,r.stateNode));break;case 4:l=Ge,u=vt,Ge=r.stateNode.containerInfo,vt=!0,En(e,t,r),Ge=l,vt=u;break;case 0:case 11:case 14:case 15:Wn(2,r,t),We||Wn(4,r,t),En(e,t,r);break;case 1:We||(sn(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&zm(r,t,l)),En(e,t,r);break;case 21:En(e,t,r);break;case 22:We=(l=We)||r.memoizedState!==null,En(e,t,r),We=l;break;default:En(e,t,r)}}function Ym(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{kr(e)}catch(r){ke(t,t.return,r)}}}function Km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kr(e)}catch(r){ke(t,t.return,r)}}function xx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qm),t;default:throw Error(s(435,e.tag))}}function vl(e,t){var r=xx(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var u=Ax.bind(null,e,l);l.then(u,u)}})}function xt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],d=e,v=t,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ia(S.type)){Ge=S.stateNode,vt=!1;break e}break;case 5:Ge=S.stateNode,vt=!1;break e;case 3:case 4:Ge=S.stateNode.containerInfo,vt=!0;break e}S=S.return}if(Ge===null)throw Error(s(160));Vm(d,v,u),Ge=null,vt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xm(t,e),t=t.sibling}var Qt=null;function Xm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),bt(e),l&4&&(Wn(3,e,e.return),Ri(3,e),Wn(5,e,e.return));break;case 1:xt(t,e),bt(e),l&512&&(We||r===null||sn(r,r.return)),l&64&&Nn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=Qt;if(xt(t,e),bt(e),l&512&&(We||r===null||sn(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[ai]||d[rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),ot(d,l,r),d[rt]=e,nt(d),l=d;break e;case"link":var v=Xg("link","href",u).get(l+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}d=u.createElement(l),ot(d,l,r),u.head.appendChild(d);break;case"meta":if(v=Xg("meta","content",u).get(l+(r.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}d=u.createElement(l),ot(d,l,r),u.head.appendChild(d);break;default:throw Error(s(468,l))}d[rt]=e,nt(d),l=d}e.stateNode=l}else Ig(u,e.type,e.stateNode);else e.stateNode=Kg(u,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Ig(u,e.type,e.stateNode):Kg(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fu(e,e.memoizedProps,r.memoizedProps)}break;case 27:xt(t,e),bt(e),l&512&&(We||r===null||sn(r,r.return)),r!==null&&l&4&&fu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(xt(t,e),bt(e),l&512&&(We||r===null||sn(r,r.return)),e.flags&32){u=e.stateNode;try{tr(u,"")}catch(ae){ke(e,e.return,ae)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,fu(e,u,r!==null?r.memoizedProps:u)),l&1024&&(mu=!0);break;case 6:if(xt(t,e),bt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ae){ke(e,e.return,ae)}}break;case 3:if(Ml=null,u=Qt,Qt=kl(t.containerInfo),xt(t,e),Qt=u,bt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(ae){ke(e,e.return,ae)}mu&&(mu=!1,Im(e));break;case 4:l=Qt,Qt=kl(e.stateNode.containerInfo),xt(t,e),bt(e),Qt=l;break;case 12:xt(t,e),bt(e);break;case 31:xt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vl(e,l)));break;case 13:xt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(bl=Nt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vl(e,l)));break;case 22:u=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,$=Nn,K=We;if(Nn=$||u,We=K||C,xt(t,e),We=K,Nn=$,bt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(r===null||C||Nn||We||Ua(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){C=r=t;try{if(d=C.stateNode,u)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var I=C.memoizedProps.style,B=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ae){ke(C,C.return,ae)}}}else if(t.tag===6){if(r===null){C=t;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(ae){ke(C,C.return,ae)}}}else if(t.tag===18){if(r===null){C=t;try{var H=C.stateNode;u?zg(H,!0):zg(C.stateNode,!1)}catch(ae){ke(C,C.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vl(e,r))));break;case 19:xt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vl(e,l)));break;case 30:break;case 21:break;default:xt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if($m(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var u=r.stateNode,d=hu(e);yl(e,d,u);break;case 5:var v=r.stateNode;r.flags&32&&(tr(v,""),r.flags&=-33);var S=hu(e);yl(e,S,v);break;case 3:case 4:var C=r.stateNode.containerInfo,$=hu(e);du(e,$,C);break;default:throw Error(s(161))}}catch(K){ke(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Im(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hm(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Ua(t);break;case 1:sn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&zm(t,t.return,r),Ua(t);break;case 27:Bi(t.stateNode);case 26:case 5:sn(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function Tn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tn(u,d,r),Ri(4,d);break;case 1:if(Tn(u,d,r),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch($){ke(l,l.return,$)}if(l=d,u=l.updateQueue,u!==null){var S=l.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Nd(C[u],S)}catch($){ke(l,l.return,$)}}r&&v&64&&Um(d),Oi(d,d.return);break;case 27:Bm(d);case 26:case 5:Tn(u,d,r),r&&l===null&&v&4&&Lm(d),Oi(d,d.return);break;case 12:Tn(u,d,r);break;case 31:Tn(u,d,r),r&&v&4&&Ym(u,d);break;case 13:Tn(u,d,r),r&&v&4&&Km(u,d);break;case 22:d.memoizedState===null&&Tn(u,d,r),Oi(d,d.return);break;case 30:break;default:Tn(u,d,r)}t=t.sibling}}function gu(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&pi(r))}function pu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pi(e))}function Jt(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pm(e,t,r,l),t=t.sibling}function Pm(e,t,r,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,r,l),u&2048&&Ri(9,t);break;case 1:Jt(e,t,r,l);break;case 3:Jt(e,t,r,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pi(e)));break;case 12:if(u&2048){Jt(e,t,r,l),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ke(t,t.return,C)}}else Jt(e,t,r,l);break;case 31:Jt(e,t,r,l);break;case 13:Jt(e,t,r,l);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?Jt(e,t,r,l):Ci(e,t):d._visibility&2?Jt(e,t,r,l):(d._visibility|=2,_r(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&gu(v,t);break;case 24:Jt(e,t,r,l),u&2048&&pu(t.alternate,t);break;default:Jt(e,t,r,l)}}function _r(e,t,r,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,v=t,S=r,C=l,$=v.flags;switch(v.tag){case 0:case 11:case 15:_r(d,v,S,C,u),Ri(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?_r(d,v,S,C,u):Ci(d,v):(K._visibility|=2,_r(d,v,S,C,u)),u&&$&2048&&gu(v.alternate,v);break;case 24:_r(d,v,S,C,u),u&&$&2048&&pu(v.alternate,v);break;default:_r(d,v,S,C,u)}t=t.sibling}}function Ci(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,u=l.flags;switch(l.tag){case 22:Ci(r,l),u&2048&&gu(l.alternate,l);break;case 24:Ci(r,l),u&2048&&pu(l.alternate,l);break;default:Ci(r,l)}t=t.sibling}}var ki=8192;function wr(e,t,r){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)Qm(e,t,r),e=e.sibling}function Qm(e,t,r){switch(e.tag){case 26:wr(e,t,r),e.flags&ki&&e.memoizedState!==null&&ib(r,Qt,e.memoizedState,e.memoizedProps);break;case 5:wr(e,t,r);break;case 3:case 4:var l=Qt;Qt=kl(e.stateNode.containerInfo),wr(e,t,r),Qt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,wr(e,t,r),ki=l):wr(e,t,r));break;default:wr(e,t,r)}}function Jm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];at=l,Wm(l,e)}Jm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zm(e),e=e.sibling}function Zm(e){switch(e.tag){case 0:case 11:case 15:Di(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Di(e);break;case 12:Di(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xl(e)):Di(e);break;default:Di(e)}}function xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];at=l,Wm(l,e)}Jm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),xl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,xl(t));break;default:xl(t)}e=e.sibling}}function Wm(e,t){for(;at!==null;){var r=at;switch(r.tag){case 0:case 11:case 15:Wn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pi(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,at=l;else e:for(r=e;at!==null;){l=at;var u=l.sibling,d=l.return;if(Gm(l),l===r){at=null;break e}if(u!==null){u.return=d,at=u;break e}at=d}}}var bx={getCacheForType:function(e){var t=st(Qe),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return st(Qe).controller.signal}},_x=typeof WeakMap=="function"?WeakMap:Map,Re=0,ze=null,_e=null,Se=0,Ce=0,Ct=null,Fn=!1,Sr=!1,yu=!1,An=0,Ke=0,ea=0,za=0,vu=0,kt=0,Nr=0,Mi=null,_t=null,xu=!1,bl=0,Fm=0,_l=1/0,wl=null,ta=null,et=0,na=null,Er=null,Rn=0,bu=0,_u=null,eg=null,Ui=0,wu=null;function Dt(){return(Re&2)!==0&&Se!==0?Se&-Se:k.T!==null?Au():ph()}function tg(){if(kt===0)if((Se&536870912)===0||Ee){var e=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),kt=e}else kt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),kt}function wt(e,t,r){(e===ze&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(jr(e,0),aa(e,Se,kt,!1)),ni(e,r),((Re&2)===0||e!==ze)&&(e===ze&&((Re&2)===0&&(za|=r),Ke===4&&aa(e,Se,kt,!1)),ln(e))}function ng(e,t,r){if((Re&6)!==0)throw Error(s(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||ti(e,t),u=l?Nx(e,t):Nu(e,t,!0),d=l;do{if(u===0){Sr&&!l&&aa(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!wx(r)){u=Nu(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var S=e;u=Mi;var C=S.current.memoizedState.isDehydrated;if(C&&(jr(S,v).flags|=256),v=Nu(S,v,!1),v!==2){if(yu&&!C){S.errorRecoveryDisabledLanes|=d,za|=d,u=4;break e}d=_t,_t=u,d!==null&&(_t===null?_t=d:_t.push.apply(_t,d))}u=v}if(d=!1,u!==2)continue}}if(u===1){jr(e,0),aa(e,t,0,!0);break}e:{switch(l=e,d=u,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:aa(l,t,kt,!Fn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=bl+300-Nt(),10<u)){if(aa(l,t,kt,!Fn),ks(l,0,!0)!==0)break e;Rn=t,l.timeoutHandle=Dg(ag.bind(null,l,r,_t,wl,xu,t,kt,za,Nr,Fn,d,"Throttled",-0,0),u);break e}ag(l,r,_t,wl,xu,t,kt,za,Nr,Fn,d,null,-0,0)}}break}while(!0);ln(e)}function ag(e,t,r,l,u,d,v,S,C,$,K,I,B,H){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},Qm(t,d,I);var ae=(d&62914560)===d?bl-Nt():(d&4194048)===d?Fm-Nt():0;if(ae=sb(I,ae),ae!==null){Rn=d,e.cancelPendingCommit=ae(fg.bind(null,e,t,d,r,l,u,v,S,C,K,I,null,B,H)),aa(e,d,v,!$);return}}fg(e,t,d,r,l,u,v,S,C)}function wx(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],d=u.getSnapshot;u=u.value;try{if(!Tt(d(),u))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function aa(e,t,r,l){t&=~vu,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var d=31-jt(u),v=1<<d;l[d]=-1,u&=~v}r!==0&&dh(e,r,t)}function Sl(){return(Re&6)===0?(zi(0),!1):!0}function Su(){if(_e!==null){if(Ce===0)var e=_e.return;else e=_e,vn=Ta=null,Bc(e),pr=null,vi=0,e=_e;for(;e!==null;)Mm(e.alternate,e),e=e.return;_e=null}}function jr(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Gx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Rn=0,Su(),ze=e,_e=r=pn(e.current,null),Se=t,Ce=0,Ct=null,Fn=!1,Sr=ti(e,t),yu=!1,Nr=kt=vu=za=ea=Ke=0,_t=Mi=null,xu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-jt(l),d=1<<u;t|=e[u],l&=~d}return An=t,Ys(),r}function rg(e,t){ve=null,k.H=ji,t===gr||t===Ws?(t=bd(),Ce=3):t===Tc?(t=bd(),Ce=4):Ce=t===tu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,_e===null&&(Ke=1,hl(e,qt(t,e.current)))}function ig(){var e=Rt.current;return e===null?!0:(Se&4194048)===Se?Yt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Yt:!1}function sg(){var e=k.H;return k.H=ji,e===null?ji:e}function lg(){var e=k.A;return k.A=bx,e}function Nl(){Ke=4,Fn||(Se&4194048)!==Se&&Rt.current!==null||(Sr=!0),(ea&134217727)===0&&(za&134217727)===0||ze===null||aa(ze,Se,kt,!1)}function Nu(e,t,r){var l=Re;Re|=2;var u=sg(),d=lg();(ze!==e||Se!==t)&&(wl=null,jr(e,t)),t=!1;var v=Ke;e:do try{if(Ce!==0&&_e!==null){var S=_e,C=Ct;switch(Ce){case 8:Su(),v=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var $=Ce;if(Ce=0,Ct=null,Tr(e,S,C,$),r&&Sr){v=0;break e}break;default:$=Ce,Ce=0,Ct=null,Tr(e,S,C,$)}}Sx(),v=Ke;break}catch(K){rg(e,K)}while(!0);return t&&e.shellSuspendCounter++,vn=Ta=null,Re=l,k.H=u,k.A=d,_e===null&&(ze=null,Se=0,Ys()),v}function Sx(){for(;_e!==null;)og(_e)}function Nx(e,t){var r=Re;Re|=2;var l=sg(),u=lg();ze!==e||Se!==t?(wl=null,_l=Nt()+500,jr(e,t)):Sr=ti(e,t);e:do try{if(Ce!==0&&_e!==null){t=_e;var d=Ct;t:switch(Ce){case 1:Ce=0,Ct=null,Tr(e,t,d,1);break;case 2:case 9:if(vd(d)){Ce=0,Ct=null,cg(t);break}t=function(){Ce!==2&&Ce!==9||ze!==e||(Ce=7),ln(e)},d.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:vd(d)?(Ce=0,Ct=null,cg(t)):(Ce=0,Ct=null,Tr(e,t,d,7));break;case 5:var v=null;switch(_e.tag){case 26:v=_e.memoizedState;case 5:case 27:var S=_e;if(v?Pg(v):S.stateNode.complete){Ce=0,Ct=null;var C=S.sibling;if(C!==null)_e=C;else{var $=S.return;$!==null?(_e=$,El($)):_e=null}break t}}Ce=0,Ct=null,Tr(e,t,d,5);break;case 6:Ce=0,Ct=null,Tr(e,t,d,6);break;case 8:Su(),Ke=6;break e;default:throw Error(s(462))}}Ex();break}catch(K){rg(e,K)}while(!0);return vn=Ta=null,k.H=l,k.A=u,Re=r,_e!==null?0:(ze=null,Se=0,Ys(),Ke)}function Ex(){for(;_e!==null&&!Py();)og(_e)}function og(e){var t=km(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?El(e):_e=t}function cg(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=jm(r,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=jm(r,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Bc(t);default:Mm(r,t),t=_e=ld(t,An),t=km(r,t,An)}e.memoizedProps=e.pendingProps,t===null?El(e):_e=t}function Tr(e,t,r,l){vn=Ta=null,Bc(t),pr=null,vi=0;var u=t.return;try{if(dx(e,u,t,r,Se)){Ke=1,hl(e,qt(r,e.current)),_e=null;return}}catch(d){if(u!==null)throw _e=u,d;Ke=1,hl(e,qt(r,e.current)),_e=null;return}t.flags&32768?(Ee||l===1?e=!0:Sr||(Se&536870912)!==0?e=!1:(Fn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),ug(t,e)):El(t)}function El(e){var t=e;do{if((t.flags&32768)!==0){ug(t,Fn);return}e=t.return;var r=px(t.alternate,t,An);if(r!==null){_e=r;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ke===0&&(Ke=5)}function ug(e,t){do{var r=yx(e.alternate,e);if(r!==null){r.flags&=32767,_e=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=r}while(e!==null);Ke=6,_e=null}function fg(e,t,r,l,u,d,v,S,C){e.cancelPendingCommit=null;do jl();while(et!==0);if((Re&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=hc,rv(e,r,d,v,S,C),e===ze&&(_e=ze=null,Se=0),Er=t,na=e,Rn=r,bu=d,_u=u,eg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rx(As,function(){return pg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,u=V.p,V.p=2,v=Re,Re|=4;try{vx(e,t,r)}finally{Re=v,V.p=u,k.T=l}}et=1,hg(),dg(),mg()}}function hg(){if(et===1){et=0;var e=na,t=Er,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=k.T,k.T=null;var l=V.p;V.p=2;var u=Re;Re|=4;try{Xm(t,e);var d=zu,v=Wh(e.containerInfo),S=d.focusedElem,C=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Zh(S.ownerDocument.documentElement,S)){if(C!==null&&lc(S)){var $=C.start,K=C.end;if(K===void 0&&(K=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(K,S.value.length);else{var I=S.ownerDocument||document,B=I&&I.defaultView||window;if(B.getSelection){var H=B.getSelection(),ae=S.textContent.length,ce=Math.min(C.start,ae),Ue=C.end===void 0?ce:Math.min(C.end,ae);!H.extend&&ce>Ue&&(v=Ue,Ue=ce,ce=v);var z=Jh(S,ce),D=Jh(S,Ue);if(z&&D&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=I.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),ce>Ue?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(I=[],H=S;H=H.parentNode;)H.nodeType===1&&I.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<I.length;S++){var X=I[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$l=!!Uu,zu=Uu=null}finally{Re=u,V.p=l,k.T=r}}e.current=t,et=2}}function dg(){if(et===2){et=0;var e=na,t=Er,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=k.T,k.T=null;var l=V.p;V.p=2;var u=Re;Re|=4;try{Hm(e,t.alternate,t)}finally{Re=u,V.p=l,k.T=r}}et=3}}function mg(){if(et===4||et===3){et=0,Qy();var e=na,t=Er,r=Rn,l=eg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,Er=na=null,gg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ta=null),Go(r),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=k.T,u=V.p,V.p=2,k.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{k.T=t,V.p=u}}(Rn&3)!==0&&jl(),ln(e),u=e.pendingLanes,(r&261930)!==0&&(u&42)!==0?e===wu?Ui++:(Ui=0,wu=e):Ui=0,zi(0)}}function gg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pi(t)))}function jl(){return hg(),dg(),mg(),pg()}function pg(){if(et!==5)return!1;var e=na,t=bu;bu=0;var r=Go(Rn),l=k.T,u=V.p;try{V.p=32>r?32:r,k.T=null,r=_u,_u=null;var d=na,v=Rn;if(et=0,Er=na=null,Rn=0,(Re&6)!==0)throw Error(s(331));var S=Re;if(Re|=4,Zm(d.current),Pm(d,d.current,v,r),Re=S,zi(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ei,d)}catch{}return!0}finally{V.p=u,k.T=l,gg(e,t)}}function yg(e,t,r){t=qt(r,t),t=eu(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(ni(e,2),ln(e))}function ke(e,t,r){if(e.tag===3)yg(e,e,r);else for(;t!==null;){if(t.tag===3){yg(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ta===null||!ta.has(l))){e=qt(r,e),r=vm(2),l=Qn(t,r,2),l!==null&&(xm(r,l,t,e),ni(l,2),ln(l));break}}t=t.return}}function Eu(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new _x;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(r)||(yu=!0,u.add(r),e=jx.bind(null,e,t,r),t.then(e,e))}function jx(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ze===e&&(Se&r)===r&&(Ke===4||Ke===3&&(Se&62914560)===Se&&300>Nt()-bl?(Re&2)===0&&jr(e,0):vu|=r,Nr===Se&&(Nr=0)),ln(e)}function vg(e,t){t===0&&(t=hh()),e=Na(e,t),e!==null&&(ni(e,t),ln(e))}function Tx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vg(e,r)}function Ax(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),vg(e,r)}function Rx(e,t){return $o(e,t)}var Tl=null,Ar=null,ju=!1,Al=!1,Tu=!1,ra=0;function ln(e){e!==Ar&&e.next===null&&(Ar===null?Tl=Ar=e:Ar=Ar.next=e),Al=!0,ju||(ju=!0,Cx())}function zi(e,t){if(!Tu&&Al){Tu=!0;do for(var r=!1,l=Tl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-jt(42|e)+1)-1,d&=u&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,wg(l,d))}else d=Se,d=ks(l,l===ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ti(l,d)||(r=!0,wg(l,d));l=l.next}while(r);Tu=!1}}function Ox(){xg()}function xg(){Al=ju=!1;var e=0;ra!==0&&Hx()&&(e=ra);for(var t=Nt(),r=null,l=Tl;l!==null;){var u=l.next,d=bg(l,t);d===0?(l.next=null,r===null?Tl=u:r.next=u,u===null&&(Ar=r)):(r=l,(e!==0||(d&3)!==0)&&(Al=!0)),l=u}et!==0&&et!==5||zi(e),ra!==0&&(ra=0)}function bg(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-jt(d),S=1<<v,C=u[v];C===-1?((S&r)===0||(S&l)!==0)&&(u[v]=av(S,t)):C<=t&&(e.expiredLanes|=S),d&=~S}if(t=ze,r=Se,r=ks(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bo(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ti(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&Bo(l),Go(r)){case 2:case 8:r=uh;break;case 32:r=As;break;case 268435456:r=fh;break;default:r=As}return l=_g.bind(null,e),r=$o(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&Bo(l),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(jl()&&e.callbackNode!==r)return null;var l=Se;return l=ks(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ng(e,l,t),bg(e,Nt()),e.callbackNode!=null&&e.callbackNode===r?_g.bind(null,e):null)}function wg(e,t){if(jl())return null;ng(e,t,!0)}function Cx(){Vx(function(){(Re&6)!==0?$o(ch,Ox):xg()})}function Au(){if(ra===0){var e=dr;e===0&&(e=Rs,Rs<<=1,(Rs&261888)===0&&(Rs=256)),ra=e}return ra}function Sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function Ng(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function kx(e,t,r,l,u){if(t==="submit"&&r&&r.stateNode===u){var d=Sg((u[pt]||null).action),v=l.submitter;v&&(t=(t=v[pt]||null)?Sg(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var S=new qs("action","action",null,l,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var C=v?Ng(u,v):new FormData(u);Pc(r,{pending:!0,data:C,method:u.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=v?Ng(u,v):new FormData(u),Pc(r,{pending:!0,data:C,method:u.method,action:d},d,C))},currentTarget:u}]})}}for(var Ru=0;Ru<fc.length;Ru++){var Ou=fc[Ru],Dx=Ou.toLowerCase(),Mx=Ou[0].toUpperCase()+Ou.slice(1);Pt(Dx,"on"+Mx)}Pt(td,"onAnimationEnd"),Pt(nd,"onAnimationIteration"),Pt(ad,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Jv,"onTransitionRun"),Pt(Zv,"onTransitionStart"),Pt(Wv,"onTransitionCancel"),Pt(rd,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Li));function Eg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],u=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,$=S.currentTarget;if(S=S.listener,C!==d&&u.isPropagationStopped())break e;d=S,u.currentTarget=$;try{d(u)}catch(K){Vs(K)}u.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,$=S.currentTarget,S=S.listener,C!==d&&u.isPropagationStopped())break e;d=S,u.currentTarget=$;try{d(u)}catch(K){Vs(K)}u.currentTarget=null,d=C}}}}function we(e,t){var r=t[Vo];r===void 0&&(r=t[Vo]=new Set);var l=e+"__bubble";r.has(l)||(jg(t,e,2,!1),r.add(l))}function Cu(e,t,r){var l=0;t&&(l|=4),jg(r,e,l,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[Rl]){e[Rl]=!0,xh.forEach(function(r){r!=="selectionchange"&&(Ux.has(r)||Cu(r,!1,e),Cu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Cu("selectionchange",!1,t))}}function jg(e,t,r,l){switch(t0(t)){case 2:var u=cb;break;case 8:u=ub;break;default:u=Iu}r=u.bind(null,t,r,e),u=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Du(e,t,r,l,u){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===u)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;S!==null;){if(v=Ja(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ch(function(){var $=d,K=Jo(r),I=[];e:{var B=id.get(e);if(B!==void 0){var H=qs,ae=e;switch(e){case"keypress":if($s(r)===0)break e;case"keydown":case"keyup":H=Av;break;case"focusin":ae="focus",H=nc;break;case"focusout":ae="blur",H=nc;break;case"beforeblur":case"afterblur":H=nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Cv;break;case td:case nd:case ad:H=xv;break;case rd:H=Dv;break;case"scroll":case"scrollend":H=mv;break;case"wheel":H=Uv;break;case"copy":case"cut":case"paste":H=_v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zh;break;case"toggle":case"beforetoggle":H=Lv}var ce=(t&4)!==0,Ue=!ce&&(e==="scroll"||e==="scrollend"),z=ce?B!==null?B+"Capture":null:B;ce=[];for(var D=$,L;D!==null;){var X=D;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||z===null||(X=ii(D,z),X!=null&&ce.push($i(D,X,L))),Ue)break;D=D.return}0<ce.length&&(B=new H(B,ae,null,r,K),I.push({event:B,listeners:ce}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==Qo&&(ae=r.relatedTarget||r.fromElement)&&(Ja(ae)||ae[Qa]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ae=r.relatedTarget||r.toElement,H=$,ae=ae?Ja(ae):null,ae!==null&&(Ue=c(ae),ce=ae.tag,ae!==Ue||ce!==5&&ce!==27&&ce!==6)&&(ae=null)):(H=null,ae=$),H!==ae)){if(ce=Mh,X="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ce=zh,X="onPointerLeave",z="onPointerEnter",D="pointer"),Ue=H==null?B:ri(H),L=ae==null?B:ri(ae),B=new ce(X,D+"leave",H,r,K),B.target=Ue,B.relatedTarget=L,X=null,Ja(K)===$&&(ce=new ce(z,D+"enter",ae,r,K),ce.target=L,ce.relatedTarget=Ue,X=ce),Ue=X,H&&ae)t:{for(ce=zx,z=H,D=ae,L=0,X=z;X;X=ce(X))L++;X=0;for(var le=D;le;le=ce(le))X++;for(;0<L-X;)z=ce(z),L--;for(;0<X-L;)D=ce(D),X--;for(;L--;){if(z===D||D!==null&&z===D.alternate){ce=z;break t}z=ce(z),D=ce(D)}ce=null}else ce=null;H!==null&&Tg(I,B,H,ce,!1),ae!==null&&Ue!==null&&Tg(I,Ue,ae,ce,!0)}}e:{if(B=$?ri($):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Te=Yh;else if(Gh(B))if(Kh)Te=Iv;else{Te=Kv;var re=Yv}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?$&&Po($.elementType)&&(Te=Yh):Te=Xv;if(Te&&(Te=Te(e,$))){Vh(I,Te,r,K);break e}re&&re(e,B,$),e==="focusout"&&$&&B.type==="number"&&$.memoizedProps.value!=null&&Io(B,"number",B.value)}switch(re=$?ri($):window,e){case"focusin":(Gh(re)||re.contentEditable==="true")&&(ir=re,oc=$,di=null);break;case"focusout":di=oc=ir=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Fh(I,r,K);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":Fh(I,r,K)}var xe;if(rc)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else rr?qh(e,r)&&(Ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(Lh&&r.locale!=="ko"&&(rr||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&rr&&(xe=kh()):(Gn=K,Fo="value"in Gn?Gn.value:Gn.textContent,rr=!0)),re=Ol($,Ne),0<re.length&&(Ne=new Uh(Ne,e,null,r,K),I.push({event:Ne,listeners:re}),xe?Ne.data=xe:(xe=Hh(r),xe!==null&&(Ne.data=xe)))),(xe=Bv?qv(e,r):Hv(e,r))&&(Ne=Ol($,"onBeforeInput"),0<Ne.length&&(re=new Uh("onBeforeInput","beforeinput",null,r,K),I.push({event:re,listeners:Ne}),re.data=xe)),kx(I,e,$,r,K)}Eg(I,t)})}function $i(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ol(e,t){for(var r=t+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=ii(e,r),u!=null&&l.unshift($i(e,u,d)),u=ii(e,t),u!=null&&l.push($i(e,u,d))),e.tag===3)return l;e=e.return}return[]}function zx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tg(e,t,r,l,u){for(var d=t._reactName,v=[];r!==null&&r!==l;){var S=r,C=S.alternate,$=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||$===null||(C=$,u?($=ii(r,d),$!=null&&v.unshift($i(r,$,C))):u||($=ii(r,d),$!=null&&v.push($i(r,$,C)))),r=r.return}v.length!==0&&e.push({event:t,listeners:v})}var Lx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(Lx,`
`).replace($x,"")}function Rg(e,t){return t=Ag(t),Ag(e)===t}function Me(e,t,r,l,u,d){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||tr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&tr(e,""+l);break;case"className":Ms(e,"class",l);break;case"tabIndex":Ms(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(e,r,l);break;case"style":Rh(e,l,d);break;case"data":if(t!=="object"){Ms(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=zs(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Me(e,t,"name",u.name,u,null),Me(e,t,"formEncType",u.formEncType,u,null),Me(e,t,"formMethod",u.formMethod,u,null),Me(e,t,"formTarget",u.formTarget,u,null)):(Me(e,t,"encType",u.encType,u,null),Me(e,t,"method",u.method,u,null),Me(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=zs(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=mn);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=zs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":we("beforetoggle",e),we("toggle",e),Ds(e,"popover",l);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hv.get(r)||r,Ds(e,r,l))}}function Mu(e,t,r,l,u,d){switch(r){case"style":Rh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?tr(e,l):(typeof l=="number"||typeof l=="bigint")&&tr(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),t=r.slice(2,u?r.length-7:void 0),d=e[pt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,u);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Ds(e,r,l)}}}function ot(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,u=!1,d;for(d in r)if(r.hasOwnProperty(d)){var v=r[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,d,v,r,null)}}u&&Me(e,t,"srcSet",r.srcSet,r,null),l&&Me(e,t,"src",r.src,r,null);return;case"input":we("invalid",e);var S=d=v=u=null,C=null,$=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":u=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":$=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,t));break;default:Me(e,t,l,K,r,null)}}Eh(e,d,S,C,$,v,u,!1);return;case"select":we("invalid",e),l=v=d=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Me(e,t,u,S,r,null)}t=d,r=v,e.multiple=!!l,t!=null?er(e,!!l,t,!1):r!=null&&er(e,!!l,r,!0);return;case"textarea":we("invalid",e),d=u=l=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":u=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Me(e,t,v,S,r,null)}Th(e,l,u,d);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Me(e,t,C,l,r,null));return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<Li.length;l++)we(Li[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in r)if(r.hasOwnProperty($)&&(l=r[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,$,l,r,null)}return;default:if(Po(t)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&Mu(e,t,K,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Me(e,t,S,l,r,null))}function Bx(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,v=null,S=null,C=null,$=null,K=null;for(H in r){var I=r[H];if(r.hasOwnProperty(H)&&I!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=I;default:l.hasOwnProperty(H)||Me(e,t,H,null,l,I)}}for(var B in l){var H=l[B];if(I=r[B],l.hasOwnProperty(B)&&(H!=null||I!=null))switch(B){case"type":d=H;break;case"name":u=H;break;case"checked":$=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:H!==I&&Me(e,t,B,H,l,I)}}Xo(e,v,S,C,$,K,d,u);return;case"select":H=v=S=B=null;for(d in r)if(C=r[d],r.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||Me(e,t,d,null,l,C)}for(u in l)if(d=l[u],C=r[u],l.hasOwnProperty(u)&&(d!=null||C!=null))switch(u){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==C&&Me(e,t,u,d,l,C)}t=S,r=v,l=H,B!=null?er(e,!!r,B,!1):!!l!=!!r&&(t!=null?er(e,!!r,t,!0):er(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Me(e,t,S,null,l,u)}for(v in l)if(u=l[v],d=r[v],l.hasOwnProperty(v)&&(u!=null||d!=null))switch(v){case"value":B=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==d&&Me(e,t,v,u,l,d)}jh(e,B,H);return;case"option":for(var ae in r)B=r[ae],r.hasOwnProperty(ae)&&B!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?e.selected=!1:Me(e,t,ae,null,l,B));for(C in l)B=l[C],H=r[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Me(e,t,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in r)B=r[ce],r.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&Me(e,t,ce,null,l,B);for($ in l)if(B=l[$],H=r[$],l.hasOwnProperty($)&&B!==H&&(B!=null||H!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:Me(e,t,$,B,l,H)}return;default:if(Po(t)){for(var Ue in r)B=r[Ue],r.hasOwnProperty(Ue)&&B!==void 0&&!l.hasOwnProperty(Ue)&&Mu(e,t,Ue,void 0,l,B);for(K in l)B=l[K],H=r[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Mu(e,t,K,B,l,H);return}}for(var z in r)B=r[z],r.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Me(e,t,z,null,l,B);for(I in l)B=l[I],H=r[I],!l.hasOwnProperty(I)||B===H||B==null&&H==null||Me(e,t,I,B,l,H)}function Og(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var u=r[l],d=u.transferSize,v=u.initiatorType,S=u.duration;if(d&&S&&Og(v)){for(v=0,S=u.responseEnd,l+=1;l<r.length;l++){var C=r[l],$=C.startTime;if($>S)break;var K=C.transferSize,I=C.initiatorType;K&&Og(I)&&(C=C.responseEnd,v+=K*(C<S?1:(S-$)/(C-$)))}if(--l,t+=8*(d+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,zu=null;function Cl(e){return e.nodeType===9?e:e.ownerDocument}function Cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $u=null;function Hx(){var e=window.event;return e&&e.type==="popstate"?e===$u?!1:($u=e,!0):($u=null,!1)}var Dg=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(Yx)}:Dg;function Yx(e){setTimeout(function(){throw e})}function ia(e){return e==="head"}function Ug(e,t){var r=t,l=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(u),kr(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Bi(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Bi(r);for(var d=r.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=v}}else r==="body"&&Bi(e.ownerDocument.body);r=u}while(r);kr(t)}function zg(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Bu(r),Yo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Kx(e,t,r,l){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Xx(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Kt(e.nextSibling),e===null))return null;return e}function Lg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function qu(e){return e.data==="$?"||e.data==="$~"}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ix(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gu=null;function $g(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Kt(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function qg(e,t,r){switch(t=Cl(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Bi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yo(e)}var Xt=new Map,Hg=new Set;function kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=V.d;V.d={f:Px,r:Qx,D:Jx,C:Zx,L:Wx,m:Fx,X:tb,S:eb,M:nb};function Px(){var e=On.f(),t=Sl();return e||t}function Qx(e){var t=Za(e);t!==null&&t.tag===5&&t.type==="form"?rm(t):On.r(e)}var Rr=typeof document>"u"?null:document;function Gg(e,t,r){var l=Rr;if(l&&typeof t=="string"&&t){var u=$t(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Hg.has(u)||(Hg.add(u),e={rel:e,crossOrigin:r,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),ot(t,"link",e),nt(t),l.head.appendChild(t)))}}function Jx(e){On.D(e),Gg("dns-prefetch",e,null)}function Zx(e,t){On.C(e,t),Gg("preconnect",e,t)}function Wx(e,t,r){On.L(e,t,r);var l=Rr;if(l&&e&&t){var u='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+$t(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+$t(r.imageSizes)+'"]')):u+='[href="'+$t(e)+'"]';var d=u;switch(t){case"style":d=Or(e);break;case"script":d=Cr(e)}Xt.has(d)||(e=b({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Xt.set(d,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(qi(d))||t==="script"&&l.querySelector(Hi(d))||(t=l.createElement("link"),ot(t,"link",e),nt(t),l.head.appendChild(t)))}}function Fx(e,t){On.m(e,t);var r=Rr;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(e)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Cr(e)}if(!Xt.has(d)&&(e=b({rel:"modulepreload",href:e},t),Xt.set(d,e),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Hi(d)))return}l=r.createElement("link"),ot(l,"link",e),nt(l),r.head.appendChild(l)}}}function eb(e,t,r){On.S(e,t,r);var l=Rr;if(l&&e){var u=Wa(l).hoistableStyles,d=Or(e);t=t||"default";var v=u.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(qi(d)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Xt.get(d))&&Vu(e,r);var C=v=l.createElement("link");nt(C),ot(C,"link",e),C._p=new Promise(function($,K){C.onload=$,C.onerror=K}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dl(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:S},u.set(d,v)}}}function tb(e,t){On.X(e,t);var r=Rr;if(r&&e){var l=Wa(r).hoistableScripts,u=Cr(e),d=l.get(u);d||(d=r.querySelector(Hi(u)),d||(e=b({src:e,async:!0},t),(t=Xt.get(u))&&Yu(e,t),d=r.createElement("script"),nt(d),ot(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function nb(e,t){On.M(e,t);var r=Rr;if(r&&e){var l=Wa(r).hoistableScripts,u=Cr(e),d=l.get(u);d||(d=r.querySelector(Hi(u)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Xt.get(u))&&Yu(e,t),d=r.createElement("script"),nt(d),ot(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function Vg(e,t,r,l){var u=(u=me.current)?kl(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Or(r.href),r=Wa(u).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Or(r.href);var d=Wa(u).hoistableStyles,v=d.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=u.querySelector(qi(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Xt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xt.set(e,r),d||ab(u,e,r,v.state))),t&&l===null)throw Error(s(528,""));return v}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(r),r=Wa(u).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Or(e){return'href="'+$t(e)+'"'}function qi(e){return'link[rel="stylesheet"]['+e+"]"}function Yg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ot(t,"link",r),nt(t),e.head.appendChild(t))}function Cr(e){return'[src="'+$t(e)+'"]'}function Hi(e){return"script[async]"+e}function Kg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+$t(r.href)+'"]');if(l)return t.instance=l,nt(l),l;var u=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),nt(l),ot(l,"style",u),Dl(l,r.precedence,e),t.instance=l;case"stylesheet":u=Or(r.href);var d=e.querySelector(qi(u));if(d)return t.state.loading|=4,t.instance=d,nt(d),d;l=Yg(r),(u=Xt.get(u))&&Vu(l,u),d=(e.ownerDocument||e).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),ot(d,"link",l),t.state.loading|=4,Dl(d,r.precedence,e),t.instance=d;case"script":return d=Cr(r.src),(u=e.querySelector(Hi(d)))?(t.instance=u,nt(u),u):(l=r,(u=Xt.get(d))&&(l=b({},r),Yu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),nt(u),ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Dl(l,r.precedence,e));return t.instance}function Dl(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===t)d=S;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ml=null;function Xg(e,t,r){if(Ml===null){var l=new Map,u=Ml=new Map;u.set(r,l)}else u=Ml,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var d=r[u];if(!(d[ai]||d[rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function Ig(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function rb(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ib(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=Or(l.href),d=t.querySelector(qi(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ul.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,nt(d);return}d=t.ownerDocument||t,l=Yg(l),(u=Xt.get(u))&&Vu(l,u),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),ot(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ul.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Ku=0;function sb(e,t){return e.stylesheets&&e.count===0&&Ll(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Ll(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Ku===0&&(Ku=62500*qx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ll(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ku?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ll(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zl=null;function Ll(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zl=new Map,t.forEach(lb,e),zl=null,Ul.call(e))}function lb(e,t){if(!(t.state.loading&4)){var r=zl.get(e);if(r)var l=r.get(null);else{r=new Map,zl.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var v=u[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}u=t.instance,v=u.getAttribute("data-precedence"),d=r.get(v)||l,d===l&&r.set(null,u),r.set(v,u),this.count++,l=Ul.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Gi={$$typeof:M,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function ob(e,t,r,l,u,d,v,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.hiddenUpdates=qo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Qg(e,t,r,l,u,d,v,S,C,$,K,I){return e=new ob(e,t,r,v,C,$,K,I,S),t=1,d===!0&&(t|=24),d=At(3,null,null,t),e.current=d,d.stateNode=e,t=Nc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:t},Ac(d),e}function Jg(e){return e?(e=or,e):or}function Zg(e,t,r,l,u,d){u=Jg(u),l.context===null?l.context=u:l.pendingContext=u,l=Pn(t),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Qn(e,l,t),r!==null&&(wt(r,e,t),bi(r,e,t))}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xu(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function Fg(e){if(e.tag===13||e.tag===31){var t=Na(e,67108864);t!==null&&wt(t,e,67108864),Xu(e,67108864)}}function e0(e){if(e.tag===13||e.tag===31){var t=Dt();t=Ho(t);var r=Na(e,t);r!==null&&wt(r,e,t),Xu(e,t)}}var $l=!0;function cb(e,t,r,l){var u=k.T;k.T=null;var d=V.p;try{V.p=2,Iu(e,t,r,l)}finally{V.p=d,k.T=u}}function ub(e,t,r,l){var u=k.T;k.T=null;var d=V.p;try{V.p=8,Iu(e,t,r,l)}finally{V.p=d,k.T=u}}function Iu(e,t,r,l){if($l){var u=Pu(l);if(u===null)Du(e,t,l,Bl,r),n0(e,l);else if(hb(u,e,t,r,l))l.stopPropagation();else if(n0(e,l),t&4&&-1<fb.indexOf(e)){for(;u!==null;){var d=Za(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xa(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-jt(v);S.entanglements[1]|=C,v&=~C}ln(d),(Re&6)===0&&(_l=Nt()+500,zi(0))}}break;case 31:case 13:S=Na(d,2),S!==null&&wt(S,d,2),Sl(),Xu(d,2)}if(d=Pu(l),d===null&&Du(e,t,l,Bl,r),d===u)break;u=d}u!==null&&l.stopPropagation()}else Du(e,t,l,null,r)}}function Pu(e){return e=Jo(e),Qu(e)}var Bl=null;function Qu(e){if(Bl=null,e=Ja(e),e!==null){var t=c(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=m(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bl=e,null}function t0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jy()){case ch:return 2;case uh:return 8;case As:case Zy:return 32;case fh:return 268435456;default:return 32}default:return 32}}var Ju=!1,sa=null,la=null,oa=null,Vi=new Map,Yi=new Map,ca=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function Ki(e,t,r,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Za(t),t!==null&&Fg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hb(e,t,r,l,u){switch(t){case"focusin":return sa=Ki(sa,e,t,r,l,u),!0;case"dragenter":return la=Ki(la,e,t,r,l,u),!0;case"mouseover":return oa=Ki(oa,e,t,r,l,u),!0;case"pointerover":var d=u.pointerId;return Vi.set(d,Ki(Vi.get(d)||null,e,t,r,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Yi.set(d,Ki(Yi.get(d)||null,e,t,r,l,u)),!0}return!1}function a0(e){var t=Ja(e.target);if(t!==null){var r=c(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,yh(e.priority,function(){e0(r)});return}}else if(t===31){if(t=m(r),t!==null){e.blockedOn=t,yh(e.priority,function(){e0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pu(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Qo=l,r.target.dispatchEvent(l),Qo=null}else return t=Za(r),t!==null&&Fg(t),e.blockedOn=r,!1;t.shift()}return!0}function r0(e,t,r){ql(e)&&r.delete(t)}function db(){Ju=!1,sa!==null&&ql(sa)&&(sa=null),la!==null&&ql(la)&&(la=null),oa!==null&&ql(oa)&&(oa=null),Vi.forEach(r0),Yi.forEach(r0)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,db)))}var Gl=null;function i0(e){Gl!==e&&(Gl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Qu(l||r)===null)continue;break}var d=Za(r);d!==null&&(e.splice(t,3),t-=3,Pc(d,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function kr(e){function t(C){return Hl(C,e)}sa!==null&&Hl(sa,e),la!==null&&Hl(la,e),oa!==null&&Hl(oa,e),Vi.forEach(t),Yi.forEach(t);for(var r=0;r<ca.length;r++){var l=ca[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ca.length&&(r=ca[0],r.blockedOn===null);)a0(r),r.blockedOn===null&&ca.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],d=r[l+1],v=u[pt]||null;if(typeof d=="function")v||i0(r);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(u=d,v=d[pt]||null)S=v.formAction;else if(Qu(u)!==null)continue}else S=v.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),i0(r)}}}function s0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Zu(e){this._internalRoot=e}Vl.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,l=Dt();Zg(r,l,e,t,null,null)},Vl.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zg(e.current,2,null,e,null,null),Sl(),t[Qa]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ph();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ca.length&&t!==0&&t<ca[r].priority;r++);ca.splice(r,0,e),r===0&&a0(e)}};var l0=n.version;if(l0!=="19.2.4")throw Error(s(527,l0,"19.2.4"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var mb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{ei=Yl.inject(mb),Et=Yl}catch{}}return Ii.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,l="",u=mm,d=gm,v=pm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Qg(e,1,!1,null,null,r,l,null,u,d,v,s0),e[Qa]=t.current,ku(e),new Zu(t)},Ii.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var l=!1,u="",d=mm,v=gm,S=pm,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),t=Qg(e,1,!0,t,r??null,l,u,C,d,v,S,s0),t.context=Jg(null),r=t.current,l=Dt(),l=Ho(l),u=Pn(l),u.callback=null,Qn(r,u,l),r=l,t.current.lanes=r,ni(t,r),ln(t),e[Qa]=t.current,ku(e),new Vl(t)},Ii.version="19.2.4",Ii}var y0;function Nb(){if(y0)return ef.exports;y0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),ef.exports=Sb(),ef.exports}var Eb=Nb();var v0="popstate";function jb(a={}){function n(s,o){let{pathname:c,search:f,hash:m}=s.location;return bf("",{pathname:c,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:rs(o)}return Ab(n,i,null,a)}function Ve(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function tn(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Tb(){return Math.random().toString(36).substring(2,10)}function x0(a,n){return{usr:a.state,key:a.key,idx:n}}function bf(a,n,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?Jr(n):n,state:i,key:n&&n.key||s||Tb()}}function rs({pathname:a="/",search:n="",hash:i=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Jr(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(n.search=a.substring(s),a=a.substring(0,s)),a&&(n.pathname=a)}return n}function Ab(a,n,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function b(){m="POP";let N=y(),j=N==null?null:N-g;g=N,p&&p({action:m,location:w.location,delta:j})}function _(N,j){m="PUSH";let T=bf(w.location,N,j);g=y()+1;let M=x0(T,g),R=w.createHref(T);try{f.pushState(M,"",R)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(R)}c&&p&&p({action:m,location:w.location,delta:1})}function x(N,j){m="REPLACE";let T=bf(w.location,N,j);g=y();let M=x0(T,g),R=w.createHref(T);f.replaceState(M,"",R),c&&p&&p({action:m,location:w.location,delta:0})}function E(N){return Rb(N)}let w={get action(){return m},get location(){return a(o,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,b),p=N,()=>{o.removeEventListener(v0,b),p=null}},createHref(N){return n(o,N)},createURL:E,encodeLocation(N){let j=E(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:x,go(N){return f.go(N)}};return w}function Rb(a,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:rs(a);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function jp(a,n,i="/"){return Ob(a,n,i,!1)}function Ob(a,n,i,s){let o=typeof n=="string"?Jr(n):n,c=zn(o.pathname||"/",i);if(c==null)return null;let f=Tp(a);Cb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Gb(c);m=qb(f[p],g,s)}return m}function Tp(a,n=[],i=[],s="",o=!1){let c=(f,m,p=o,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Ve(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Un([s,y.relativePath]),_=i.concat(y);f.children&&f.children.length>0&&(Ve(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Tp(f.children,n,_,b,p)),!(f.path==null&&!f.index)&&n.push({path:b,score:$b(b,f.index),routesMeta:_})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of Ap(f.path))c(f,m,!0,p)}),n}function Ap(a){let n=a.split("/");if(n.length===0)return[];let[i,...s]=n,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Ap(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function Cb(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:Bb(n.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var kb=/^:[\w-]+$/,Db=3,Mb=2,Ub=1,zb=10,Lb=-2,b0=a=>a==="*";function $b(a,n){let i=a.split("/"),s=i.length;return i.some(b0)&&(s+=Lb),n&&(s+=Mb),i.filter(o=>!b0(o)).reduce((o,c)=>o+(kb.test(c)?Db:c===""?Ub:zb),s)}function Bb(a,n){return a.length===n.length&&a.slice(0,-1).every((s,o)=>s===n[o])?a[a.length-1]-n[n.length-1]:0}function qb(a,n,i=!1){let{routesMeta:s}=a,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,y=c==="/"?n:n.slice(c.length)||"/",b=fo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),_=p.route;if(!b&&g&&i&&!s[s.length-1].route.index&&(b=fo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Un([c,b.pathname]),pathnameBase:Xb(Un([c,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(c=Un([c,b.pathnameBase]))}return f}function fo(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=Hb(a.path,a.caseSensitive,a.end),o=n.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:b},_)=>{if(y==="*"){let E=m[_]||"";f=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const x=m[_];return b&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:a}}function Hb(a,n=!1,i=!0){tn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function Gb(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return tn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function zn(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var Vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Yb(a,n="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Jr(a):a,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=_0(i.substring(1),"/"):c=_0(i,n)):c=n,{pathname:c,search:Ib(s),hash:Pb(o)}}function _0(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function rf(a,n,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Rp(a){let n=Kb(a);return n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase)}function Op(a,n,i,s=!1){let o;typeof a=="string"?o=Jr(a):(o={...a},Ve(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let b=n.length-1;if(!s&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}m=b>=0?n[b]:"/"}let p=Yb(o,m),g=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Un=a=>a.join("/").replace(/\/\/+/g,"/"),Xb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Pb=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Qb=class{constructor(a,n,i,s=!1){this.status=a,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Jb(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Zb(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kp(a,n){let i=a;if(typeof i!="string"||!Vb.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(Cp)try{let c=new URL(window.location.href),f=i.startsWith("//")?new URL(c.protocol+i):new URL(i),m=zn(f.pathname,n);f.origin===c.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{tn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dp=["POST","PUT","PATCH","DELETE"];new Set(Dp);var Wb=["GET",...Dp];new Set(Wb);var Zr=A.createContext(null);Zr.displayName="DataRouter";var So=A.createContext(null);So.displayName="DataRouterState";var Fb=A.createContext(!1),Mp=A.createContext({isTransitioning:!1});Mp.displayName="ViewTransition";var e_=A.createContext(new Map);e_.displayName="Fetchers";var t_=A.createContext(null);t_.displayName="Await";var It=A.createContext(null);It.displayName="Navigation";var vs=A.createContext(null);vs.displayName="Location";var fn=A.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var Vf=A.createContext(null);Vf.displayName="RouteError";var Up="REACT_ROUTER_ERROR",n_="REDIRECT",a_="ROUTE_ERROR_RESPONSE";function r_(a){if(a.startsWith(`${Up}:${n_}:{`))try{let n=JSON.parse(a.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function i_(a){if(a.startsWith(`${Up}:${a_}:{`))try{let n=JSON.parse(a.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Qb(n.status,n.statusText,n.data)}catch{}}function s_(a,{relative:n}={}){Ve(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=A.useContext(It),{hash:o,pathname:c,search:f}=_s(a,{relative:n}),m=c;return i!=="/"&&(m=c==="/"?i:Un([i,c])),s.createHref({pathname:m,search:f,hash:o})}function xs(){return A.useContext(vs)!=null}function $n(){return Ve(xs(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(vs).location}var zp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lp(a){A.useContext(It).static||A.useLayoutEffect(a)}function bs(){let{isDataRoute:a}=A.useContext(fn);return a?x_():l_()}function l_(){Ve(xs(),"useNavigate() may be used only in the context of a <Router> component.");let a=A.useContext(Zr),{basename:n,navigator:i}=A.useContext(It),{matches:s}=A.useContext(fn),{pathname:o}=$n(),c=JSON.stringify(Rp(s)),f=A.useRef(!1);return Lp(()=>{f.current=!0}),A.useCallback((p,g={})=>{if(tn(f.current,zp),!f.current)return;if(typeof p=="number"){i.go(p);return}let y=Op(p,JSON.parse(c),o,g.relative==="path");a==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Un([n,y.pathname])),(g.replace?i.replace:i.push)(y,g.state,g)},[n,i,c,o,a])}A.createContext(null);function No(){let{matches:a}=A.useContext(fn),n=a[a.length-1];return n?n.params:{}}function _s(a,{relative:n}={}){let{matches:i}=A.useContext(fn),{pathname:s}=$n(),o=JSON.stringify(Rp(i));return A.useMemo(()=>Op(a,JSON.parse(o),s,n==="path"),[a,o,s,n])}function o_(a,n){return $p(a,n)}function $p(a,n,i,s,o){Ve(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=A.useContext(It),{matches:f}=A.useContext(fn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",b=m&&m.route;{let T=b&&b.path||"";qp(g,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=$n(),x;if(n){let T=typeof n=="string"?Jr(n):n;Ve(y==="/"||T.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),x=T}else x=_;let E=x.pathname||"/",w=E;if(y!=="/"){let T=y.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(T.length).join("/")}let N=jp(a,{pathname:w});tn(b||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),tn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=d_(N&&N.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Un([y,c.encodeLocation?c.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Un([y,c.encodeLocation?c.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),f,i,s,o);return n&&j?A.createElement(vs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function c_(){let a=v_(),n=Jb(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:c},"ErrorBoundary")," or"," ",A.createElement("code",{style:c},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},n),i?A.createElement("pre",{style:o},i):null,f)}var u_=A.createElement(c_,null),Bp=class extends A.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const i=i_(a.digest);i&&(a=i)}let n=a!==void 0?A.createElement(fn.Provider,{value:this.props.routeContext},A.createElement(Vf.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?A.createElement(f_,{error:a},n):n}};Bp.contextType=Fb;var sf=new WeakMap;function f_({children:a,error:n}){let{basename:i}=A.useContext(It);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=r_(n.digest);if(s){let o=sf.get(n);if(o)throw o;let c=kp(s.location,i);if(Cp&&!sf.get(n))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw sf.set(n,f),f}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return a}function h_({routeContext:a,match:n,children:i}){let s=A.useContext(Zr);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(fn.Provider,{value:a},i)}function d_(a,n=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,f=i?.errors;if(f!=null){let y=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Ve(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,p=-1;if(i)for(let y=0;y<c.length;y++){let b=c[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:_,errors:x}=i,E=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||E){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=i&&s?(y,b)=>{s(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Zb(i.matches),errorInfo:b})}:void 0;return c.reduceRight((y,b,_)=>{let x,E=!1,w=null,N=null;i&&(x=f&&b.route.id?f[b.route.id]:void 0,w=b.route.errorElement||u_,m&&(p<0&&_===0?(qp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===_&&(E=!0,N=b.route.hydrateFallbackElement||null)));let j=n.concat(c.slice(0,_+1)),T=()=>{let M;return x?M=w:E?M=N:b.route.Component?M=A.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=y,A.createElement(h_,{match:b,routeContext:{outlet:y,matches:j,isDataRoute:i!=null},children:M})};return i&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?A.createElement(Bp,{location:i.location,revalidation:i.revalidation,component:w,error:x,children:T(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:g}):T()},null)}function Yf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m_(a){let n=A.useContext(Zr);return Ve(n,Yf(a)),n}function g_(a){let n=A.useContext(So);return Ve(n,Yf(a)),n}function p_(a){let n=A.useContext(fn);return Ve(n,Yf(a)),n}function Kf(a){let n=p_(a),i=n.matches[n.matches.length-1];return Ve(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function y_(){return Kf("useRouteId")}function v_(){let a=A.useContext(Vf),n=g_("useRouteError"),i=Kf("useRouteError");return a!==void 0?a:n.errors?.[i]}function x_(){let{router:a}=m_("useNavigate"),n=Kf("useNavigate"),i=A.useRef(!1);return Lp(()=>{i.current=!0}),A.useCallback(async(o,c={})=>{tn(i.current,zp),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...c}))},[a,n])}var w0={};function qp(a,n,i){!n&&!w0[a]&&(w0[a]=!0,tn(!1,i))}A.memo(b_);function b_({routes:a,future:n,state:i,onError:s}){return $p(a,void 0,i,s,n)}function ut(a){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function __({basename:a="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Ve(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=A.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof i=="string"&&(i=Jr(i));let{pathname:g="/",search:y="",hash:b="",state:_=null,key:x="default"}=i,E=A.useMemo(()=>{let w=zn(g,m);return w==null?null:{location:{pathname:w,search:y,hash:b,state:_,key:x},navigationType:s}},[m,g,y,b,_,x,s]);return tn(E!=null,`<Router basename="${m}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:A.createElement(It.Provider,{value:p},A.createElement(vs.Provider,{children:n,value:E}))}function w_({children:a,location:n}){return o_(_f(a),n)}function _f(a,n=[]){let i=[];return A.Children.forEach(a,(s,o)=>{if(!A.isValidElement(s))return;let c=[...n,o];if(s.type===A.Fragment){i.push.apply(i,_f(s.props.children,c));return}Ve(s.type===ut,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_f(s.props.children,c)),i.push(f)}),i}var io="get",so="application/x-www-form-urlencoded";function Eo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function S_(a){return Eo(a)&&a.tagName.toLowerCase()==="button"}function N_(a){return Eo(a)&&a.tagName.toLowerCase()==="form"}function E_(a){return Eo(a)&&a.tagName.toLowerCase()==="input"}function j_(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function T_(a,n){return a.button===0&&(!n||n==="_self")&&!j_(a)}function wf(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,i)=>{let s=a[i];return n.concat(Array.isArray(s)?s.map(o=>[i,o]):[[i,s]])},[]))}function A_(a,n){let i=wf(a);return n&&n.forEach((s,o)=>{i.has(o)||n.getAll(o).forEach(c=>{i.append(o,c)})}),i}var Kl=null;function R_(){if(Kl===null)try{new FormData(document.createElement("form"),0),Kl=!1}catch{Kl=!0}return Kl}var O_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lf(a){return a!=null&&!O_.has(a)?(tn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${so}"`),null):a}function C_(a,n){let i,s,o,c,f;if(N_(a)){let m=a.getAttribute("action");s=m?zn(m,n):null,i=a.getAttribute("method")||io,o=lf(a.getAttribute("enctype"))||so,c=new FormData(a)}else if(S_(a)||E_(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(s=p?zn(p,n):null,i=a.getAttribute("formmethod")||m.getAttribute("method")||io,o=lf(a.getAttribute("formenctype"))||lf(m.getAttribute("enctype"))||so,c=new FormData(m,a),!R_()){let{name:g,type:y,value:b}=a;if(y==="image"){let _=g?`${g}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else g&&c.append(g,b)}}else{if(Eo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=io,s=null,o=so,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xf(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function k_(a,n,i,s){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:n&&zn(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function D_(a,n){if(a.id in n)return n[a.id];try{let i=await import(a.module);return n[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M_(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function U_(a,n,i){let s=await Promise.all(a.map(async o=>{let c=n.routes[o.route.id];if(c){let f=await D_(c,i);return f.links?f.links():[]}return[]}));return B_(s.flat(1).filter(M_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S0(a,n,i,s,o,c){let f=(p,g)=>i[g]?p.route.id!==i[g].route.id:!0,m=(p,g)=>i[g].pathname!==p.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==p.params["*"];return c==="assets"?n.filter((p,g)=>f(p,g)||m(p,g)):c==="data"?n.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function z_(a,n,{includeHydrateFallback:i}={}){return L_(a.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function L_(a){return[...new Set(a)]}function $_(a){let n={},i=Object.keys(a).sort();for(let s of i)n[s]=a[s];return n}function B_(a,n){let i=new Set;return new Set(n),a.reduce((s,o)=>{let c=JSON.stringify($_(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Hp(){let a=A.useContext(Zr);return Xf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function q_(){let a=A.useContext(So);return Xf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var If=A.createContext(void 0);If.displayName="FrameworkContext";function Gp(){let a=A.useContext(If);return Xf(a,"You must render this element inside a <HydratedRouter> element"),a}function H_(a,n){let i=A.useContext(If),[s,o]=A.useState(!1),[c,f]=A.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=n,_=A.useRef(null);A.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let w=j=>{j.forEach(T=>{f(T.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[a]),A.useEffect(()=>{if(s){let w=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(w)}}},[s]);let x=()=>{o(!0)},E=()=>{o(!1),f(!1)};return i?a!=="intent"?[c,_,{}]:[c,_,{onFocus:Pi(m,x),onBlur:Pi(p,E),onMouseEnter:Pi(g,x),onMouseLeave:Pi(y,E),onTouchStart:Pi(b,x)}]:[!1,_,{}]}function Pi(a,n){return i=>{a&&a(i),i.defaultPrevented||n(i)}}function G_({page:a,...n}){let{router:i}=Hp(),s=A.useMemo(()=>jp(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?A.createElement(Y_,{page:a,matches:s,...n}):null}function V_(a){let{manifest:n,routeModules:i}=Gp(),[s,o]=A.useState([]);return A.useEffect(()=>{let c=!1;return U_(a,n,i).then(f=>{c||o(f)}),()=>{c=!0}},[a,n,i]),s}function Y_({page:a,matches:n,...i}){let s=$n(),{future:o,manifest:c,routeModules:f}=Gp(),{basename:m}=Hp(),{loaderData:p,matches:g}=q_(),y=A.useMemo(()=>S0(a,n,g,c,s,"data"),[a,n,g,c,s]),b=A.useMemo(()=>S0(a,n,g,c,s,"assets"),[a,n,g,c,s]),_=A.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let w=new Set,N=!1;if(n.forEach(T=>{let M=c.routes[T.route.id];!M||!M.hasLoader||(!y.some(R=>R.route.id===T.route.id)&&T.route.id in p&&f[T.route.id]?.shouldRevalidate||M.hasClientLoader?N=!0:w.add(T.route.id))}),w.size===0)return[];let j=k_(a,m,o.unstable_trailingSlashAwareDataRequests,"data");return N&&w.size>0&&j.searchParams.set("_routes",n.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[j.pathname+j.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,c,y,n,a,f]),x=A.useMemo(()=>z_(b,c),[b,c]),E=V_(b);return A.createElement(A.Fragment,null,_.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),x.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),E.map(({key:w,link:N})=>A.createElement("link",{key:w,nonce:i.nonce,...N,crossOrigin:N.crossOrigin??i.crossOrigin})))}function K_(...a){return n=>{a.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var X_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X_&&(window.__reactRouterVersion="7.13.0")}catch{}function I_({basename:a,children:n,unstable_useTransitions:i,window:s}){let o=A.useRef();o.current==null&&(o.current=jb({window:s,v5Compat:!0}));let c=o.current,[f,m]=A.useState({action:c.action,location:c.location}),p=A.useCallback(g=>{i===!1?m(g):A.startTransition(()=>m(g))},[i]);return A.useLayoutEffect(()=>c.listen(p),[c,p]),A.createElement(__,{basename:a,children:n,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:i})}var Vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pe=A.forwardRef(function({onClick:n,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...x},E){let{basename:w,unstable_useTransitions:N}=A.useContext(It),j=typeof g=="string"&&Vp.test(g),T=kp(g,w);g=T.to;let M=s_(g,{relative:o}),[R,Y,P]=H_(s,x),Q=Z_(g,{replace:f,state:m,target:p,preventScrollReset:y,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:N});function te(de){n&&n(de),de.defaultPrevented||Q(de)}let ie=A.createElement("a",{...x,...P,href:T.absoluteURL||M,onClick:T.isExternal||c?n:te,ref:K_(E,Y),target:p,"data-discover":!j&&i==="render"?"true":void 0});return R&&!j?A.createElement(A.Fragment,null,ie,A.createElement(G_,{page:M})):ie});pe.displayName="Link";var P_=A.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...g},y){let b=_s(f,{relative:g.relative}),_=$n(),x=A.useContext(So),{navigator:E,basename:w}=A.useContext(It),N=x!=null&&aw(b)&&m===!0,j=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,T=_.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(T=T.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&w&&(M=zn(M,w)||M);const R=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Y=T===j||!o&&T.startsWith(j)&&T.charAt(R)==="/",P=M!=null&&(M===j||!o&&M.startsWith(j)&&M.charAt(j.length)==="/"),Q={isActive:Y,isPending:P,isTransitioning:N},te=Y?n:void 0,ie;typeof s=="function"?ie=s(Q):ie=[s,Y?"active":null,P?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let de=typeof c=="function"?c(Q):c;return A.createElement(pe,{...g,"aria-current":te,className:ie,ref:y,style:de,to:f,viewTransition:m},typeof p=="function"?p(Q):p)});P_.displayName="NavLink";var Q_=A.forwardRef(({discover:a="render",fetcherKey:n,navigate:i,reloadDocument:s,replace:o,state:c,method:f=io,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...x},E)=>{let{unstable_useTransitions:w}=A.useContext(It),N=tw(),j=nw(m,{relative:g}),T=f.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&Vp.test(m),R=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let P=Y.nativeEvent.submitter,Q=P?.getAttribute("formmethod")||f,te=()=>N(P||Y.currentTarget,{fetcherKey:n,method:Q,navigate:i,replace:o,state:c,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_});w&&i!==!1?A.startTransition(()=>te()):te()};return A.createElement("form",{ref:E,method:T,action:j,onSubmit:s?p:R,...x,"data-discover":!M&&a==="render"?"true":void 0})});Q_.displayName="Form";function J_(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yp(a){let n=A.useContext(Zr);return Ve(n,J_(a)),n}function Z_(a,{target:n,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=bs(),y=$n(),b=_s(a,{relative:c});return A.useCallback(_=>{if(T_(_,n)){_.preventDefault();let x=i!==void 0?i:rs(y)===rs(b),E=()=>g(a,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m});p?A.startTransition(()=>E()):E()}},[y,g,b,i,s,n,a,o,c,f,m,p])}function W_(a){tn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=A.useRef(wf(a)),i=A.useRef(!1),s=$n(),o=A.useMemo(()=>A_(s.search,i.current?null:n.current),[s.search]),c=bs(),f=A.useCallback((m,p)=>{const g=wf(typeof m=="function"?m(new URLSearchParams(o)):m);i.current=!0,c("?"+g,p)},[c,o]);return[o,f]}var F_=0,ew=()=>`__${String(++F_)}__`;function tw(){let{router:a}=Yp("useSubmit"),{basename:n}=A.useContext(It),i=y_(),s=a.fetch,o=a.navigate;return A.useCallback(async(c,f={})=>{let{action:m,method:p,encType:g,formData:y,body:b}=C_(c,n);if(f.navigate===!1){let _=f.fetcherKey||ew();await s(_,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,n,i])}function nw(a,{relative:n}={}){let{basename:i}=A.useContext(It),s=A.useContext(fn);Ve(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={..._s(a||".",{relative:n})},f=$n();if(a==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Un([i,c.pathname])),rs(c)}function aw(a,{relative:n}={}){let i=A.useContext(Mp);Ve(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Yp("useViewTransitionState"),o=_s(a,{relative:n});if(!i.isTransitioning)return!1;let c=zn(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=zn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return fo(o.pathname,f)!=null||fo(o.pathname,c)!=null}function jo(a,n){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i}function rw(a,n,i,s){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(y){try{g(s.next(y))}catch(b){f(b)}}function p(y){try{g(s.throw(y))}catch(b){f(b)}}function g(y){y.done?c(y.value):o(y.value).then(m,p)}g((s=s.apply(a,n||[])).next())})}const iw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class Pf extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}}class sw extends Pf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class N0 extends Pf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class E0 extends Pf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Sf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Sf||(Sf={}));class lw{constructor(n,{headers:i={},customFetch:s,region:o=Sf.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=iw(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return rw(this,arguments,void 0,function*(i,s={}){var o;let c,f;try{const{headers:m,method:p,body:g,signal:y,timeout:b}=s;let _={},{region:x}=s;x||(x=this.region);const E=new URL(`${this.url}/${i}`);x&&x!=="any"&&(_["x-region"]=x,E.searchParams.set("forceFunctionRegion",x));let w;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",w=g):typeof g=="string"?(_["Content-Type"]="text/plain",w=g):typeof FormData<"u"&&g instanceof FormData?w=g:(_["Content-Type"]="application/json",w=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?w=JSON.stringify(g):w=g;let N=y;b&&(f=new AbortController,c=setTimeout(()=>f.abort(),b),y?(N=f.signal,y.addEventListener("abort",()=>f.abort())):N=f.signal);const j=yield this.fetch(E.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:w,signal:N}).catch(Y=>{throw new sw(Y)}),T=j.headers.get("x-relay-error");if(T&&T==="true")throw new N0(j);if(!j.ok)throw new E0(j);let M=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return M==="application/json"?R=yield j.json():M==="application/octet-stream"||M==="application/pdf"?R=yield j.blob():M==="text/event-stream"?R=j:M==="multipart/form-data"?R=yield j.formData():R=yield j.text(),{data:R,error:null,response:j}}catch(m){return{data:null,error:m,response:m instanceof E0||m instanceof N0?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var ow=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},cw=class{constructor(a){var n,i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(s=a.urlLengthLimit)!==null&&s!==void 0?s:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,m=null,p=null,g=c.status,y=c.statusText;if(c.ok){var b,_;if(i.method!=="HEAD"){var x;const j=await c.text();j===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((x=i.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?m=j:m=JSON.parse(j))}const w=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),N=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");w&&N&&N.length>1&&(p=parseInt(N[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var E;const w=await c.text();try{f=JSON.parse(w),Array.isArray(f)&&c.status===404&&(m=[],f=null,g=200,y="OK")}catch{c.status===404&&w===""?(g=204,y="No Content"):f={message:w}}if(f&&i.isMaybeSingle&&(!(f==null||(E=f.details)===null||E===void 0)&&E.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&i.shouldThrowOnError)throw new ow(f)}return{error:f,data:m,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let m="",p="",g="";const y=c?.cause;if(y){var b,_,x,E;const j=(b=y?.message)!==null&&b!==void 0?b:"",T=(_=y?.code)!==null&&_!==void 0?_:"";m=`${(x=c?.name)!==null&&x!==void 0?x:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(E=y?.name)!==null&&E!==void 0?E:"Error"}: ${j}`,T&&(m+=` (${T})`),y?.stack&&(m+=`
${y.stack}`)}else{var w;m=(w=c?.stack)!==null&&w!==void 0?w:""}const N=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(g="",p="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",p="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(p+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:m,hint:p,code:g},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},uw=class extends cw{select(a){let n=!1;const i=(a??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,n,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(c,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:o=!1,format:c="text"}={}){var f;const m=[a?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const j0=new RegExp("[,()]");var Hr=class extends uw{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&j0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}notIn(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&j0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${i})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:i,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${o}fts${c}.${n}`),this}match(a){return Object.entries(a).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(a,n,i){return this.url.searchParams.append(a,`not.${n}.${i}`),this}or(a,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,n,i){return this.url.searchParams.append(a,`${n}.${i}`),this}},fw=class{constructor(a,{headers:n={},schema:i,fetch:s,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=i,this.fetch=s,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:i=!1,count:s}=n??{},o=i?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),s&&p.append("Prefer",`count=${s}`),new Hr({method:o,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);c.searchParams.set("columns",p.join(","))}}return new Hr({method:o,url:c,headers:f,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:o=!0}={}){var c;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),s&&p.append("Prefer",`count=${s}`),o||p.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);m.searchParams.set("columns",y.join(","))}}return new Hr({method:f,url:m,headers:p,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var i;const s="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Hr({method:s,url:o,headers:c,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const i="DELETE",{url:s,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new Hr({method:i,url:s,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function is(a){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},is(a)}function hw(a,n){if(is(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(is(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function dw(a){var n=hw(a,"string");return is(n)=="symbol"?n:n+""}function mw(a,n,i){return(n=dw(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function T0(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Xl(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?T0(Object(i),!0).forEach(function(s){mw(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):T0(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}var gw=class Kp{constructor(n,{headers:i={},schema:s,fetch:o,timeout:c,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=s,this.urlLengthLimit=f;const m=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(p,g)=>{const y=new AbortController,b=setTimeout(()=>y.abort(),c),_=g?.signal;if(_){if(_.aborted)return clearTimeout(b),m(p,g);const x=()=>{clearTimeout(b),y.abort()};return _.addEventListener("abort",x,{once:!0}),m(p,Xl(Xl({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(b),_.removeEventListener("abort",x)})}return m(p,Xl(Xl({},g),{},{signal:y.signal})).finally(()=>clearTimeout(b))}:this.fetch=m}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fw(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new Kp(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:s=!1,get:o=!1,count:c}={}){var f;let m;const p=new URL(`${this.url}/rpc/${n}`);let g;const y=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(y)),b=s&&Object.values(i).some(y);b?(m="POST",g=i):s||o?(m=s?"HEAD":"GET",Object.entries(i).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{p.searchParams.append(x,E)})):(m="POST",g=i);const _=new Headers(this.headers);return b?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new Hr({method:m,url:p,headers:_,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class pw{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const o=s.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const yw="2.95.3",vw=`realtime-js/${yw}`,xw="1.0.0",Xp="2.0.0",A0=Xp,Nf=1e4,bw=1e3,_w=100;var fa;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(fa||(fa={}));var tt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(tt||(tt={}));var Ft;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Ft||(Ft={}));var Ef;(function(a){a.websocket="websocket"})(Ef||(Ef={}));var Ha;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ha||(Ha={}));class ww{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,s){var o,c;const f=n.topic,m=(o=n.ref)!==null&&o!==void 0?o:"",p=(c=n.join_ref)!==null&&c!==void 0?c:"",g=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+g.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+_);let E=new DataView(x),w=0;E.setUint8(w++,this.KINDS.userBroadcastPush),E.setUint8(w++,p.length),E.setUint8(w++,m.length),E.setUint8(w++,f.length),E.setUint8(w++,g.length),E.setUint8(w++,b.length),E.setUint8(w++,i),Array.from(p,j=>E.setUint8(w++,j.charCodeAt(0))),Array.from(m,j=>E.setUint8(w++,j.charCodeAt(0))),Array.from(f,j=>E.setUint8(w++,j.charCodeAt(0))),Array.from(g,j=>E.setUint8(w++,j.charCodeAt(0))),Array.from(b,j=>E.setUint8(w++,j.charCodeAt(0)));var N=new Uint8Array(x.byteLength+s.byteLength);return N.set(new Uint8Array(x),0),N.set(new Uint8Array(s),x.byteLength),N.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[o,c,f,m,p]=s;return i({join_ref:o,ref:c,topic:f,event:m,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,s){const o=i.getUint8(1),c=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let p=this.HEADER_LENGTH+4;const g=s.decode(n.slice(p,p+o));p=p+o;const y=s.decode(n.slice(p,p+c));p=p+c;const b=s.decode(n.slice(p,p+f));p=p+f;const _=n.slice(p,n.byteLength),x=m===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,E={type:this.BROADCAST_EVENT,event:y,payload:x};return f>0&&(E.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}let Ip=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Le;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Le||(Le={}));const R0=(a,n,i={})=>{var s;const o=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=Sw(f,a,n,o),c),{}):{}},Sw=(a,n,i,s)=>{const o=n.find(m=>m.name===a),c=o?.type,f=i[a];return c&&!s.includes(c)?Pp(c,f):jf(f)},Pp=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return Tw(n,i)}switch(a){case Le.bool:return Nw(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Ew(n);case Le.json:case Le.jsonb:return jw(n);case Le.timestamp:return Aw(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return jf(n);default:return jf(n)}},jf=a=>a,Nw=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Ew=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},jw=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},Tw=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,s=a[i];if(a[0]==="{"&&s==="}"){let c;const f=a.slice(1,i);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>Pp(n,m))}return a},Aw=a=>typeof a=="string"?a.replace(" ","T"):a,Qp=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class of{constructor(n,i,s={},o=Nf){this.channel=n,this.event=i,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var O0;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(O0||(O0={}));class ns{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ns.syncState(this.state,o,c,f),this.pendingDiffs.forEach(p=>{this.state=ns.syncDiff(this.state,p,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ns.syncDiff(this.state,o,c,f),m())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,o){const c=this.cloneDeep(n),f=this.transformState(i),m={},p={};return this.map(c,(g,y)=>{f[g]||(p[g]=y)}),this.map(f,(g,y)=>{const b=c[g];if(b){const _=y.map(N=>N.presence_ref),x=b.map(N=>N.presence_ref),E=y.filter(N=>x.indexOf(N.presence_ref)<0),w=b.filter(N=>_.indexOf(N.presence_ref)<0);E.length>0&&(m[g]=E),w.length>0&&(p[g]=w)}else m[g]=y}),this.syncDiff(c,{joins:m,leaves:p},s,o)}static syncDiff(n,i,s,o){const{joins:c,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(m,p)=>{var g;const y=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(p),y.length>0){const b=n[m].map(x=>x.presence_ref),_=y.filter(x=>b.indexOf(x.presence_ref)<0);n[m].unshift(..._)}s(m,y,p)}),this.map(f,(m,p)=>{let g=n[m];if(!g)return;const y=p.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),n[m]=g,o(m,g,p),g.length===0&&delete n[m]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const o=n[s];return"metas"in o?i[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[s]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C0;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(C0||(C0={}));var as;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(as||(as={}));var kn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class Yr{constructor(n,i={config:{}},s){var o,c;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new of(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Ip(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ns(this),this.broadcastEndpointURL=Qp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[as.PRESENCE]&&this.bindings[as.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>n?.(kn.CHANNEL_ERROR,x)),this._onClose(()=>n?.(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){n?.(kn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,N=(E=w?.length)!==null&&E!==void 0?E:0,j=[];for(let T=0;T<N;T++){const M=w[T],{filter:{event:R,schema:Y,table:P,filter:Q}}=M,te=x&&x[T];if(te&&te.event===R&&Yr.isFilterValueEqual(te.schema,Y)&&Yr.isFilterValueEqual(te.table,P)&&Yr.isFilterValueEqual(te.filter,Q))j.push(Object.assign(Object.assign({},M),{id:te.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,n&&n(kn.SUBSCRIBED);return}}).receive("error",x=>{this.state=tt.errored,n?.(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n?.(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===tt.joined&&n===as.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var s,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,p;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new of(this,Ft.leave,{},n),s.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),f}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new of(this,n,i,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>_w){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var o,c;const f=n.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=Ft;if(s&&[m,p,g,y].indexOf(f)>=0&&s!==this._joinRef())return;let _=this._onMessage(f,i,s);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var E,w,N;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(w=x.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(x=>x.callback(_,s)):(c=this.bindings[f])===null||c===void 0||c.filter(x=>{var E,w,N,j,T,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const R=x.id,Y=(E=x.filter)===null||E===void 0?void 0:E.event;return R&&((w=i.ids)===null||w===void 0?void 0:w.includes(R))&&(Y==="*"||Y?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const R=(T=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return R==="*"||R===((M=i?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:w,table:N,commit_timestamp:j,type:T,errors:M}=E;_=Object.assign(Object.assign({},{schema:w,table:N,commit_timestamp:j,eventType:T,new:{},old:{},errors:M}),this._getPayloadRecords(E))}x.callback(_,s)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const o=n.toLocaleLowerCase(),c={type:o,filter:i,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Yr.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ft.close,{},n)}_onError(n){this._on(Ft.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=R0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=R0(n.columns,n.old_record)),i}}const cf=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rw=[1e3,2e3,5e3,1e4],Ow=1e4,Cw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kw{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nf,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cf,this.ref=0,this.reconnectTimer=null,this.vsn=A0,this.logger=cf,this.conn=null,this.sendBuffer=[],this.serializer=new ww,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Ef.websocket}`,this.httpEndpoint=Qp(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pw.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return Ha.Connecting;case fa.open:return Ha.Open;case fa.closing:return Ha.Closing;default:return Ha.Closed}}isConnected(){return this.connectionState()===Ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new Yr(`realtime:${n}`,i,this);return this.channels.push(c),c}}push(n){const{topic:i,event:s,payload:o,ref:c}=n,f=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${i} ${s} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(bw,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:c,ref:f}=i,m=f?`(${f})`:"",p=c.status||"";this.log("receive",`${p} ${s} ${o} ${m}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(o,c,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fa.open||this.conn.readyState===fa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ft.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${s}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([Cw],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:vw};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Ft.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Ip(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,o,c,f,m,p,g,y,b,_,x;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:Nf,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Il.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:cf,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:A0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(E=>Rw[E-1]||Ow),this.vsn){case xw:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((E,w)=>w(JSON.stringify(E))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((E,w)=>w(JSON.parse(E)));break;case Xp:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(x=n?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ss=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dw(a,n,i){const s=new URL(n,a);if(i)for(const[o,c]of Object.entries(i))c!==void 0&&s.searchParams.set(o,c);return s.toString()}async function Mw(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Uw(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:o,body:c,headers:f}){const m=Dw(a.baseUrl,s,o),p=await Mw(a.auth),g=await n(m,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...p,...f},body:c?JSON.stringify(c):void 0}),y=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),_=b&&y?JSON.parse(y):y;if(!g.ok){const x=b?_:void 0,E=x?.error;throw new ss(E?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:E?.type,icebergCode:E?.code,details:x})}return{status:g.status,headers:g.headers,data:_}}}}function Pl(a){return a.join("")}var zw=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:Pl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pl(a.namespace)}`}),!0}catch(n){if(n instanceof ss&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof ss&&i.status===409)return;throw i}}};function Dr(a){return a.join("")}var Lw=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dr(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dr(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dr(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dr(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dr(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof ss&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof ss&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},$w=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Uw({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new zw(this.client,n),this.tableOps=new Lw(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},To=class extends Error{constructor(a,n="storage",i,s){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=s}};function Ao(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var Ql=class extends To{constructor(a,n,i,s="storage"){super(a,s,n,i),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jp=class extends To{constructor(a,n,i="storage"){super(a,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Bw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),qw=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Tf=a=>{if(Array.isArray(a))return a.map(i=>Tf(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,s])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Tf(s)}),n},Hw=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function ls(a){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ls(a)}function Gw(a,n){if(ls(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(ls(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Vw(a){var n=Gw(a,"string");return ls(n)=="symbol"?n:n+""}function Yw(a,n,i){return(n=Vw(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function k0(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function he(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?k0(Object(i),!0).forEach(function(s){Yw(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):k0(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const D0=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},Kw=async(a,n,i,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const o=a,c=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const m=f?.statusCode||f?.code||c+"";n(new Ql(D0(f),c,m,s))}).catch(()=>{if(s==="vectors"){const f=c+"";n(new Ql(o.statusText||`HTTP ${c} error`,c,f,s))}else{const f=c+"";n(new Ql(o.statusText||`HTTP ${c} error`,c,f,s))}});else{const f=c+"";n(new Ql(o.statusText||`HTTP ${c} error`,c,f,s))}}else n(new Jp(D0(a),a,s))},Xw=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!s?he(he({},o),i):(qw(s)?(o.headers=he({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,n?.duplex&&(o.duplex=n.duplex),he(he({},o),i))};async function Qi(a,n,i,s,o,c,f){return new Promise((m,p)=>{a(i,Xw(n,s,o,c)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;if(f==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>Kw(g,p,s,f))})}function Zp(a="storage"){return{get:async(n,i,s,o)=>Qi(n,"GET",i,s,o,void 0,a),post:async(n,i,s,o,c)=>Qi(n,"POST",i,o,c,s,a),put:async(n,i,s,o,c)=>Qi(n,"PUT",i,o,c,s,a),head:async(n,i,s,o)=>Qi(n,"HEAD",i,he(he({},s),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,i,s,o,c)=>Qi(n,"DELETE",i,o,c,s,a)}}const Iw=Zp("storage"),{get:os,post:Wt,put:Af,head:Pw,remove:Qf}=Iw,Ut=Zp("vectors");var Wr=class{constructor(a,n={},i,s="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Bw(i),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ao(i))return{data:null,error:i};throw i}}},Qw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}}};let Wp;Wp=Symbol.toStringTag;var Jw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Wp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qw(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}}};const Zw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ww=class extends Wr{constructor(a,n={},i,s){super(a,n,s,"storage"),this.bucketId=i}async uploadOrUpdate(a,n,i,s){var o=this;return o.handleOperation(async()=>{let c;const f=he(he({},M0),s);let m=he(he({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),p&&c.append("metadata",o.encodeMetadata(p)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),p&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(p))):(c=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(m=he(he({},m),s.headers));const g=o._removeEmptyFolders(n),y=o._getFinalPath(g),b=await(a=="PUT"?Af:Wt)(o.fetch,`${o.url}/object/${y}`,c,he({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(a,n,i){return this.uploadOrUpdate("POST",a,n,i)}async uploadToSignedUrl(a,n,i,s){var o=this;const c=o._removeEmptyFolders(a),f=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),o.handleOperation(async()=>{let p;const g=he({upsert:M0.upsert},s),y=he(he({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:c,fullPath:(await Af(o.fetch,m.toString(),p,{headers:y})).Key}})}async createSignedUploadUrl(a,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(a);const o=he({},i.headers);n?.upsert&&(o["x-upsert"]="true");const c=await Wt(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(i.url+c.url),m=f.searchParams.get("token");if(!m)throw new To("No token returned by API");return{signedUrl:f.toString(),path:a,token:m}})}async update(a,n,i){return this.uploadOrUpdate("PUT",a,n,i)}async move(a,n,i){var s=this;return s.handleOperation(async()=>await Wt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers}))}async copy(a,n,i){var s=this;return s.handleOperation(async()=>({path:(await Wt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(a,n,i){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(a),c=await Wt(s.fetch,`${s.url}/object/sign/${o}`,he({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${s.url}${c.signedURL}${f}`)}})}async createSignedUrls(a,n,i){var s=this;return s.handleOperation(async()=>{const o=await Wt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:a},{headers:s.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o.map(f=>he(he({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${c}`):null}))})}download(a,n,i){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"",f=this._getFinalPath(a),m=()=>os(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0},i);return new Jw(m,this.shouldThrowOnError)}async info(a){var n=this;const i=n._getFinalPath(a);return n.handleOperation(async()=>Tf(await os(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(a){var n=this;const i=n._getFinalPath(a);try{return await Pw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ao(s)&&s instanceof Jp){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,n){const i=this._getFinalPath(a),s=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${m}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await Qf(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,i){var s=this;return s.handleOperation(async()=>{const o=he(he(he({},Zw),n),{},{prefix:a||""});return await Wt(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},i)})}async listV2(a,n){var i=this;return i.handleOperation(async()=>{const s=he({},a);return await Wt(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const Fw="2.95.3",ws={"X-Client-Info":`storage-js/${Fw}`};var e1=class extends Wr{constructor(a,n={},i,s){const o=new URL(a);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),f=he(he({},ws),n);super(c,f,i,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(a);return await os(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await os(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var i=this;return i.handleOperation(async()=>await Wt(i.fetch,`${i.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(a,n){var i=this;return i.handleOperation(async()=>await Af(i.fetch,`${i.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await Wt(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Qf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},t1=class extends Wr{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=he(he({},ws),n);super(s,o,i,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Wt(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const s=i.toString(),o=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await os(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Qf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!Hw(a))throw new To("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new $w({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(o,m),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}},n1=class extends Wr{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=he(he({},ws),{},{"Content-Type":"application/json"},n);super(s,o,i,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var i=this;return i.handleOperation(async()=>await Ut.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var i=this;return i.handleOperation(async()=>await Ut.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers})||{})}},a1=class extends Wr{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=he(he({},ws),{},{"Content-Type":"application/json"},n);super(s,o,i,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},r1=class extends Wr{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=he(he({},ws),{},{"Content-Type":"application/json"},n);super(s,o,i,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Ut.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},i1=class extends r1{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new s1(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,i=this;return n().call(i,a)}async getBucket(a){var n=()=>super.getBucket,i=this;return n().call(i,a)}async listBuckets(a={}){var n=()=>super.listBuckets,i=this;return n().call(i,a)}async deleteBucket(a){var n=()=>super.deleteBucket,i=this;return n().call(i,a)}},s1=class extends n1{constructor(a,n,i,s){super(a,n,s),this.vectorBucketName=i}async createIndex(a){var n=()=>super.createIndex,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,a)}index(a){return new l1(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},l1=class extends a1{constructor(a,n,i,s,o){super(a,n,o),this.vectorBucketName=i,this.indexName=s}async putVectors(a){var n=()=>super.putVectors,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(a){var n=()=>super.getVectors,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,i=this;return n().call(i,he(he({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},o1=class extends e1{constructor(a,n={},i,s){super(a,n,i,s)}from(a){return new Ww(this.url,this.headers,a,this.fetch)}get vectors(){return new i1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new t1(this.url+"/iceberg",this.headers,this.fetch)}};const Fp="2.95.3",Gr=30*1e3,Rf=3,uf=Rf*Gr,c1="http://localhost:9999",u1="supabase.auth.token",f1={"X-Client-Info":`gotrue-js/${Fp}`},Of="X-Supabase-Api-Version",ey={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d1=600*1e3;class cs extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function se(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class m1 extends cs{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function g1(a){return se(a)&&a.name==="AuthApiError"}class Ga extends cs{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class Bn extends cs{constructor(n,i,s,o){super(n,s,o),this.name=i,this.status=s}}class Mt extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ff(a){return se(a)&&a.name==="AuthSessionMissingError"}class Mr extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends Bn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Zl extends Bn{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p1(a){return se(a)&&a.name==="AuthImplicitGrantRedirectError"}class U0 extends Bn{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y1 extends Bn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cf extends Bn{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function hf(a){return se(a)&&a.name==="AuthRetryableFetchError"}class z0 extends Bn{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class kf extends Bn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L0=` 	
\r=`.split(""),v1=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<L0.length;n+=1)a[L0[n].charCodeAt(0)]=-2;for(let n=0;n<ho.length;n+=1)a[ho[n].charCodeAt(0)]=n;return a})();function $0(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(ho[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(ho[s]),n.queuedBits-=6}}function ty(a,n,i){const s=v1[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function B0(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{_1(f,s,i)};for(let f=0;f<a.length;f+=1)ty(a.charCodeAt(f),o,c);return n.join("")}function x1(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function b1(a,n){for(let i=0;i<a.length;i+=1){let s=a.charCodeAt(i);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}x1(s,n)}}function _1(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Kr(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)ty(a.charCodeAt(o),i,s);return new Uint8Array(n)}function w1(a){const n=[];return b1(a,i=>n.push(i)),new Uint8Array(n)}function Va(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};return a.forEach(o=>$0(o,i,s)),$0(null,i,s),n.join("")}function S1(a){return Math.round(Date.now()/1e3)+a}function N1(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",La={tested:!1,writable:!1},ny=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(La.tested)return La.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),La.tested=!0,La.writable=!0}catch{La.tested=!0,La.writable=!1}return La.writable};function E1(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return i.searchParams.forEach((s,o)=>{n[o]=s}),n}const ay=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),j1=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Vr=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},$a=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ct=async(a,n)=>{await a.removeItem(n)};class Ro{constructor(){this.promise=new Ro.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Ro.promiseConstructor=Promise;function Wl(a){const n=a.split(".");if(n.length!==3)throw new kf("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!h1.test(n[s]))throw new kf("JWT not in base64url format");return{header:JSON.parse(B0(n[0])),payload:JSON.parse(B0(n[1])),signature:Kr(n[2]),raw:{header:n[0],payload:n[1]}}}async function T1(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function A1(a,n){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await a(c);if(!n(c,null,f)){s(f);return}}catch(f){if(!n(c,f)){o(f);return}}})()})}function R1(a){return("0"+a.toString(16)).substr(-2)}function O1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(n),Array.from(n,R1).join("")}async function C1(a){const i=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function k1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await C1(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(a,n,i=!1){const s=O1();let o=s;i&&(o+="/PASSWORD_RECOVERY"),await Vr(a,`${n}-code-verifier`,o);const c=await k1(s);return[c,s===c?"plain":"s256"]}const D1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M1(a){const n=a.headers.get(Of);if(!n||!n.match(D1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function U1(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function z1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(a){if(!L1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function df(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $1(a,n){return new Proxy(a,{get:(i,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,o)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,o)}})}function q0(a){return JSON.parse(JSON.stringify(a))}const qa=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),B1=[502,503,504];async function H0(a){var n;if(!j1(a))throw new Cf(qa(a),0);if(B1.includes(a.status))throw new Cf(qa(a),a.status);let i;try{i=await a.json()}catch(c){throw new Ga(qa(c),c)}let s;const o=M1(a);if(o&&o.getTime()>=ey["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new z0(qa(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new Mt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new z0(qa(i),a.status,i.weak_password.reasons);throw new m1(qa(i),a.status||500,s)}const q1=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),i))};async function fe(a,n,i,s){var o;const c=Object.assign({},s?.headers);c[Of]||(c[Of]=ey["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await H1(a,n,i+m,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function H1(a,n,i,s,o,c){const f=q1(n,s,o,c);let m;try{m=await a(i,Object.assign({},f))}catch(p){throw console.error(p),new Cf(qa(p),0)}if(m.ok||await H0(m),s?.noResolveJson)return m;try{return await m.json()}catch(p){await H0(p)}}function Zt(a){var n;let i=null;Y1(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=S1(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:s},error:null}}function G0(a){const n=Zt(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function da(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function G1(a){return{data:a,error:null}}function V1(a){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:c}=a,f=jo(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:c},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function V0(a){return a}function Y1(a){return a.access_token&&a.refresh_token&&a.expires_in}const mf=["global","local","others"];class K1{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=ay(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=mf[0]){if(mf.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mf.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=jo(n,["options"]),o=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:V1,redirectTo:i?.redirectTo})}catch(i){if(se(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:da})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,o,c,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:V0});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=w}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){zr(n);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:da})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){zr(n);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){zr(n);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){zr(n.userId);try{const{data:i,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:s}}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteFactor(n){zr(n.userId),zr(n.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,o,c,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:V0});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=w}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}}function Y0(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Lr={debug:!!(globalThis&&ny()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ry extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class X1 extends ry{}async function I1(a,n,i){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new X1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Lr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function P1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Q1(a){return parseInt(a,16)}function J1(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function Z1(a){var n;const{chainId:i,domain:s,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:y,uri:b,version:_}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const x=iy(a.address),E=y?`${y}://${s}`:s,w=a.statement?`${a.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${x}

${w}`;let j=`URI: ${b}
Version: ${_}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),m&&(j+=`
Not Before: ${m.toISOString()}`),p&&(j+=`
Request ID: ${p}`),g){let T=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);T+=`
- ${M}`}j+=T}return`${N}
${j}`}class Fe extends Error{constructor({message:n,code:i,cause:s,name:o}){var c;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=o??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class mo extends Fe{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function W1({error:a,options:n}){var i,s,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Fe({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(sy(f)){if(c.rp.id!==f)return new Fe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function F1({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Fe({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(sy(s)){if(i.rpId!==s)return new Fe({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class e2{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const t2=new e2;function n2(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:s}=a,o=jo(a,["challenge","user","excludeCredentials"]),c=Kr(n).buffer,f=Object.assign(Object.assign({},i),{id:Kr(i.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:f});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const g=s[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Kr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function a2(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,s=jo(a,["challenge","allowCredentials"]),o=Kr(n).buffer,c=Object.assign(Object.assign({},s),{challenge:o});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];c.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Kr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function r2(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Va(new Uint8Array(a.response.attestationObject)),clientDataJSON:Va(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function i2(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,s=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Va(new Uint8Array(o.authenticatorData)),clientDataJSON:Va(new Uint8Array(o.clientDataJSON)),signature:Va(new Uint8Array(o.signature)),userHandle:o.userHandle?Va(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function sy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function K0(){var a,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function s2(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new mo("Browser returned unexpected credential type",n)}:{data:null,error:new mo("Empty credential response",n)}}catch(n){return{data:null,error:W1({error:n,options:a})}}}async function l2(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new mo("Browser returned unexpected credential type",n)}:{data:null,error:new mo("Empty credential response",n)}}catch(n){return{data:null,error:F1({error:n,options:a})}}}const o2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},c2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function go(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of a)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))s[c]=f;else if(i(f))s[c]=f;else if(n(f)){const m=s[c];n(m)?s[c]=go(m,f):s[c]=go(f)}else s[c]=f}return s}function u2(a,n){return go(o2,a,n||{})}function f2(a,n){return go(c2,a,n||{})}class h2{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:o},c){var f;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!m)return{data:null,error:p};const g=o??t2.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:y}=m.webauthn.credential_options.publicKey;if(!y.name){const b=s;if(b)y.name=`${y.id}:${b}`;else{const x=(await this.client.getUser()).data.user,E=((f=x?.user_metadata)===null||f===void 0?void 0:f.name)||x?.email||x?.id||"User";y.name=`${y.id}:${E}`}}y.displayName||(y.displayName=y.name)}switch(m.webauthn.type){case"create":{const y=u2(m.webauthn.credential_options.publicKey,c?.create),{data:b,error:_}=await s2({publicKey:y,signal:g});return b?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=f2(m.webauthn.credential_options.publicKey,c?.request),{data:b,error:_}=await l2(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(m){return se(m)?{data:null,error:m}:{data:null,error:new Ga("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new cs("rpId is required for WebAuthn authentication")};try{if(!K0())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:o},{request:c});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:s,credential_response:p.credential_response}})}catch(f){return se(f)?{data:null,error:f}:{data:null,error:new Ga("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new cs("rpId is required for WebAuthn registration")};try{if(!K0())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:o},{create:c});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return se(f)?{data:null,error:f}:{data:null,error:new Ga("Unexpected error in register",f)}}}}P1();const d2={url:c1,storageKey:u1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function X0(a,n,i){return await i()}const $r={};class us{get jwks(){var n,i;return(i=(n=$r[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=$r[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},d2),n);if(this.storageKey=c.storageKey,this.instanceID=(i=us.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,us.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new K1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ay(c.fetch),this.lock=c.lock||X0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&ft()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=I1:this.lock=X0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:ny()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Y0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Y0(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(ft()&&(i=E1(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),ft()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),p1(c)){const p=(n=c.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return se(i)?this._returnResult({error:i}):this._returnResult({error:new Ga("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,o;try{const c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Zt}),{data:f,error:m}=c;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var i,s,o;try{let c;if("email"in n){const{email:y,password:b,options:_}=n;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await Ur(this.storage,this.storageKey)),c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:b,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:E},xform:Zt})}else if("phone"in n){const{phone:y,password:b,options:_}=n;c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Zt})}else throw new Jl("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let i;if("email"in n){const{email:c,password:f,options:m}=n;i=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:G0})}else if("phone"in n){const{phone:c,password:f,options:m}=n;i=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:G0})}else throw new Jl("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const c=new Mr;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,o,c,f,m,p,g,y,b,_;let x,E;if("message"in n)x=n.message,E=n.signature;else{const{chain:w,wallet:N,statement:j,options:T}=n;let M;if(ft())if(typeof N=="object")M=N;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")M=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const R=new URL((i=T?.url)!==null&&i!==void 0?i:window.location.href),Y=await M.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=iy(Y[0]);let Q=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!Q){const ie=await M.request({method:"eth_chainId"});Q=Q1(ie)}const te={domain:R.host,address:P,statement:j,uri:R.href,version:"1",chainId:Q,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=T?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=T?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=Z1(te),E=await M.request({method:"personal_sign",params:[J1(x),P]})}try{const{data:w,error:N}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:E},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Zt});if(N)throw N;if(!w||!w.session||!w.user){const j=new Mr;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:N})}catch(w){if(se(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(n){var i,s,o,c,f,m,p,g,y,b,_,x;let E,w;if("message"in n)E=n.message,w=n.signature;else{const{chain:N,wallet:j,statement:T,options:M}=n;let R;if(ft())if(typeof j=="object")R=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))R=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=j}const Y=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in R&&R.signIn){const P=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),T?{statement:T}:null));let Q;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")Q=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)Q=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)E=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),w=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Y.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(o=(s=M?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=M?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(y=M?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const P=await R.signMessage(new TextEncoder().encode(E),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:N,error:j}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Va(w)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zt});if(j)throw j;if(!N||!N.session||!N.user){const T=new Mr;return this._returnResult({data:{user:null,session:null},error:T})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(se(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(n){const i=await $a(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new y1;const{data:c,error:f}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:Zt});if(await ct(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const m=new Mr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:i,provider:s,token:o,access_token:c,nonce:f}=n,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Zt}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new Mr;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,o,c,f;try{if("email"in n){const{email:m,options:p}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ur(this.storage,this.storageKey));const{error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:m,options:p}=n,{data:g,error:y}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new Jl("You must provide either an email or phone number.")}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var i,s;try{let o,c;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,c=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:m}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Zt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,s,o,c,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Ur(this.storage,this.storageKey));const g=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:G1});return!((c=g.data)===null||c===void 0)&&c.url&&ft()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new Mt;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:o,options:c}=n,{error:f}=await fe(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:s,type:o,options:c}=n,{data:f,error:m}=await fe(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Jl("You must provide either an email or phone number and a type")}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await $a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<uf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const f=await $a(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=df()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=$1(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:da}):await this._useSession(async i=>{var s,o,c;const{data:f,error:m}=i;if(m)throw m;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:da})})}catch(i){if(se(i))return ff(i)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new Mt;const f=o.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await Ur(this.storage,this.storageKey));const{data:g,error:y}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:da});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Mt;const i=Date.now()/1e3;let s=i,o=!0,c=null;const{payload:f}=Wl(n.access_token);if(f.exp&&(s=f.exp,o=s<=i),o){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:f,error:m}=i;if(m)throw m;n=(s=f.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new Mt;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!ft())throw new Zl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Zl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new U0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new U0("No code detected.");const{data:T,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=n;if(!c||!m||!f||!g)throw new Zl("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let _=y+b;p&&(_=parseInt(p));const x=_-y;x*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const E=_-b;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,y);const{data:w,error:N}=await this._getUser(c);if(N)throw N;const j={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:_,refresh_token:f,token_type:g,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:n.type},error:null})}catch(s){if(se(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await $a(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c&&!ff(c))return this._returnResult({error:c});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(g1(m)&&(m.status===404||m.status===401||m.status===403)||ff(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=N1(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,o;try{const{data:{session:c},error:f}=i;if(f)throw f;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,i={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ur(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:o}=await this._useSession(async c=>{var f,m,p,g,y;const{data:b,error:_}=c;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return ft()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(se(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:o,data:{session:c}}=i;if(o)throw o;const{options:f,provider:m,token:p,access_token:g,nonce:y}=n,b=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt}),{data:_,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Mr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,o;const{data:c,error:f}=i;if(f)throw f;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await A1(async o=>(o>0&&await T1(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Zt})),(o,c)=>{const f=200*Math.pow(2,o);return c&&hf(c)&&Date.now()+f-s<Gr})}catch(s){if(this._debug(i,"error",s),se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),ft()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await $a(this.storage,this.storageKey);if(o&&this.userStorage){let f=await $a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Vr(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:df()}else if(o&&!o.user&&!o.user){const f=await $a(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ct(this.storage,this.storageKey+"-user"),await Vr(this.storage,this.storageKey,o)):o.user=df()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const c=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<uf;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${uf}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),hf(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(o.access_token);!m&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ro;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Mt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),se(c)){const f={data:null,error:c};return hf(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,s=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,i)}catch(p){c.push(p)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Vr(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const c=q0(o);await Vr(this.storage,this.storageKey,c)}else{const o=q0(i);await Vr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-n)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Gr}ms, refresh threshold is ${Rf} ticks`),o<=Rf&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ry)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const o=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,f]=await Ur(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;return c?this._returnResult({data:null,error:c}):await fe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,o;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:g}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?r2(n.webauthn.credential_response):i2(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=await fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:n2(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:a2(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,s,o,c;if(n)try{const{payload:x}=Wl(n);let E=null;x.aal&&(E=x.aal);let w=E;const{data:{user:N},error:j}=await this.getUser(n);if(j)return this._returnResult({data:null,error:j});((s=(i=N?.factors)===null||i===void 0?void 0:i.filter(R=>R.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(w="aal2");const M=x.amr||[];return{data:{currentLevel:E,nextLevel:w,currentAuthenticationMethods:M},error:null}}catch(x){if(se(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Wl(f.access_token);let g=null;p.aal&&(g=p.aal);let y=g;((c=(o=f.user.factors)===null||o===void 0?void 0:o.filter(x=>x.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const _=p.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const f=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const f=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(m=>m.kid===n);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(m=>m.kid===n),s&&this.jwks_cached_at+d1>o)return s;const{data:c,error:f}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(m=>m.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:x,error:E}=await this.getSession();if(E||!x.session)return this._returnResult({data:null,error:E});s=x.session.access_token}const{header:o,payload:c,signature:f,raw:{header:m,payload:p}}=Wl(s);i?.allowExpired||U1(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:c,header:o,signature:f},error:null}}const y=z1(o.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,f,w1(`${m}.${p}`)))throw new kf("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}}us.nextInstanceID={};const m2=us,g2="2.95.3";let Wi="";typeof Deno<"u"?Wi="deno":typeof document<"u"?Wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wi="react-native":Wi="node";const p2={"X-Client-Info":`supabase-js-${Wi}/${g2}`},y2={headers:p2},v2={schema:"public"},x2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b2={};function fs(a){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fs(a)}function _2(a,n){if(fs(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(fs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function w2(a){var n=_2(a,"string");return fs(n)=="symbol"?n:n+""}function S2(a,n,i){return(n=w2(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function I0(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Xe(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?I0(Object(i),!0).forEach(function(s){S2(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):I0(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const N2=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),E2=()=>Headers,j2=(a,n,i)=>{const s=N2(i),o=E2();return async(c,f)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:a;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),s(c,Xe(Xe({},f),{},{headers:g}))}};function T2(a){return a.endsWith("/")?a:a+"/"}function A2(a,n){var i,s;const{db:o,auth:c,realtime:f,global:m}=a,{db:p,auth:g,realtime:y,global:b}=n,_={db:Xe(Xe({},p),o),auth:Xe(Xe({},g),c),realtime:Xe(Xe({},y),f),storage:{},global:Xe(Xe(Xe({},b),m),{},{headers:Xe(Xe({},(i=b?.headers)!==null&&i!==void 0?i:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function R2(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(T2(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var O2=class extends m2{constructor(a){super(a)}},C2=class{constructor(a,n,i){var s,o;this.supabaseUrl=a,this.supabaseKey=n;const c=R2(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:v2,realtime:b2,auth:Xe(Xe({},x2),{},{storageKey:f}),global:y2},p=A2(i??{},m);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=j2(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new gw(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new o1(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new lw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,i;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:c,flowType:f,lock:m,debug:p,throwOnError:g},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O2({url:this.authUrl.href,headers:Xe(Xe({},_),y),storageKey:c,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,flowType:f,lock:m,debug:p,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new kw(this.realtimeUrl.href,Xe(Xe({},a),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const k2=(a,n,i)=>new C2(a,n,i);function D2(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}D2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M2="https://hvbdpgkdcdskhpbdeeim.supabase.co",U2="sb_publishable_kB69BlNpkNhOllwGMOE6xg_i4l1VHMv",Z=k2(M2,U2),ga={idea:"#5b9de4",proposal:"#3d7cc9",commitment:"#f4d9a0",pattern:"#7ccfb8",synthesis:"#a8d4f0",question:"#c4b5fd",reflection:"#fca5a5"},un={resource:"#4a8c6f",event:"#c4956a",agent:"#8bbfff"},Ss={resource:"Resource",event:"Event",agent:"Agent"},pa={human:"#c4956a","non-human":"#8bbfff"},Oo={human:"Human","non-human":"Non-Human"},hs={seed:"Seed",discussed:"Discussed",proposed:"Proposed",committed:"Committed",active:"Active",completed:"Completed",archived:"Archived",superseded:"Superseded"};const ly=(...a)=>a.filter((n,i,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===i).join(" ").trim();const z2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const L2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,s)=>s?s.toUpperCase():i.toLowerCase());const P0=a=>{const n=L2(a);return n.charAt(0).toUpperCase()+n.slice(1)};var $2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const B2=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const q2=A.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},p)=>A.createElement("svg",{ref:p,...$2,width:n,height:n,stroke:a,strokeWidth:s?Number(i)*24/Number(n):i,className:ly("lucide",o),...!c&&!B2(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,y])=>A.createElement(g,y)),...Array.isArray(c)?c:[c]]));const je=(a,n)=>{const i=A.forwardRef(({className:s,...o},c)=>A.createElement(q2,{ref:c,iconNode:n,className:ly(`lucide-${z2(P0(a))}`,`lucide-${a}`,s),...o}));return i.displayName=P0(a),i};const H2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oy=je("activity",H2);const G2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],V2=je("book-open",G2);const Y2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],K2=je("calendar",Y2);const X2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cy=je("check",X2);const I2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P2=je("chevron-down",I2);const Q2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ya=je("chevron-right",Q2);const J2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Q0=je("circle-alert",J2);const Z2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W2=je("circle-check-big",Z2);const F2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uy=je("clock",F2);const eS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tS=je("file-text",eS);const nS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],aS=je("flame",nS);const rS=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],iS=je("git-branch",rS);const sS=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],lS=je("git-commit-horizontal",sS);const oS=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Ya=je("handshake",oS);const cS=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],uS=je("inbox",cS);const fS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hS=je("info",fS);const dS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],J0=je("layers",dS);const mS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],fy=je("link-2",mS);const gS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z0=je("loader-circle",gS);const pS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yS=je("mail",pS);const vS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xS=je("menu",vS);const bS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hy=je("message-square",bS);const _S=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],W0=je("network",_S);const wS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dy=je("pen-line",wS);const SS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NS=je("plus",SS);const ES=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jS=je("refresh-cw",ES);const TS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fi=je("search",TS);const AS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],RS=je("sparkles",AS);const OS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],CS=je("tag",OS);const kS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],DS=je("trending-up",kS);const MS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],US=je("triangle-alert",MS);const zS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],po=je("user",zS);const LS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jf=je("users",LS);const $S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BS=je("x",$S);const qS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],my=je("zap",qS),gy={id:"00000000-0000-0000-0000-000000000100",name:"ETHBoulder 2026",description:null,theme_primary:"#c3fd50",theme_bg:"#0f0f0f",theme_surface:"#1a1a1a",theme_border:"#262626",logo_text:"EthBoulder",logo_accent:".commons.id",tagline:"Knowledge Graph  Live",dimensions:[{key:"e",letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",tag:"hlamt:E"},{key:"H",letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",tag:"hlamt:H"},{key:"L",letter:"L/",name:"Language",desc:"How We Talk",color:"#c3fd50",tag:"hlamt:L"},{key:"A",letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",tag:"hlamt:A"},{key:"M",letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",tag:"hlamt:M"},{key:"T",letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",tag:"hlamt:T"}]};let Br=null;async function HS(){if(Br)return Br;try{const{data:a}=await Z.rpc("get_active_convergence");if(a&&a.length>0)return Br=a[0],Br}catch(a){console.error("Failed to load convergence config:",a)}return Br=gy,Br}function py(){return gy}const yy=A.createContext({convergence:py(),loading:!0});function vy(){return A.useContext(yy)}function GS({children:a}){const[n,i]=A.useState(py()),[s,o]=A.useState(!0);return A.useEffect(()=>{async function c(){const f=await HS();i(f),o(!1)}c()},[]),h.jsx(yy.Provider,{value:{convergence:n,loading:s},children:a})}const VS=["idea","proposal","commitment","pattern","synthesis","question","reflection"];function F0(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function YS(){const{convergence:a}=vy(),n=a.dimensions,[i,s]=A.useState([]),[o,c]=A.useState(!0),[f,m]=A.useState(""),[p,g]=A.useState(""),[y,b]=A.useState(""),[_,x]=A.useState(""),[E,w]=A.useState("recent"),[N,j]=A.useState({}),[T,M]=A.useState(null),[R,Y]=A.useState([]),[P,Q]=A.useState({});A.useEffect(()=>{be();const U=Z.channel("explore-artifacts").on("postgres_changes",{event:"INSERT",schema:"public",table:"artifacts"},ee=>{s(O=>[ee.new,...O].slice(0,50)),te()}).subscribe(),J=Z.channel("explore-contributions").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},()=>{ie()}).subscribe();return()=>{Z.removeChannel(U),Z.removeChannel(J)}},[]),A.useEffect(()=>{ue()},[p,y,_,E]);async function te(){const[{data:U},{count:J},{data:ee}]=await Promise.all([Z.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%"),Z.from("participants").select("*",{count:"exact",head:!0}),Z.rpc("word_frequencies")]),O={};if(U)for(const G of U){const W=G.artifact_tags;O[G.name]=W?.[0]?.count??0}O["hlamt:H"]=J??0,ee&&(O["hlamt:L"]=ee.length),Q(O)}async function ie(){const{data:U}=await Z.from("contribution_feed").select("*").limit(30);Y(U||[])}async function de(){const{data:U}=await Z.from("coordination_interests").select("artifact_id"),J={};if(U)for(const ee of U)J[ee.artifact_id]=(J[ee.artifact_id]||0)+1;return j(J),J}async function be(){const[{data:U}]=await Promise.all([Z.from("artifacts").select("*").order("created_at",{ascending:!1}).limit(50)]);s(U||[]),await Promise.all([ie(),te(),de()]),c(!1)}async function ue(){if(p){const{data:U}=await Z.from("tags").select("id").eq("name",p).single();if(U){const{data:J}=await Z.from("artifact_tags").select("artifact_id").eq("tag_id",U.id);if(J&&J.length>0){const ee=J.map(W=>W.artifact_id);let O=Z.from("artifacts").select("*").in("id",ee).order("created_at",{ascending:!1}).limit(50);y&&(O=O.eq("type",y)),_&&(O=O.eq("state",_));const{data:G}=await O;s(G||[])}else s([])}else s([])}else{let U=Z.from("artifacts").select("*").order("created_at",{ascending:!1}).limit(50);y&&(U=U.eq("type",y)),_&&(U=U.eq("state",_));const{data:J}=await U;s(J||[])}M(null)}async function Oe(){if(!f.trim()){M(null);return}const{data:U}=await Z.rpc("search_artifacts",{p_query:f});M(U||[])}const[q,ne]=A.useState(!1),k=E==="coordination"?[...i].sort((U,J)=>(N[J.id]||0)-(N[U.id]||0)):i,V=T??k;return o?h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Explore"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph and live activity, side by side."})]}),h.jsxs("div",{className:"mb-6 bg-[#1a1a1a] border border-[#262626] rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>ne(!q),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-[#262626] transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(hS,{className:"w-5 h-5 text-[#c3fd50]"}),h.jsx("span",{className:"text-sm font-medium text-white",children:"How it works"})]}),h.jsx(P2,{className:`w-5 h-5 text-gray-400 transition-transform ${q?"rotate-180":""}`})]}),q&&h.jsxs("div",{className:"px-4 pb-4 text-sm space-y-3 border-t border-[#262626] pt-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:h.jsx(dy,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-medium mb-1",children:"Contribute observations"}),h.jsx("div",{className:"text-gray-400",children:"Share what you noticed at ETHBoulder  session notes, ideas, commitments, questions. Write naturally."})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:h.jsx(RS,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-medium mb-1",children:"AI extracts knowledge"}),h.jsx("div",{className:"text-gray-400",children:"Each contribution is analyzed, broken into artifacts (resources, events, agents), and tagged by dimension."})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:h.jsx(iS,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-medium mb-1",children:"The graph grows"}),h.jsx("div",{className:"text-gray-400",children:"Artifacts connect to each other. Patterns emerge. The collective knowledge becomes navigable by dimension, type, and relationship."})]})]}),h.jsx("div",{className:"pt-2 border-t border-[#262626]",children:h.jsx(pe,{to:"/contribute",className:"text-[#c3fd50] hover:text-white text-sm font-medium",children:"Try it yourself "})})]})]}),h.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Graph Dimensions"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-2 mb-6",children:n.map(U=>{const J=P[U.tag]??0;return h.jsxs(pe,{to:`/d/${U.key}`,className:"block rounded-lg border border-[#262626] bg-[#1a1a1a] p-3 sm:p-4 hover:border-[#c3fd50] transition-colors text-center group",children:[h.jsx("div",{className:"text-xs font-medium mb-1 truncate",style:{color:U.color},children:U.name}),h.jsxs("div",{className:"flex items-baseline justify-center gap-1 sm:gap-1.5",children:[h.jsx("span",{className:"font-mono text-xl sm:text-2xl font-bold",style:{color:U.color},children:U.letter}),h.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:J})]}),h.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors block truncate",children:U.desc})]},U.key)})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Graph Index"}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex gap-2 mb-3",children:[h.jsx("input",{value:f,onChange:U=>m(U.target.value),onKeyDown:U=>U.key==="Enter"&&Oe(),placeholder:"Search the graph...",className:"flex-1 bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] text-sm"}),h.jsx("button",{onClick:Oe,className:"bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm whitespace-nowrap",children:"Search"})]}),h.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[h.jsxs("select",{value:p,onChange:U=>g(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"",children:"All dimensions"}),n.map(U=>h.jsxs("option",{value:U.tag,children:[U.letter," ",U.name]},U.key))]}),h.jsxs("select",{value:y,onChange:U=>b(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"",children:"All types"}),VS.map(U=>h.jsx("option",{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))]}),h.jsxs("select",{value:_,onChange:U=>x(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"",children:"All states"}),Object.entries(hs).map(([U,J])=>h.jsx("option",{value:U,children:J},U))]}),h.jsxs("select",{value:E,onChange:U=>w(U.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[h.jsx("option",{value:"recent",children:"Sort: Recent"}),h.jsx("option",{value:"coordination",children:"Sort: Coordination"})]}),(p||y||_||T)&&h.jsx("button",{onClick:()=>{g(""),b(""),x(""),m(""),M(null),w("recent")},className:"text-xs text-gray-400 hover:text-white flex-shrink-0",children:"Clear"})]})]}),V.length===0?h.jsx("div",{className:"text-center py-16",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6",children:h.jsx(uS,{className:"w-10 h-10 text-gray-600"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:T?"No matching artifacts":"The knowledge graph is empty"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:T?"Try a different search term or clear your filters.":"Be the first to contribute. Share an observation, idea, or commitment from ETHBoulder and watch it become part of the living archive."}),h.jsx(pe,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] font-medium px-6 py-3 rounded-lg hover:bg-[#d4fe80] transition-colors",children:"Contribute to the Commons"})]})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:V.map(U=>h.jsxs(pe,{to:`/artifact/${U.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:ga[U.type]}}),h.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:U.type}),U.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[U.rea_role],borderColor:un[U.rea_role]+"40"},children:Ss[U.rea_role]}),U.agent_type&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:pa[U.agent_type],borderColor:pa[U.agent_type]+"40"},children:Oo[U.agent_type]}),h.jsx("span",{className:"ml-auto text-xs text-gray-500",children:hs[U.state]})]}),h.jsx("h3",{className:"font-semibold text-white group-hover:text-[#c3fd50] transition-colors mb-1 text-sm",children:U.title}),U.summary&&h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:U.summary}),h.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-600",children:[h.jsx("span",{children:F0(U.created_at)}),(N[U.id]||0)>0&&h.jsxs("span",{className:"flex items-center gap-1 text-[#c3fd50]",children:[h.jsx(Ya,{className:"w-3 h-3"}),N[U.id]]})]})]},U.id))})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Live Activity"}),R.length===0?h.jsx("div",{className:"text-gray-500 text-center py-8 text-sm",children:"No contributions yet"}):h.jsx("div",{className:"space-y-1.5",children:R.map(U=>h.jsxs(pe,{to:`/contribution/${U.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${U.status==="complete"?"bg-[#c3fd50]":U.status==="processing"?"bg-blue-400 animate-pulse":U.status==="error"?"bg-red-400":"bg-yellow-400"}`}),U.participant_name&&U.participant_id&&h.jsx(pe,{to:`/p/${U.participant_id}`,className:"text-xs font-medium text-gray-300 truncate hover:text-[#c3fd50] transition-colors",onClick:J=>J.stopPropagation(),children:U.participant_name}),U.participant_name&&!U.participant_id&&h.jsx("span",{className:"text-xs font-medium text-gray-300 truncate",children:U.participant_name}),h.jsx("span",{className:"text-xs text-gray-600 ml-auto flex-shrink-0",children:F0(U.created_at)})]}),h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2 mb-1.5",children:U.preview}),U.status==="complete"&&U.edge_count>0&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(lS,{className:"w-3 h-3 text-[#c3fd50]"}),h.jsx("span",{className:"text-xs font-mono text-[#c3fd50]",children:U.edge_count}),h.jsx("span",{className:"text-xs text-gray-600",children:U.edge_count===1?"edge":"edges"}),h.jsxs("span",{className:"text-xs text-gray-700 ml-1",children:["(",U.artifact_count,"a ",U.relationship_count,"r ",U.commitment_count,"c)"]})]}),U.status==="processing"&&h.jsx("span",{className:"text-xs text-blue-400",children:"Extracting..."}),U.status==="error"&&h.jsx("span",{className:"text-xs text-red-400",children:"Extraction failed"})]},U.id))})]})]})]})}function KS({artifactId:a,participantId:n,compact:i=!1}){const[s,o]=A.useState(!1),[c,f]=A.useState(0),[m,p]=A.useState(!1);A.useEffect(()=>{async function y(){const{count:b}=await Z.from("coordination_interests").select("*",{count:"exact",head:!0}).eq("artifact_id",a);if(f(b||0),n){const{data:_}=await Z.from("coordination_interests").select("id").eq("artifact_id",a).eq("participant_id",n).maybeSingle();o(!!_)}}y()},[a,n]);async function g(){if(!(!n||m)){p(!0);try{s?(await Z.from("coordination_interests").delete().eq("artifact_id",a).eq("participant_id",n),o(!1),f(y=>Math.max(0,y-1))):(await Z.from("coordination_interests").insert({artifact_id:a,participant_id:n}),o(!0),f(y=>y+1))}catch(y){console.error("Coordinate toggle error:",y)}p(!1)}}return i?h.jsxs("button",{onClick:y=>{y.preventDefault(),y.stopPropagation(),g()},disabled:!n||m,className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full transition-colors ${s?"bg-[#c3fd50]/20 text-[#c3fd50] border border-[#c3fd50]/30":"bg-[#262626] text-gray-400 hover:text-[#c3fd50] hover:bg-[#c3fd50]/10"} ${n?"":"opacity-50 cursor-not-allowed"}`,title:n?s?"Remove coordination interest":"I want to coordinate on this":"Sign in to coordinate",children:[h.jsx(Ya,{className:"w-3 h-3"}),c>0&&h.jsx("span",{children:c})]}):h.jsxs("button",{onClick:g,disabled:!n||m,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm ${s?"bg-[#c3fd50]/20 text-[#c3fd50] border border-[#c3fd50]/30":"bg-[#262626] text-gray-300 hover:text-[#c3fd50] hover:bg-[#c3fd50]/10"} ${n?"":"opacity-50 cursor-not-allowed"}`,children:[h.jsx(Ya,{className:"w-4 h-4"}),h.jsx("span",{children:s?"Coordinating":"Coordinate"}),c>0&&h.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-[#262626] text-xs",children:c})]})}const XS={"hlamt:e":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:E":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:H":{letter:"H/",name:"Human",color:"#c4956a"},"hlamt:L":{letter:"L/",name:"Language",color:"#c3fd50"},"hlamt:A":{letter:"A/",name:"Artifacts",color:"#8bbfff"},"hlamt:M":{letter:"M/",name:"Methodology",color:"#7ccfb8"},"hlamt:T":{letter:"T/",name:"Training",color:"#e8927c"}};function ep(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function IS(){const{id:a}=No(),[n,i]=A.useState(null),[s,o]=A.useState([]),[c,f]=A.useState([]),[m,p]=A.useState([]),[g,y]=A.useState([]),[b,_]=A.useState(null),[x,E]=A.useState(null),[w,N]=A.useState(!0),[j,T]=A.useState(null);A.useEffect(()=>{a&&(M(),Z.auth.getUser().then(async({data:{user:R}})=>{if(R){const{data:Y}=await Z.from("participants").select("id").eq("auth_user_id",R.id).maybeSingle();Y&&T(Y.id)}}))},[a]);async function M(){N(!0);const{data:R}=await Z.from("artifacts").select("*").eq("id",a).single();if(!R){N(!1);return}i(R);const{data:Y}=await Z.from("artifact_tags").select("tags(name)").eq("artifact_id",a),P=(Y||[]).map(ue=>ue.tags?.name).filter(Boolean);if(f(P.filter(ue=>ue.startsWith("hlamt:"))),o(P.filter(ue=>!ue.startsWith("hlamt:"))),R.steward_id){const{data:ue}=await Z.from("participants").select("id, name").eq("id",R.steward_id).single();ue&&_(ue)}const[{data:Q},{data:te}]=await Promise.all([Z.from("artifact_relationships").select("*, to_artifact_id").eq("from_artifact_id",a),Z.from("artifact_relationships").select("*, from_artifact_id").eq("to_artifact_id",a)]),ie=[...(Q||[]).map(ue=>({...ue,direction:"to",related_id:ue.to_artifact_id})),...(te||[]).map(ue=>({...ue,direction:"from",related_id:ue.from_artifact_id}))];if(p(ie),ie.length>0){const ue=ie.map(q=>q.related_id),{data:Oe}=await Z.from("artifacts").select("*").in("id",ue);y(Oe||[])}const{data:de}=await Z.from("contributions").select("id, content, created_at, extraction").eq("status","complete").order("created_at",{ascending:!1}).limit(20),be=de?.find(ue=>ue.extraction?.artifacts?ue.extraction.artifacts.some(Oe=>Oe.title===R.title):!1);be&&E(be),N(!1)}return w?h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):n?h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-4",children:[h.jsx(pe,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Graph Index"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-white truncate max-w-[200px]",children:n.title})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[h.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ga[n.type]}}),h.jsx("span",{className:"text-xs uppercase tracking-wider",style:{color:ga[n.type]},children:n.type}),n.rea_role&&h.jsx("span",{className:"text-xs px-2 py-0.5 rounded border font-medium",style:{color:un[n.rea_role],borderColor:un[n.rea_role]+"40"},children:Ss[n.rea_role]}),n.agent_type&&h.jsx("span",{className:"text-xs px-2 py-0.5 rounded border font-medium",style:{color:pa[n.agent_type],borderColor:pa[n.agent_type]+"40"},children:Oo[n.agent_type]}),h.jsx("span",{className:"text-xs text-gray-500",children:hs[n.state]}),n.created_by_agent&&h.jsx("span",{className:"text-xs bg-[#262626] text-gray-400 px-2 py-0.5 rounded",children:"AI-extracted"}),h.jsx("span",{className:"ml-auto text-xs text-gray-600",children:ep(n.created_at)})]}),h.jsx("h1",{className:"text-2xl font-bold mb-3 leading-tight",children:n.title}),n.summary&&h.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:n.summary}),h.jsx("div",{className:"mb-4",children:h.jsx(KS,{artifactId:n.id,participantId:j})}),n.body&&h.jsx("div",{className:"text-sm text-gray-400 mb-4 whitespace-pre-wrap leading-relaxed border-t border-[#262626] pt-4",children:n.body}),c.length>0&&h.jsxs("div",{className:"mb-4 pb-4 border-b border-[#262626]",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Dimensions"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(R=>{const Y=XS[R];return Y?h.jsxs("span",{className:"px-2 py-1 rounded text-xs border",style:{color:Y.color,borderColor:Y.color+"40"},children:[h.jsx("span",{className:"font-mono font-semibold",children:Y.letter})," ",Y.name]},R):null})})]}),s.length>0&&h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(R=>h.jsx("span",{className:"bg-[#262626] text-gray-300 text-xs px-2 py-1 rounded",children:R},R))})]}),h.jsxs("div",{className:"text-xs text-gray-600 pt-4 border-t border-[#262626] space-y-1",children:[b&&h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Steward:"})," ",h.jsx(pe,{to:`/p/${b.id}`,className:"text-gray-400 hover:text-[#c3fd50] transition-colors",children:b.name})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"ID:"})," ",h.jsx("span",{className:"font-mono",children:n.id.slice(0,13)})]})]})]}),x&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(hy,{className:"w-4 h-4"}),"Source Contribution"]}),h.jsx(pe,{to:"/me",className:"block text-sm text-gray-400 hover:text-white line-clamp-3 mb-2",children:x.content}),h.jsx("div",{className:"text-xs text-gray-600",children:ep(x.created_at)})]}),m.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(fy,{className:"w-4 h-4"}),"Related Artifacts"]}),h.jsx("div",{className:"space-y-2",children:m.map(R=>{const Y=g.find(P=>P.id===R.related_id);return Y?h.jsxs(pe,{to:`/artifact/${Y.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ga[Y.type]}}),h.jsx("span",{className:"text-xs uppercase text-gray-500",children:Y.type}),h.jsxs("span",{className:"text-xs text-gray-600",children:[" ",R.type.replace(/_/g," ")]})]}),h.jsx("div",{className:"text-sm text-white group-hover:text-[#c3fd50] transition-colors font-medium",children:Y.title}),Y.summary&&h.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:Y.summary})]},R.id):null})})]})]}):h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Artifact not found"})}function tp(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function PS(){const[a,n]=A.useState(null),[i,s]=A.useState(null),[o,c]=A.useState([]),[f,m]=A.useState([]),[p,g]=A.useState([]);A.useEffect(()=>{Z.auth.getSession().then(({data:E})=>{if(n(E.session),!E.session){y(null);return}b(E.session.user.id)});const x=Z.channel("my-contributions").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},()=>{y(i)}).subscribe();return()=>{Z.removeChannel(x)}},[]),A.useEffect(()=>{i!==null&&y(i)},[i]);async function y(x){let E=Z.from("contributions").select("*").order("created_at",{ascending:!1}).limit(20);x&&(E=E.eq("participant_id",x));const{data:w}=await E;g(w||[])}async function b(x){const{data:E}=await Z.from("participants").select("id").eq("auth_user_id",x).single();if(!E)return;s(E.id);const[{data:w},{data:N}]=await Promise.all([Z.from("artifacts").select("*").or(`created_by.eq.${E.id},steward_id.eq.${E.id}`).order("created_at",{ascending:!1}).limit(20),Z.from("commitments").select("*").eq("participant_id",E.id).order("created_at",{ascending:!1})]);c(w||[]),m(N||[])}const _={pending:"bg-yellow-900/50 text-yellow-300",processing:"bg-blue-900/50 text-blue-300",complete:"bg-green-900/50 text-green-300",error:"bg-red-900/50 text-red-300"};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"My Thread"}),h.jsxs(pe,{to:"/contribute",className:"bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] px-4 py-2 rounded-lg text-sm transition-colors inline-flex items-center gap-1.5",children:[h.jsx(NS,{className:"w-4 h-4"})," Contribute"]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-300",children:"Contributions"}),i&&h.jsx("span",{className:"text-xs text-gray-500",children:"Showing your contributions only"}),!a&&h.jsxs("span",{className:"text-xs text-gray-500",children:["Showing all contributions  ",h.jsx(pe,{to:"/auth",className:"text-[#c3fd50] hover:text-white",children:"Sign in"})]})]}),p.length===0?h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 text-center",children:[h.jsx("p",{className:"text-gray-400",children:"No contributions yet."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Share something on the Contribute page and watch it appear here."})]}):h.jsx("div",{className:"space-y-2",children:p.map(x=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${_[x.status]||"bg-gray-800 text-gray-400"}`,children:x.status}),h.jsx("span",{className:"text-xs text-gray-500",children:tp(x.created_at)})]}),h.jsx("p",{className:"text-sm text-gray-300 line-clamp-3",children:x.content}),x.processed_at&&h.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Processed ",tp(x.processed_at)]})]},x.id))})]}),o.length>0&&h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-300",children:"My Artifacts"}),h.jsx("div",{className:"space-y-2",children:o.map(x=>h.jsxs(pe,{to:`/artifact/${x.id}`,className:"flex items-center gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[h.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ga[x.type]}}),h.jsx("span",{className:"flex-1 font-medium",children:x.title}),h.jsx("span",{className:"text-xs text-gray-500",children:hs[x.state]})]},x.id))})]}),f.length>0&&h.jsxs("section",{children:[h.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-300",children:"My Commitments"}),h.jsx("div",{className:"space-y-2",children:f.map(x=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-[#f4d9a0]",children:x.description}),h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="fulfilled"?"bg-green-900 text-green-300":x.status==="in_progress"?"bg-blue-900 text-blue-300":x.status==="broken"?"bg-red-900 text-red-300":"bg-gray-800 text-gray-400"}`,children:x.status})]}),x.due_date&&h.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Due: ",x.due_date]})]},x.id))})]})]})}const QS={e:{label:"Ecology",desc:"Environmental context, place, watershed, seasonal patterns"},H:{label:"Human",desc:"People, capabilities, relationships, lived experience"},L:{label:"Language",desc:"Shared vocabulary, frameworks, definitions"},A:{label:"Artifacts",desc:"Tools, documents, code, physical objects, infrastructure"},M:{label:"Methodology",desc:"Processes, workflows, practices, coordination patterns"},T:{label:"Training",desc:"Learning, skill development, transformation, practice"}},JS="00000000-0000-0000-0000-000000000100";function ZS(){const a=bs(),[n,i]=A.useState(""),[s,o]=A.useState("idle"),[c,f]=A.useState(""),[m,p]=A.useState(null),[g,y]=A.useState(0),[b,_]=A.useState([]);A.useEffect(()=>{if(!m)return;const E=Z.channel(`contribution-${m}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"contributions",filter:`id=eq.${m}`},async w=>{const N=w.new.status;if(N==="processing")o("extracting");else if(N==="complete"){const j=w.new.extraction;if(j?.artifacts){y(j.artifacts.length);const T=j.artifacts.map(R=>R.title),{data:M}=await Z.from("artifacts").select("id, title, type").in("title",T).order("created_at",{ascending:!1}).limit(10);_(M||[])}o("done")}else N==="error"&&(f("Extraction failed. Please try again."),o("error"))}).subscribe();return()=>{Z.removeChannel(E)}},[m]);async function x(E){if(E.preventDefault(),!!n.trim()){o("submitting"),f("");try{const{data:{user:w}}=await Z.auth.getUser();let N=null;if(w){const{data:M,error:R}=await Z.from("participants").select("id").eq("auth_user_id",w.id).maybeSingle();if(R)throw R;if(M)N=M.id;else{const{data:Y,error:P}=await Z.from("participants").insert({auth_user_id:w.id,name:w.email?.split("@")[0]||"Anonymous",email:w.email}).select("id").single();if(P)throw P;N=Y.id}}const{data:j,error:T}=await Z.from("contributions").insert({content:n,convergence_id:JS,participant_id:N,status:"pending"}).select("id").single();if(T)throw T;p(j.id),o("extracting")}catch(w){f(w?.message||"Something went wrong. Please try again."),o("error")}}}return s==="extracting"?h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6 animate-pulse",children:h.jsx(my,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("h2",{className:"text-xl font-bold mb-3",children:"Extracting knowledge..."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"AI is analyzing your contribution, identifying artifacts, tagging by dimension, and linking to the knowledge graph."}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"300ms"}})]})]})}):s==="done"?h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:h.jsx(cy,{className:"w-8 h-8 text-[#0f0f0f]",strokeWidth:3})}),h.jsxs("h2",{className:"text-xl font-bold mb-3",children:["Done! ",g," ",g===1?"artifact":"artifacts"," created"]}),h.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Your contribution has been processed and added to the knowledge graph."}),b.length>0&&h.jsxs("div",{className:"mb-8 max-w-md mx-auto",children:[h.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Extracted artifacts:"}),h.jsx("div",{className:"space-y-2",children:b.map(E=>h.jsx(pe,{to:`/artifact/${E.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors text-left",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:E.type}),h.jsx("span",{className:"text-sm text-gray-300",children:E.title})]})},E.id))})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsx("button",{onClick:()=>{o("idle"),i(""),p(null),_([]),y(0)},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Contribute more"}),h.jsx("button",{onClick:()=>a("/"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Explore"})]})]})}):h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Contribute"}),h.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Share what you observed, learned, built, or committed to. Write naturally  AI will figure out the rest."}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("textarea",{value:n,onChange:E=>i(E.target.value),placeholder:"What's on your mind? Session notes, an idea, a commitment, a reflection  just write. The AI will identify what kind of contribution this is, extract the key concepts, classify by e/H-LAM/T dimension, and connect it to the knowledge graph.",rows:12,required:!0,className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] resize-y leading-relaxed text-base"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2 mt-2",children:[h.jsx("span",{className:"text-xs text-gray-600",children:"AI classifies contribution type, extracts artifacts, and records relationships automatically."}),h.jsxs("span",{className:"text-xs text-gray-500",children:[n.length," chars"]})]})]}),c&&h.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:c}),h.jsx("button",{type:"submit",disabled:s==="submitting"||!n.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:s==="submitting"?"Saving...":"Submit to the Commons"})]}),h.jsxs("details",{className:"mt-8",children:[h.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-300 transition-colors",children:"What is e/H-LAM/T?"}),h.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(QS).map(([E,{label:w,desc:N}])=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[h.jsxs("div",{className:"text-xs font-mono text-[#c3fd50] mb-1",children:[E,"/"]}),h.jsx("div",{className:"text-sm font-medium text-gray-300 mb-1",children:w}),h.jsx("div",{className:"text-xs text-gray-500 leading-relaxed",children:N})]},E))})]})]})}const WS=[{letter:"e/",color:"#4a8c6f",text:"Ground ideas in place and ecology"},{letter:"H/",color:"#c4956a",text:"Connect with people who share your questions"},{letter:"A/",color:"#8bbfff",text:"Build artifacts that outlast the event"}];function FS(){const[a,n]=A.useState(""),[i,s]=A.useState(!1),[o,c]=A.useState(!1),[f,m]=A.useState(""),p=bs();async function g(y){y.preventDefault(),s(!0),m("");const{error:b}=await Z.auth.signInWithOtp({email:a,options:{emailRedirectTo:"https://commons.id/app/"}});s(!1),b?m(b.message):c(!0)}return o?h.jsxs("div",{className:"max-w-lg mx-auto text-center py-16",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:h.jsx(yS,{className:"w-10 h-10 text-[#0f0f0f]"})}),h.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Check your inbox"}),h.jsxs("p",{className:"text-gray-400 mb-2",children:["We sent a magic link to ",h.jsx("span",{className:"text-white font-medium",children:a})]}),h.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Click the link in the email to sign in. It expires in 1 hour."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsx("button",{onClick:()=>{c(!1),n("")},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Try a different email"}),h.jsx("button",{onClick:()=>p("/"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Explore while you wait"})]})]}):h.jsxs("div",{className:"max-w-lg mx-auto py-8 sm:py-16",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsxs("h1",{className:"text-3xl font-bold mb-3",children:["Join the ",h.jsx("span",{className:"text-[#c3fd50]",children:"Commons"})]}),h.jsx("p",{className:"text-gray-400 max-w-sm mx-auto leading-relaxed",children:"A living archive of what emerges when people converge. Your observations become part of the knowledge graph."})]}),h.jsx("div",{className:"mb-10 space-y-3",children:WS.map(y=>h.jsxs("div",{className:"flex items-start gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[h.jsx("span",{className:"font-mono text-lg font-bold flex-shrink-0 mt-0.5",style:{color:y.color},children:y.letter}),h.jsx("span",{className:"text-sm text-gray-300",children:y.text})]},y.letter))}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Sign in with email"}),h.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"No password needed. We'll send you a magic link."}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsx("div",{children:h.jsx("input",{type:"email",value:a,onChange:y=>n(y.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full bg-[#0f0f0f] border border-[#333333] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#c3fd50] transition-colors"})}),f&&h.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:f}),h.jsx("button",{type:"submit",disabled:i||!a.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] font-medium hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:i?"Sending magic link...":"Continue with magic link"})]})]}),h.jsxs("div",{className:"text-center mt-8",children:[h.jsxs("p",{className:"text-sm text-gray-600",children:["Don't want to sign in?"," ",h.jsx(pe,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore as a guest"})]}),h.jsx("p",{className:"text-xs text-gray-700 mt-3",children:"ETHBoulder 2026  commons.id"})]})]})}const eN=[{key:"e",letter:"e/",name:"Ecology",tagName:"hlamt:E",description:"Where We Are  place, environment, context",color:"#4a8c6f"},{key:"H",letter:"H/",name:"Human",tagName:"hlamt:H",description:"Who's Here  people, participants, relationships",color:"#c4956a"},{key:"L",letter:"L/",name:"Language",tagName:"hlamt:L",description:"How We Talk  vocabulary, tags, shared concepts",color:"#c3fd50"},{key:"A",letter:"A/",name:"Artifacts",tagName:"hlamt:A",description:"What We're Building  tools, documents, infrastructure",color:"#8bbfff"},{key:"M",letter:"M/",name:"Methodology",tagName:"hlamt:M",description:"How We Work  processes, governance, coordination",color:"#7ccfb8"},{key:"T",letter:"T/",name:"Training",tagName:"hlamt:T",description:"What We're Learning  skills, transformation, practice",color:"#e8927c"}];function tN(){const[a,n]=A.useState({});return A.useEffect(()=>{async function i(){const{data:s}=await Z.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%");if(s){const o={};for(const c of s){const f=c.artifact_tags;o[c.name]=f?.[0]?.count??0}n(o)}}i()},[]),h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"e/H-LAM/T"}),h.jsx("p",{className:"text-gray-400",children:"Six dimensions of the knowledge graph. Each is a lens into the commons."})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:eN.map(i=>h.jsxs(pe,{to:`/d/${i.key}`,className:"block rounded-xl border border-[#262626] bg-[#1a1a1a] p-5 hover:bg-[#1a1a1a] transition-colors group",children:[h.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[h.jsx("span",{className:"font-mono text-2xl font-bold",style:{color:i.color},children:i.letter}),h.jsx("span",{className:"text-lg font-semibold text-white",children:i.name})]}),h.jsx("p",{className:"text-sm text-gray-400 mb-3",children:i.description}),h.jsx("div",{className:"text-xs text-gray-500",children:a[i.tagName]!==void 0?`${a[i.tagName]} artifacts`:"--"})]},i.key))})]})}function nN(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}const Df={e:{letter:"e/",name:"Ecology",subtitle:"Where We Are",tagName:"hlamt:E",color:"#4a8c6f"},H:{letter:"H/",name:"Human",subtitle:"Who's Here",tagName:"hlamt:H",color:"#c4956a"},L:{letter:"L/",name:"Language",subtitle:"How We Talk",tagName:"hlamt:L",color:"#c3fd50"},A:{letter:"A/",name:"Artifacts",subtitle:"What We're Building",tagName:"hlamt:A",color:"#8bbfff"},M:{letter:"M/",name:"Methodology",subtitle:"How We Work",tagName:"hlamt:M",color:"#7ccfb8"},T:{letter:"T/",name:"Training",subtitle:"What We're Learning",tagName:"hlamt:T",color:"#e8927c"}};function Zf({artifact:a}){return h.jsxs(pe,{to:`/artifact/${a.id}`,className:"block rounded-lg border border-[#262626] bg-[#1a1a1a] p-4 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:ga[a.type]}}),h.jsx("span",{className:"text-xs text-gray-500 uppercase",children:a.type}),a.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[a.rea_role],borderColor:un[a.rea_role]+"40"},children:Ss[a.rea_role]}),a.agent_type&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:pa[a.agent_type],borderColor:pa[a.agent_type]+"40"},children:Oo[a.agent_type]}),h.jsx("span",{className:"ml-auto text-xs text-gray-600",children:nN(a.created_at)})]}),h.jsx("h3",{className:"font-medium text-white group-hover:text-[#c3fd50] transition-colors mb-1",children:a.title}),a.summary&&h.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:a.summary})]})}function aN({artifacts:a}){const[n,i]=A.useState([]),[s,o]=A.useState({});return A.useEffect(()=>{async function c(){const{data:f}=await Z.from("participants").select("*").order("name");if(f){i(f);const m={};for(const p of f){const{data:g}=await Z.from("artifacts").select("*").eq("created_by",p.id).order("created_at",{ascending:!1}).limit(3);g&&(m[p.id]=g)}o(m)}}c()},[]),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Participants (",n.length,")"]}),h.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:n.map(c=>h.jsxs("div",{className:"rounded-lg border border-[#262626] bg-[#1a1a1a] p-4",children:[h.jsx("h3",{className:"font-medium text-white mb-1",style:{color:"#c4956a"},children:c.name}),c.affiliation&&h.jsx("p",{className:"text-xs text-gray-500 mb-1",children:c.affiliation}),c.bio&&h.jsx("p",{className:"text-sm text-gray-400 mb-2",children:c.bio}),c.interests?.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:c.interests.map((f,m)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-[#262626] text-gray-400",children:f},m))}),s[c.id]?.length>0&&h.jsxs("div",{className:"mt-2 border-t border-[#262626] pt-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:"Recent contributions:"}),s[c.id].map(f=>h.jsx(pe,{to:`/artifact/${f.id}`,className:"block text-xs text-[#c3fd50] hover:text-white mt-1",children:f.title},f.id))]})]},c.id))}),n.length===0&&h.jsx("div",{className:"text-center py-12 bg-[#1a1a1a] border border-[#262626] rounded-lg mt-4",children:h.jsxs("div",{className:"max-w-sm mx-auto",children:[h.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#c4956a20"},children:h.jsx(Jf,{className:"w-8 h-8",style:{color:"#c4956a"}})}),h.jsx("h3",{className:"text-white font-semibold mb-2",children:"No participants registered yet"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Sign in to create your participant profile and link your contributions to your identity."}),h.jsx(pe,{to:"/auth",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#d4fe80] transition-colors",children:"Sign In"})]})})]}),a.length>0&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Human-tagged Artifacts"}),h.jsx("div",{className:"grid gap-3",children:a.map(c=>h.jsx(Zf,{artifact:c},c.id))})]})]})}function np({words:a,maxCount:n,label:i}){return a.length===0?null:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:[i," (",a.length," terms)"]}),h.jsx("div",{className:"space-y-1",children:a.map(s=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm text-gray-300 w-32 sm:w-40 truncate font-mono",children:s.word}),h.jsx("div",{className:"flex-1 h-4 bg-[#1a1a1a] rounded overflow-hidden",children:h.jsx("div",{className:"h-full rounded",style:{width:`${s.count/n*100}%`,backgroundColor:"#c3fd50",opacity:.6}})}),h.jsx("span",{className:"text-xs text-gray-500 w-8 text-right",children:s.count})]},s.word))})]})}function rN({artifacts:a}){const[n,i]=A.useState([]),[s,o]=A.useState({}),[c,f]=A.useState([]),[m,p]=A.useState(null),[g,y]=A.useState("collective");A.useEffect(()=>{async function w(){const{data:N}=await Z.rpc("word_frequencies");N&&i(N.slice(0,25));const{data:j}=await Z.from("participants").select("id, name").order("name");j&&f(j)}w()},[]);async function b(w){if(s[w])return;const{data:N}=await Z.rpc("word_frequencies",{p_participant_id:w});N&&o(j=>({...j,[w]:N.slice(0,30)}))}A.useEffect(()=>{m&&b(m)},[m]);const _=n[0]?.count??1,x=m?s[m]||[]:[],E=x[0]?.count??1;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>y("collective"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="collective"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-400 hover:text-white"}`,children:"Collective"}),h.jsx("button",{onClick:()=>y("participant"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="participant"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-400 hover:text-white"}`,children:"By Participant"})]}),g==="collective"&&h.jsx(np,{words:n,maxCount:_,label:"Emergent Vocabulary"}),g==="participant"&&h.jsx("div",{className:"space-y-4",children:c.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(w=>h.jsx("button",{onClick:()=>p(w.id),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${m===w.id?"bg-[#c4956a] text-[#0f0f0f] font-medium":"bg-[#262626] text-gray-400 hover:text-white"}`,children:w.name},w.id))}),m&&h.jsx(np,{words:x,maxCount:E,label:`${c.find(w=>w.id===m)?.name||"Participant"} Vocabulary`}),!m&&h.jsx("p",{className:"text-gray-500 text-sm",children:"Select a participant to see their vocabulary."})]}):h.jsx("p",{className:"text-gray-500 text-sm",children:"No participants yet."})}),a.length>0&&h.jsxs("div",{children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Language Artifacts (",a.length,")"]}),h.jsx("div",{className:"grid gap-3",children:a.map(w=>h.jsx(Zf,{artifact:w},w.id))})]})]})}const iN={e:"Share observations about place, environment, or ecological context.",H:"Introduce yourself, share who you met, or describe collaborative dynamics.",L:"Define terms, propose frameworks, or capture shared vocabulary.",A:"Document tools, code, designs, or infrastructure being built.",M:"Describe processes, workflows, or coordination patterns.",T:"Share learnings, skill development, or transformative experiences."};function sN({artifacts:a,dim:n}){const i=Object.keys(Df).find(o=>Df[o]===n),s=i?iN[i]:"Be the first to contribute here.";return h.jsxs("div",{children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:[n.name," Artifacts (",a.length,")"]}),a.length===0?h.jsx("div",{className:"text-center py-12 bg-[#1a1a1a] border border-[#262626] rounded-lg",children:h.jsxs("div",{className:"max-w-sm mx-auto",children:[h.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:n.color+"20"},children:h.jsx("span",{className:"text-3xl font-mono font-bold",style:{color:n.color},children:n.letter})}),h.jsxs("h3",{className:"text-white font-semibold mb-2",children:["No ",n.name.toLowerCase()," artifacts yet"]}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:s}),h.jsx(pe,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#d4fe80] transition-colors",children:"Contribute"})]})}):h.jsx("div",{className:"grid gap-3",children:a.map(o=>h.jsx(Zf,{artifact:o},o.id))})]})}function lN(){const{dimension:a}=No(),[n,i]=A.useState([]),[s,o]=A.useState(!0),c=a?Df[a]:null;return A.useEffect(()=>{if(!c)return;async function f(){o(!0);const{data:m}=await Z.from("tags").select("id").eq("name",c.tagName).single();if(m){const{data:p}=await Z.from("artifact_tags").select("artifact_id").eq("tag_id",m.id);if(p&&p.length>0){const g=p.map(b=>b.artifact_id),{data:y}=await Z.from("artifacts").select("*").in("id",g).order("created_at",{ascending:!1});y&&i(y)}}o(!1)}f()},[c?.tagName]),c?h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-3",children:[h.jsx(pe,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Graph Dimensions"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsxs("span",{style:{color:c.color},children:[c.letter," ",c.name]})]}),h.jsxs("div",{className:"flex items-baseline gap-3",children:[h.jsx("span",{className:"font-mono text-3xl font-bold",style:{color:c.color},children:c.letter}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:c.name}),h.jsx("p",{className:"text-gray-400",children:c.subtitle})]})]})]}),s?h.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."}):h.jsxs(h.Fragment,{children:[a==="H"&&h.jsx(aN,{artifacts:n}),a==="L"&&h.jsx(rN,{artifacts:n}),a!=="H"&&a!=="L"&&h.jsx(sN,{artifacts:n,dim:c})]})]}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-400",children:"Unknown dimension."}),h.jsx(pe,{to:"/dimensions",className:"text-[#c3fd50] hover:text-white text-sm mt-2 inline-block",children:"Back to Dimensions"})]})}const ap=["This artifact hasn't been extracted from the collective consciousness yet.","You've wandered beyond the knowledge graph. Even the AI doesn't know what's here.","404: The commons giveth, and the commons taketh away.","Somewhere between the convergence tents, you took a wrong turn.","This page was last seen vibing at ETHBoulder. It hasn't come back.","The e/H-LAM/T dimensions don't include 'lost.' We checked.","You've discovered the one place the knowledge graph can't reach.","This page committed to existing but never followed through."];function oN(){const a=ap[Math.floor(Math.random()*ap.length)];return h.jsxs("div",{className:"text-center py-24 max-w-lg mx-auto",children:[h.jsx("div",{className:"text-8xl font-mono font-bold text-[#c3fd50] mb-4",children:"404"}),h.jsx("p",{className:"text-lg text-gray-300 mb-2",children:a}),h.jsx("p",{className:"text-sm text-gray-500 mb-10",children:"The page you're looking for doesn't exist, was never extracted, or has returned to the void."}),h.jsxs("div",{className:"flex gap-3 justify-center",children:[h.jsx(pe,{to:"/",className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm font-medium",children:"Back to Explore"}),h.jsx(pe,{to:"/contribute",className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Contribute something real"})]})]})}const cN="https://hvbdpgkdcdskhpbdeeim.supabase.co";function qr({items:a,color:n="bg-[#262626] text-gray-300"}){return!a||a.length===0?null:h.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((i,s)=>h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${n}`,children:i},s))})}function Ba({label:a,children:n}){return h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:a}),n]})}function rp({profile:a,extracted:n,label:i}){return h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold",children:a.name}),a.affiliation&&h.jsx("p",{className:"text-sm text-gray-400",children:a.affiliation}),a.location&&h.jsx("p",{className:"text-xs text-gray-500",children:a.location})]}),i&&h.jsx("span",{className:"text-xs text-gray-500",children:i})]}),a.bio&&h.jsx("p",{className:"text-gray-300 text-sm mb-4",children:a.bio}),a.background&&h.jsx(Ba,{label:"Background",children:h.jsx("p",{className:"text-sm text-gray-400",children:a.background})}),a.skills&&a.skills.length>0&&h.jsx(Ba,{label:"Skills",children:h.jsx(qr,{items:a.skills,color:"bg-[#262626] text-gray-300"})}),a.experience&&a.experience.length>0&&h.jsx(Ba,{label:"Experience",children:h.jsx(qr,{items:a.experience,color:"bg-[#262626] text-gray-300"})}),a.capabilities&&a.capabilities.length>0&&h.jsx(Ba,{label:"Capabilities",children:h.jsx(qr,{items:a.capabilities,color:"bg-blue-900/30 text-blue-300"})}),a.offering&&a.offering.length>0&&h.jsx(Ba,{label:"Offering",children:h.jsx(qr,{items:a.offering,color:"bg-green-900/30 text-green-300"})}),a.looking_for&&a.looking_for.length>0&&h.jsx(Ba,{label:"Looking for",children:h.jsx(qr,{items:a.looking_for,color:"bg-amber-900/30 text-amber-300"})}),a.interests&&a.interests.length>0&&h.jsx(Ba,{label:"Interests",children:h.jsx(qr,{items:a.interests})}),n?.hlamt_tags&&n.hlamt_tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.hlamt_tags.map((s,o)=>h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c3fd50]/10 text-[#c3fd50] font-mono",children:s},o))})]})}function uN(){const a=bs(),[n,i]=A.useState(""),[s,o]=A.useState("loading"),[c,f]=A.useState(""),[m,p]=A.useState(null),[g,y]=A.useState(null),[b,_]=A.useState(null);A.useEffect(()=>{async function E(){const{data:{user:w}}=await Z.auth.getUser();if(!w){a("/auth");return}y(w.id);const{data:N}=await Z.from("participants").select("id, name, affiliation, bio, background, experience, skills, capabilities, interests, looking_for, offering, location").eq("auth_user_id",w.id).maybeSingle();N&&p(N),o("idle")}E()},[a]);async function x(E){if(E.preventDefault(),!(!n.trim()||!g)){o("submitting"),f("");try{o("extracting");const w=await fetch(`${cN}/functions/v1/process-profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await Z.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({content:n,auth_user_id:g})}),N=await w.json();if(!w.ok)throw new Error(N.error||"Profile processing failed");p(N.participant),_(N.extracted),o("done")}catch(w){f(w?.message||"Something went wrong. Please try again."),o("error")}}}return s==="loading"?h.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-4 animate-pulse",children:h.jsx(po,{className:"w-8 h-8 text-gray-500"})}),h.jsx("p",{className:"text-gray-400",children:"Loading profile..."})]}):s==="extracting"?h.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6 animate-pulse",children:h.jsx(my,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("h2",{className:"text-xl font-bold mb-3",children:"Building your profile..."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"AI is reading your introduction, extracting your name, interests, and dimensional focus."}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"300ms"}})]})]}):s==="done"&&m?h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:h.jsx(cy,{className:"w-8 h-8 text-[#0f0f0f]",strokeWidth:3})}),h.jsxs("h2",{className:"text-xl font-bold mb-3",children:["Profile ",b?.isUpdate?"updated":"created","!"]})]}),h.jsx(rp,{profile:m,extracted:b}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsx("button",{onClick:()=>{o("idle"),i("")},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Update profile"}),h.jsx("button",{onClick:()=>a("/contribute"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Start contributing"})]})]}):h.jsxs("div",{className:"max-w-2xl mx-auto",children:[m?h.jsxs(h.Fragment,{children:[h.jsx(rp,{profile:m,label:"Your current profile"}),h.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[h.jsx(dy,{className:"w-5 h-5 text-[#c3fd50]"}),"Update Your Profile"]}),h.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Tell us what's changed. Write naturally  AI will update your profile."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[h.jsx(po,{className:"w-5 h-5 text-[#c3fd50]"}),"Join the Commons"]}),h.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Introduce yourself. Write naturally  AI will extract your name, interests, and focus areas to build your profile."})]}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("textarea",{value:n,onChange:E=>i(E.target.value),placeholder:m?"Share what's new  new projects, interests, or affiliations. AI will update your profile accordingly.":"Hi, I'm... Tell us about yourself: your name, what you work on, what you're interested in, what brought you here. Write as much or as little as you want  the AI will figure out the structure.",rows:8,required:!0,className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] resize-y leading-relaxed text-base"}),h.jsxs("div",{className:"flex justify-between mt-2",children:[h.jsx("span",{className:"text-xs text-gray-600",children:"AI extracts your name, affiliation, bio, interests, and dimensional focus."}),h.jsxs("span",{className:"text-xs text-gray-500",children:[n.length," chars"]})]})]}),c&&h.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:c}),h.jsx("button",{type:"submit",disabled:s==="submitting"||!n.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:s==="submitting"?"Saving...":m?"Update Profile":"Create Profile"})]})]})}function fN(){const[a,n]=A.useState(null),[i,s]=A.useState([]),[o,c]=A.useState([]),[f,m]=A.useState(new Set),[p,g]=A.useState(null),[y,b]=A.useState(!0),[_,x]=A.useState(new Date);async function E(){const{data:T}=await Z.from("extraction_health_metrics").select("*").single(),{data:M}=await Z.rpc("get_recent_extraction_errors",{limit_count:5}),{data:R}=await Z.from("contributions").select("id, content, errors, created_at").eq("status","error").order("created_at",{ascending:!1}).limit(20);n(T),s(M||[]),c(R||[]),x(new Date),b(!1)}async function w(T){m(R=>new Set(R).add(T));const{error:M}=await Z.from("contributions").update({status:"pending",errors:null}).eq("id",T);M||c(R=>R.filter(Y=>Y.id!==T)),m(R=>{const Y=new Set(R);return Y.delete(T),Y})}if(A.useEffect(()=>{Z.auth.getSession().then(({data:M})=>g(M.session));const{data:{subscription:T}}=Z.auth.onAuthStateChange((M,R)=>g(R));return()=>T.unsubscribe()},[]),A.useEffect(()=>{E();const T=setInterval(E,1e4);return()=>clearInterval(T)},[]),y||!a)return h.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[h.jsx(oy,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Loading system health..."})]});const N=a.failure_rate_pct<20,j=a.contributions_last_hour>0;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"System Status"}),h.jsxs("div",{className:"text-sm text-gray-400",children:["Last update: ",_.toLocaleTimeString()]})]}),h.jsxs("div",{className:`rounded-lg p-6 mb-6 border-2 ${N?"bg-green-900/10 border-green-800/30":"bg-red-900/10 border-red-800/30"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N?h.jsx(W2,{className:"w-6 h-6 text-green-500"}):h.jsx(Q0,{className:"w-6 h-6 text-red-500"}),h.jsx("h2",{className:"text-xl font-bold",children:N?"System Healthy":"System Degraded"})]}),h.jsx("p",{className:"text-sm text-gray-400",children:N?"Extraction pipeline operating normally":`Warning: ${a.failure_rate_pct}% failure rate in last hour`})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx(uy,{className:"w-5 h-5 text-[#c3fd50]"}),"Last Hour"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:a.contributions_last_hour}),h.jsx("div",{className:"text-xs text-gray-500",children:"Total contributions"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.successful}),h.jsx("div",{className:"text-xs text-gray-500",children:"Successful"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.failed}),h.jsx("div",{className:"text-xs text-gray-500",children:"Failed"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:a.processing+a.pending}),h.jsx("div",{className:"text-xs text-gray-500",children:"In progress"})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-[#262626] grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"text-lg font-bold",children:[a.success_rate_pct,"%"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Success rate"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-lg font-bold",children:[a.avg_processing_seconds,"s"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Avg processing time"})]})]})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-bold mb-4",children:"Last 24 Hours"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:a.contributions_last_24h}),h.jsx("div",{className:"text-xs text-gray-500",children:"Total contributions"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.successful_24h}),h.jsx("div",{className:"text-xs text-gray-500",children:"Successful"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.failed_24h}),h.jsx("div",{className:"text-xs text-gray-500",children:"Failed"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-2xl font-bold",children:[a.success_rate_24h_pct,"%"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Success rate"})]})]})]}),i.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-red-800/30 rounded-lg p-6",children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx(Q0,{className:"w-5 h-5 text-red-500"}),"Recent Errors (",i.length,")"]}),h.jsx("div",{className:"space-y-3",children:i.map(T=>h.jsxs("div",{className:"bg-[#0f0f0f] border border-[#262626] rounded-lg p-3",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:new Date(T.created_at).toLocaleString()}),h.jsxs("div",{className:"text-sm text-gray-300 mb-2",children:[T.content_preview,"..."]}),T.errors&&T.errors.length>0&&h.jsx("div",{className:"text-xs font-mono text-red-400",children:T.errors[T.errors.length-1].message})]},T.contribution_id))})]}),!j&&h.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 text-center",children:h.jsx("p",{className:"text-gray-400",children:"No contributions in the last hour"})}),o.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-red-800/30 rounded-lg p-6 mt-6",children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx(US,{className:"w-5 h-5 text-red-400"}),"Error Recovery (",o.length,")"]}),h.jsx("div",{className:"space-y-3",children:o.map(T=>h.jsx("div",{className:"bg-[#0f0f0f] border border-[#262626] rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:new Date(T.created_at).toLocaleString()}),h.jsxs("div",{className:"text-sm text-gray-300 mb-2 truncate",children:[T.content?.slice(0,120),T.content?.length>120?"...":""]}),T.errors&&h.jsx("div",{className:"text-xs font-mono text-red-400",children:Array.isArray(T.errors)?T.errors[T.errors.length-1]?.message??JSON.stringify(T.errors[T.errors.length-1]):typeof T.errors=="object"?T.errors.message??JSON.stringify(T.errors):String(T.errors)})]}),p&&h.jsxs("button",{onClick:()=>w(T.id),disabled:f.has(T.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium bg-[#c3fd50]/10 text-[#c3fd50] border border-[#c3fd50]/30 hover:bg-[#c3fd50]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:[h.jsx(jS,{className:`w-3.5 h-3.5 ${f.has(T.id)?"animate-spin":""}`}),"Retry"]})]})},T.id))})]})]})}var hN={value:()=>{}};function Ns(){for(var a=0,n=arguments.length,i={},s;a<n;++a){if(!(s=arguments[a]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new lo(i)}function lo(a){this._=a}function dN(a,n){return a.trim().split(/^|\s+/).map(function(i){var s="",o=i.indexOf(".");if(o>=0&&(s=i.slice(o+1),i=i.slice(0,o)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}lo.prototype=Ns.prototype={constructor:lo,on:function(a,n){var i=this._,s=dN(a+"",i),o,c=-1,f=s.length;if(arguments.length<2){for(;++c<f;)if((o=(a=s[c]).type)&&(o=mN(i[o],a.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<f;)if(o=(a=s[c]).type)i[o]=ip(i[o],a.name,n);else if(n==null)for(o in i)i[o]=ip(i[o],a.name,null);return this},copy:function(){var a={},n=this._;for(var i in n)a[i]=n[i].slice();return new lo(a)},call:function(a,n){if((o=arguments.length-2)>0)for(var i=new Array(o),s=0,o,c;s<o;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(c=this._[a],s=0,o=c.length;s<o;++s)c[s].value.apply(n,i)},apply:function(a,n,i){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var s=this._[a],o=0,c=s.length;o<c;++o)s[o].value.apply(n,i)}};function mN(a,n){for(var i=0,s=a.length,o;i<s;++i)if((o=a[i]).name===n)return o.value}function ip(a,n,i){for(var s=0,o=a.length;s<o;++s)if(a[s].name===n){a[s]=hN,a=a.slice(0,s).concat(a.slice(s+1));break}return i!=null&&a.push({name:n,value:i}),a}var Mf="http://www.w3.org/1999/xhtml";const sp={svg:"http://www.w3.org/2000/svg",xhtml:Mf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Co(a){var n=a+="",i=n.indexOf(":");return i>=0&&(n=a.slice(0,i))!=="xmlns"&&(a=a.slice(i+1)),sp.hasOwnProperty(n)?{space:sp[n],local:a}:a}function gN(a){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===Mf&&n.documentElement.namespaceURI===Mf?n.createElement(a):n.createElementNS(i,a)}}function pN(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function xy(a){var n=Co(a);return(n.local?pN:gN)(n)}function yN(){}function Wf(a){return a==null?yN:function(){return this.querySelector(a)}}function vN(a){typeof a!="function"&&(a=Wf(a));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var c=n[o],f=c.length,m=s[o]=new Array(f),p,g,y=0;y<f;++y)(p=c[y])&&(g=a.call(p,p.__data__,y,c))&&("__data__"in p&&(g.__data__=p.__data__),m[y]=g);return new zt(s,this._parents)}function xN(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function bN(){return[]}function by(a){return a==null?bN:function(){return this.querySelectorAll(a)}}function _N(a){return function(){return xN(a.apply(this,arguments))}}function wN(a){typeof a=="function"?a=_N(a):a=by(a);for(var n=this._groups,i=n.length,s=[],o=[],c=0;c<i;++c)for(var f=n[c],m=f.length,p,g=0;g<m;++g)(p=f[g])&&(s.push(a.call(p,p.__data__,g,f)),o.push(p));return new zt(s,o)}function _y(a){return function(){return this.matches(a)}}function wy(a){return function(n){return n.matches(a)}}var SN=Array.prototype.find;function NN(a){return function(){return SN.call(this.children,a)}}function EN(){return this.firstElementChild}function jN(a){return this.select(a==null?EN:NN(typeof a=="function"?a:wy(a)))}var TN=Array.prototype.filter;function AN(){return Array.from(this.children)}function RN(a){return function(){return TN.call(this.children,a)}}function ON(a){return this.selectAll(a==null?AN:RN(typeof a=="function"?a:wy(a)))}function CN(a){typeof a!="function"&&(a=_y(a));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var c=n[o],f=c.length,m=s[o]=[],p,g=0;g<f;++g)(p=c[g])&&a.call(p,p.__data__,g,c)&&m.push(p);return new zt(s,this._parents)}function Sy(a){return new Array(a.length)}function kN(){return new zt(this._enter||this._groups.map(Sy),this._parents)}function yo(a,n){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=n}yo.prototype={constructor:yo,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,n){return this._parent.insertBefore(a,n)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function DN(a){return function(){return a}}function MN(a,n,i,s,o,c){for(var f=0,m,p=n.length,g=c.length;f<g;++f)(m=n[f])?(m.__data__=c[f],s[f]=m):i[f]=new yo(a,c[f]);for(;f<p;++f)(m=n[f])&&(o[f]=m)}function UN(a,n,i,s,o,c,f){var m,p,g=new Map,y=n.length,b=c.length,_=new Array(y),x;for(m=0;m<y;++m)(p=n[m])&&(_[m]=x=f.call(p,p.__data__,m,n)+"",g.has(x)?o[m]=p:g.set(x,p));for(m=0;m<b;++m)x=f.call(a,c[m],m,c)+"",(p=g.get(x))?(s[m]=p,p.__data__=c[m],g.delete(x)):i[m]=new yo(a,c[m]);for(m=0;m<y;++m)(p=n[m])&&g.get(_[m])===p&&(o[m]=p)}function zN(a){return a.__data__}function LN(a,n){if(!arguments.length)return Array.from(this,zN);var i=n?UN:MN,s=this._parents,o=this._groups;typeof a!="function"&&(a=DN(a));for(var c=o.length,f=new Array(c),m=new Array(c),p=new Array(c),g=0;g<c;++g){var y=s[g],b=o[g],_=b.length,x=$N(a.call(y,y&&y.__data__,g,s)),E=x.length,w=m[g]=new Array(E),N=f[g]=new Array(E),j=p[g]=new Array(_);i(y,b,w,N,j,x,n);for(var T=0,M=0,R,Y;T<E;++T)if(R=w[T]){for(T>=M&&(M=T+1);!(Y=N[M])&&++M<E;);R._next=Y||null}}return f=new zt(f,s),f._enter=m,f._exit=p,f}function $N(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function BN(){return new zt(this._exit||this._groups.map(Sy),this._parents)}function qN(a,n,i){var s=this.enter(),o=this,c=this.exit();return typeof a=="function"?(s=a(s),s&&(s=s.selection())):s=s.append(a+""),n!=null&&(o=n(o),o&&(o=o.selection())),i==null?c.remove():i(c),s&&o?s.merge(o).order():o}function HN(a){for(var n=a.selection?a.selection():a,i=this._groups,s=n._groups,o=i.length,c=s.length,f=Math.min(o,c),m=new Array(o),p=0;p<f;++p)for(var g=i[p],y=s[p],b=g.length,_=m[p]=new Array(b),x,E=0;E<b;++E)(x=g[E]||y[E])&&(_[E]=x);for(;p<o;++p)m[p]=i[p];return new zt(m,this._parents)}function GN(){for(var a=this._groups,n=-1,i=a.length;++n<i;)for(var s=a[n],o=s.length-1,c=s[o],f;--o>=0;)(f=s[o])&&(c&&f.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(f,c),c=f);return this}function VN(a){a||(a=YN);function n(b,_){return b&&_?a(b.__data__,_.__data__):!b-!_}for(var i=this._groups,s=i.length,o=new Array(s),c=0;c<s;++c){for(var f=i[c],m=f.length,p=o[c]=new Array(m),g,y=0;y<m;++y)(g=f[y])&&(p[y]=g);p.sort(n)}return new zt(o,this._parents).order()}function YN(a,n){return a<n?-1:a>n?1:a>=n?0:NaN}function KN(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function XN(){return Array.from(this)}function IN(){for(var a=this._groups,n=0,i=a.length;n<i;++n)for(var s=a[n],o=0,c=s.length;o<c;++o){var f=s[o];if(f)return f}return null}function PN(){let a=0;for(const n of this)++a;return a}function QN(){return!this.node()}function JN(a){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var o=n[i],c=0,f=o.length,m;c<f;++c)(m=o[c])&&a.call(m,m.__data__,c,o);return this}function ZN(a){return function(){this.removeAttribute(a)}}function WN(a){return function(){this.removeAttributeNS(a.space,a.local)}}function FN(a,n){return function(){this.setAttribute(a,n)}}function eE(a,n){return function(){this.setAttributeNS(a.space,a.local,n)}}function tE(a,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(a):this.setAttribute(a,i)}}function nE(a,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,i)}}function aE(a,n){var i=Co(a);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((n==null?i.local?WN:ZN:typeof n=="function"?i.local?nE:tE:i.local?eE:FN)(i,n))}function Ny(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function rE(a){return function(){this.style.removeProperty(a)}}function iE(a,n,i){return function(){this.style.setProperty(a,n,i)}}function sE(a,n,i){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(a):this.style.setProperty(a,s,i)}}function lE(a,n,i){return arguments.length>1?this.each((n==null?rE:typeof n=="function"?sE:iE)(a,n,i??"")):Pr(this.node(),a)}function Pr(a,n){return a.style.getPropertyValue(n)||Ny(a).getComputedStyle(a,null).getPropertyValue(n)}function oE(a){return function(){delete this[a]}}function cE(a,n){return function(){this[a]=n}}function uE(a,n){return function(){var i=n.apply(this,arguments);i==null?delete this[a]:this[a]=i}}function fE(a,n){return arguments.length>1?this.each((n==null?oE:typeof n=="function"?uE:cE)(a,n)):this.node()[a]}function Ey(a){return a.trim().split(/^|\s+/)}function Ff(a){return a.classList||new jy(a)}function jy(a){this._node=a,this._names=Ey(a.getAttribute("class")||"")}jy.prototype={add:function(a){var n=this._names.indexOf(a);n<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var n=this._names.indexOf(a);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function Ty(a,n){for(var i=Ff(a),s=-1,o=n.length;++s<o;)i.add(n[s])}function Ay(a,n){for(var i=Ff(a),s=-1,o=n.length;++s<o;)i.remove(n[s])}function hE(a){return function(){Ty(this,a)}}function dE(a){return function(){Ay(this,a)}}function mE(a,n){return function(){(n.apply(this,arguments)?Ty:Ay)(this,a)}}function gE(a,n){var i=Ey(a+"");if(arguments.length<2){for(var s=Ff(this.node()),o=-1,c=i.length;++o<c;)if(!s.contains(i[o]))return!1;return!0}return this.each((typeof n=="function"?mE:n?hE:dE)(i,n))}function pE(){this.textContent=""}function yE(a){return function(){this.textContent=a}}function vE(a){return function(){var n=a.apply(this,arguments);this.textContent=n??""}}function xE(a){return arguments.length?this.each(a==null?pE:(typeof a=="function"?vE:yE)(a)):this.node().textContent}function bE(){this.innerHTML=""}function _E(a){return function(){this.innerHTML=a}}function wE(a){return function(){var n=a.apply(this,arguments);this.innerHTML=n??""}}function SE(a){return arguments.length?this.each(a==null?bE:(typeof a=="function"?wE:_E)(a)):this.node().innerHTML}function NE(){this.nextSibling&&this.parentNode.appendChild(this)}function EE(){return this.each(NE)}function jE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TE(){return this.each(jE)}function AE(a){var n=typeof a=="function"?a:xy(a);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function RE(){return null}function OE(a,n){var i=typeof a=="function"?a:xy(a),s=n==null?RE:typeof n=="function"?n:Wf(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function CE(){var a=this.parentNode;a&&a.removeChild(this)}function kE(){return this.each(CE)}function DE(){var a=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function ME(){var a=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function UE(a){return this.select(a?ME:DE)}function zE(a){return arguments.length?this.property("__data__",a):this.node().__data__}function LE(a){return function(n){a.call(this,n,this.__data__)}}function $E(a){return a.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");return s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),{type:n,name:i}})}function BE(a){return function(){var n=this.__on;if(n){for(var i=0,s=-1,o=n.length,c;i<o;++i)c=n[i],(!a.type||c.type===a.type)&&c.name===a.name?this.removeEventListener(c.type,c.listener,c.options):n[++s]=c;++s?n.length=s:delete this.__on}}}function qE(a,n,i){return function(){var s=this.__on,o,c=LE(n);if(s){for(var f=0,m=s.length;f<m;++f)if((o=s[f]).type===a.type&&o.name===a.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=c,o.options=i),o.value=n;return}}this.addEventListener(a.type,c,i),o={type:a.type,name:a.name,value:n,listener:c,options:i},s?s.push(o):this.__on=[o]}}function HE(a,n,i){var s=$E(a+""),o,c=s.length,f;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,y;p<g;++p)for(o=0,y=m[p];o<c;++o)if((f=s[o]).type===y.type&&f.name===y.name)return y.value}return}for(m=n?qE:BE,o=0;o<c;++o)this.each(m(s[o],n,i));return this}function Ry(a,n,i){var s=Ny(a),o=s.CustomEvent;typeof o=="function"?o=new o(n,i):(o=s.document.createEvent("Event"),i?(o.initEvent(n,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(n,!1,!1)),a.dispatchEvent(o)}function GE(a,n){return function(){return Ry(this,a,n)}}function VE(a,n){return function(){return Ry(this,a,n.apply(this,arguments))}}function YE(a,n){return this.each((typeof n=="function"?VE:GE)(a,n))}function*KE(){for(var a=this._groups,n=0,i=a.length;n<i;++n)for(var s=a[n],o=0,c=s.length,f;o<c;++o)(f=s[o])&&(yield f)}var Oy=[null];function zt(a,n){this._groups=a,this._parents=n}function Es(){return new zt([[document.documentElement]],Oy)}function XE(){return this}zt.prototype=Es.prototype={constructor:zt,select:vN,selectAll:wN,selectChild:jN,selectChildren:ON,filter:CN,data:LN,enter:kN,exit:BN,join:qN,merge:HN,selection:XE,order:GN,sort:VN,call:KN,nodes:XN,node:IN,size:PN,empty:QN,each:JN,attr:aE,style:lE,property:fE,classed:gE,text:xE,html:SE,raise:EE,lower:TE,append:AE,insert:OE,remove:kE,clone:UE,datum:zE,on:HE,dispatch:YE,[Symbol.iterator]:KE};function on(a){return typeof a=="string"?new zt([[document.querySelector(a)]],[document.documentElement]):new zt([[a]],Oy)}function IE(a){let n;for(;n=a.sourceEvent;)a=n;return a}function Dn(a,n){if(a=IE(a),n===void 0&&(n=a.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=a.clientX,s.y=a.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[a.clientX-o.left-n.clientLeft,a.clientY-o.top-n.clientTop]}}return[a.pageX,a.pageY]}const PE={passive:!1},ds={capture:!0,passive:!1};function gf(a){a.stopImmediatePropagation()}function Xr(a){a.preventDefault(),a.stopImmediatePropagation()}function Cy(a){var n=a.document.documentElement,i=on(a).on("dragstart.drag",Xr,ds);"onselectstart"in n?i.on("selectstart.drag",Xr,ds):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ky(a,n){var i=a.document.documentElement,s=on(a).on("dragstart.drag",null);n&&(s.on("click.drag",Xr,ds),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Fl=a=>()=>a;function Uf(a,{sourceEvent:n,subject:i,target:s,identifier:o,active:c,x:f,y:m,dx:p,dy:g,dispatch:y}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:y}})}Uf.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};function QE(a){return!a.ctrlKey&&!a.button}function JE(){return this.parentNode}function ZE(a,n){return n??{x:a.x,y:a.y}}function WE(){return navigator.maxTouchPoints||"ontouchstart"in this}function FE(){var a=QE,n=JE,i=ZE,s=WE,o={},c=Ns("start","drag","end"),f=0,m,p,g,y,b=0;function _(R){R.on("mousedown.drag",x).filter(s).on("touchstart.drag",N).on("touchmove.drag",j,PE).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(R,Y){if(!(y||!a.call(this,R,Y))){var P=M(this,n.call(this,R,Y),R,Y,"mouse");P&&(on(R.view).on("mousemove.drag",E,ds).on("mouseup.drag",w,ds),Cy(R.view),gf(R),g=!1,m=R.clientX,p=R.clientY,P("start",R))}}function E(R){if(Xr(R),!g){var Y=R.clientX-m,P=R.clientY-p;g=Y*Y+P*P>b}o.mouse("drag",R)}function w(R){on(R.view).on("mousemove.drag mouseup.drag",null),ky(R.view,g),Xr(R),o.mouse("end",R)}function N(R,Y){if(a.call(this,R,Y)){var P=R.changedTouches,Q=n.call(this,R,Y),te=P.length,ie,de;for(ie=0;ie<te;++ie)(de=M(this,Q,R,Y,P[ie].identifier,P[ie]))&&(gf(R),de("start",R,P[ie]))}}function j(R){var Y=R.changedTouches,P=Y.length,Q,te;for(Q=0;Q<P;++Q)(te=o[Y[Q].identifier])&&(Xr(R),te("drag",R,Y[Q]))}function T(R){var Y=R.changedTouches,P=Y.length,Q,te;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),Q=0;Q<P;++Q)(te=o[Y[Q].identifier])&&(gf(R),te("end",R,Y[Q]))}function M(R,Y,P,Q,te,ie){var de=c.copy(),be=Dn(ie||P,Y),ue,Oe,q;if((q=i.call(R,new Uf("beforestart",{sourceEvent:P,target:_,identifier:te,active:f,x:be[0],y:be[1],dx:0,dy:0,dispatch:de}),Q))!=null)return ue=q.x-be[0]||0,Oe=q.y-be[1]||0,function ne(k,V,U){var J=be,ee;switch(k){case"start":o[te]=ne,ee=f++;break;case"end":delete o[te],--f;case"drag":be=Dn(U||V,Y),ee=f;break}de.call(k,R,new Uf(k,{sourceEvent:V,subject:q,target:_,identifier:te,active:ee,x:be[0]+ue,y:be[1]+Oe,dx:be[0]-J[0],dy:be[1]-J[1],dispatch:de}),Q)}}return _.filter=function(R){return arguments.length?(a=typeof R=="function"?R:Fl(!!R),_):a},_.container=function(R){return arguments.length?(n=typeof R=="function"?R:Fl(R),_):n},_.subject=function(R){return arguments.length?(i=typeof R=="function"?R:Fl(R),_):i},_.touchable=function(R){return arguments.length?(s=typeof R=="function"?R:Fl(!!R),_):s},_.on=function(){var R=c.on.apply(c,arguments);return R===c?_:R},_.clickDistance=function(R){return arguments.length?(b=(R=+R)*R,_):Math.sqrt(b)},_}function eh(a,n,i){a.prototype=n.prototype=i,i.constructor=a}function Dy(a,n){var i=Object.create(a.prototype);for(var s in n)i[s]=n[s];return i}function js(){}var ms=.7,vo=1/ms,Ir="\\s*([+-]?\\d+)\\s*",gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ej=/^#([0-9a-f]{3,8})$/,tj=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),nj=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),aj=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${gs}\\)$`),rj=new RegExp(`^rgba\\(${cn},${cn},${cn},${gs}\\)$`),ij=new RegExp(`^hsl\\(${gs},${cn},${cn}\\)$`),sj=new RegExp(`^hsla\\(${gs},${cn},${cn},${gs}\\)$`),lp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eh(js,ps,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:op,formatHex:op,formatHex8:lj,formatHsl:oj,formatRgb:cp,toString:cp});function op(){return this.rgb().formatHex()}function lj(){return this.rgb().formatHex8()}function oj(){return My(this).formatHsl()}function cp(){return this.rgb().formatRgb()}function ps(a){var n,i;return a=(a+"").trim().toLowerCase(),(n=ej.exec(a))?(i=n[1].length,n=parseInt(n[1],16),i===6?up(n):i===3?new St(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?eo(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?eo(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=tj.exec(a))?new St(n[1],n[2],n[3],1):(n=nj.exec(a))?new St(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=aj.exec(a))?eo(n[1],n[2],n[3],n[4]):(n=rj.exec(a))?eo(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ij.exec(a))?dp(n[1],n[2]/100,n[3]/100,1):(n=sj.exec(a))?dp(n[1],n[2]/100,n[3]/100,n[4]):lp.hasOwnProperty(a)?up(lp[a]):a==="transparent"?new St(NaN,NaN,NaN,0):null}function up(a){return new St(a>>16&255,a>>8&255,a&255,1)}function eo(a,n,i,s){return s<=0&&(a=n=i=NaN),new St(a,n,i,s)}function cj(a){return a instanceof js||(a=ps(a)),a?(a=a.rgb(),new St(a.r,a.g,a.b,a.opacity)):new St}function zf(a,n,i,s){return arguments.length===1?cj(a):new St(a,n,i,s??1)}function St(a,n,i,s){this.r=+a,this.g=+n,this.b=+i,this.opacity=+s}eh(St,zf,Dy(js,{brighter(a){return a=a==null?vo:Math.pow(vo,a),new St(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?ms:Math.pow(ms,a),new St(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new St(Xa(this.r),Xa(this.g),Xa(this.b),xo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fp,formatHex:fp,formatHex8:uj,formatRgb:hp,toString:hp}));function fp(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function uj(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function hp(){const a=xo(this.opacity);return`${a===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${a===1?")":`, ${a})`}`}function xo(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Xa(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Ka(a){return a=Xa(a),(a<16?"0":"")+a.toString(16)}function dp(a,n,i,s){return s<=0?a=n=i=NaN:i<=0||i>=1?a=n=NaN:n<=0&&(a=NaN),new en(a,n,i,s)}function My(a){if(a instanceof en)return new en(a.h,a.s,a.l,a.opacity);if(a instanceof js||(a=ps(a)),!a)return new en;if(a instanceof en)return a;a=a.rgb();var n=a.r/255,i=a.g/255,s=a.b/255,o=Math.min(n,i,s),c=Math.max(n,i,s),f=NaN,m=c-o,p=(c+o)/2;return m?(n===c?f=(i-s)/m+(i<s)*6:i===c?f=(s-n)/m+2:f=(n-i)/m+4,m/=p<.5?c+o:2-c-o,f*=60):m=p>0&&p<1?0:f,new en(f,m,p,a.opacity)}function fj(a,n,i,s){return arguments.length===1?My(a):new en(a,n,i,s??1)}function en(a,n,i,s){this.h=+a,this.s=+n,this.l=+i,this.opacity=+s}eh(en,fj,Dy(js,{brighter(a){return a=a==null?vo:Math.pow(vo,a),new en(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?ms:Math.pow(ms,a),new en(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,n=isNaN(a)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*n,o=2*i-s;return new St(pf(a>=240?a-240:a+120,o,s),pf(a,o,s),pf(a<120?a+240:a-120,o,s),this.opacity)},clamp(){return new en(mp(this.h),to(this.s),to(this.l),xo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=xo(this.opacity);return`${a===1?"hsl(":"hsla("}${mp(this.h)}, ${to(this.s)*100}%, ${to(this.l)*100}%${a===1?")":`, ${a})`}`}}));function mp(a){return a=(a||0)%360,a<0?a+360:a}function to(a){return Math.max(0,Math.min(1,a||0))}function pf(a,n,i){return(a<60?n+(i-n)*a/60:a<180?i:a<240?n+(i-n)*(240-a)/60:n)*255}const Uy=a=>()=>a;function hj(a,n){return function(i){return a+i*n}}function dj(a,n,i){return a=Math.pow(a,i),n=Math.pow(n,i)-a,i=1/i,function(s){return Math.pow(a+s*n,i)}}function mj(a){return(a=+a)==1?zy:function(n,i){return i-n?dj(n,i,a):Uy(isNaN(n)?i:n)}}function zy(a,n){var i=n-a;return i?hj(a,i):Uy(isNaN(a)?n:a)}const gp=(function a(n){var i=mj(n);function s(o,c){var f=i((o=zf(o)).r,(c=zf(c)).r),m=i(o.g,c.g),p=i(o.b,c.b),g=zy(o.opacity,c.opacity);return function(y){return o.r=f(y),o.g=m(y),o.b=p(y),o.opacity=g(y),o+""}}return s.gamma=a,s})(1);function ha(a,n){return a=+a,n=+n,function(i){return a*(1-i)+n*i}}var Lf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yf=new RegExp(Lf.source,"g");function gj(a){return function(){return a}}function pj(a){return function(n){return a(n)+""}}function yj(a,n){var i=Lf.lastIndex=yf.lastIndex=0,s,o,c,f=-1,m=[],p=[];for(a=a+"",n=n+"";(s=Lf.exec(a))&&(o=yf.exec(n));)(c=o.index)>i&&(c=n.slice(i,c),m[f]?m[f]+=c:m[++f]=c),(s=s[0])===(o=o[0])?m[f]?m[f]+=o:m[++f]=o:(m[++f]=null,p.push({i:f,x:ha(s,o)})),i=yf.lastIndex;return i<n.length&&(c=n.slice(i),m[f]?m[f]+=c:m[++f]=c),m.length<2?p[0]?pj(p[0].x):gj(n):(n=p.length,function(g){for(var y=0,b;y<n;++y)m[(b=p[y]).i]=b.x(g);return m.join("")})}var pp=180/Math.PI,$f={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ly(a,n,i,s,o,c){var f,m,p;return(f=Math.sqrt(a*a+n*n))&&(a/=f,n/=f),(p=a*i+n*s)&&(i-=a*p,s-=n*p),(m=Math.sqrt(i*i+s*s))&&(i/=m,s/=m,p/=m),a*s<n*i&&(a=-a,n=-n,p=-p,f=-f),{translateX:o,translateY:c,rotate:Math.atan2(n,a)*pp,skewX:Math.atan(p)*pp,scaleX:f,scaleY:m}}var no;function vj(a){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return n.isIdentity?$f:Ly(n.a,n.b,n.c,n.d,n.e,n.f)}function xj(a){return a==null||(no||(no=document.createElementNS("http://www.w3.org/2000/svg","g")),no.setAttribute("transform",a),!(a=no.transform.baseVal.consolidate()))?$f:(a=a.matrix,Ly(a.a,a.b,a.c,a.d,a.e,a.f))}function $y(a,n,i,s){function o(g){return g.length?g.pop()+" ":""}function c(g,y,b,_,x,E){if(g!==b||y!==_){var w=x.push("translate(",null,n,null,i);E.push({i:w-4,x:ha(g,b)},{i:w-2,x:ha(y,_)})}else(b||_)&&x.push("translate("+b+n+_+i)}function f(g,y,b,_){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),_.push({i:b.push(o(b)+"rotate(",null,s)-2,x:ha(g,y)})):y&&b.push(o(b)+"rotate("+y+s)}function m(g,y,b,_){g!==y?_.push({i:b.push(o(b)+"skewX(",null,s)-2,x:ha(g,y)}):y&&b.push(o(b)+"skewX("+y+s)}function p(g,y,b,_,x,E){if(g!==b||y!==_){var w=x.push(o(x)+"scale(",null,",",null,")");E.push({i:w-4,x:ha(g,b)},{i:w-2,x:ha(y,_)})}else(b!==1||_!==1)&&x.push(o(x)+"scale("+b+","+_+")")}return function(g,y){var b=[],_=[];return g=a(g),y=a(y),c(g.translateX,g.translateY,y.translateX,y.translateY,b,_),f(g.rotate,y.rotate,b,_),m(g.skewX,y.skewX,b,_),p(g.scaleX,g.scaleY,y.scaleX,y.scaleY,b,_),g=y=null,function(x){for(var E=-1,w=_.length,N;++E<w;)b[(N=_[E]).i]=N.x(x);return b.join("")}}}var bj=$y(vj,"px, ","px)","deg)"),_j=$y(xj,", ",")",")"),wj=1e-12;function yp(a){return((a=Math.exp(a))+1/a)/2}function Sj(a){return((a=Math.exp(a))-1/a)/2}function Nj(a){return((a=Math.exp(2*a))-1)/(a+1)}const Ej=(function a(n,i,s){function o(c,f){var m=c[0],p=c[1],g=c[2],y=f[0],b=f[1],_=f[2],x=y-m,E=b-p,w=x*x+E*E,N,j;if(w<wj)j=Math.log(_/g)/n,N=function(Q){return[m+Q*x,p+Q*E,g*Math.exp(n*Q*j)]};else{var T=Math.sqrt(w),M=(_*_-g*g+s*w)/(2*g*i*T),R=(_*_-g*g-s*w)/(2*_*i*T),Y=Math.log(Math.sqrt(M*M+1)-M),P=Math.log(Math.sqrt(R*R+1)-R);j=(P-Y)/n,N=function(Q){var te=Q*j,ie=yp(Y),de=g/(i*T)*(ie*Nj(n*te+Y)-Sj(Y));return[m+de*x,p+de*E,g*ie/yp(n*te+Y)]}}return N.duration=j*1e3*n/Math.SQRT2,N}return o.rho=function(c){var f=Math.max(.001,+c),m=f*f,p=m*m;return a(f,m,p)},o})(Math.SQRT2,2,4);var Qr=0,es=0,Ji=0,By=1e3,bo,ts,_o=0,Pa=0,ko=0,ys=typeof performance=="object"&&performance.now?performance:Date,qy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function th(){return Pa||(qy(jj),Pa=ys.now()+ko)}function jj(){Pa=0}function wo(){this._call=this._time=this._next=null}wo.prototype=nh.prototype={constructor:wo,restart:function(a,n,i){if(typeof a!="function")throw new TypeError("callback is not a function");i=(i==null?th():+i)+(n==null?0:+n),!this._next&&ts!==this&&(ts?ts._next=this:bo=this,ts=this),this._call=a,this._time=i,Bf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bf())}};function nh(a,n,i){var s=new wo;return s.restart(a,n,i),s}function Tj(){th(),++Qr;for(var a=bo,n;a;)(n=Pa-a._time)>=0&&a._call.call(void 0,n),a=a._next;--Qr}function vp(){Pa=(_o=ys.now())+ko,Qr=es=0;try{Tj()}finally{Qr=0,Rj(),Pa=0}}function Aj(){var a=ys.now(),n=a-_o;n>By&&(ko-=n,_o=a)}function Rj(){for(var a,n=bo,i,s=1/0;n;)n._call?(s>n._time&&(s=n._time),a=n,n=n._next):(i=n._next,n._next=null,n=a?a._next=i:bo=i);ts=a,Bf(s)}function Bf(a){if(!Qr){es&&(es=clearTimeout(es));var n=a-Pa;n>24?(a<1/0&&(es=setTimeout(vp,a-ys.now()-ko)),Ji&&(Ji=clearInterval(Ji))):(Ji||(_o=ys.now(),Ji=setInterval(Aj,By)),Qr=1,qy(vp))}}function xp(a,n,i){var s=new wo;return n=n==null?0:+n,s.restart(o=>{s.stop(),a(o+n)},n,i),s}var Oj=Ns("start","end","cancel","interrupt"),Cj=[],Hy=0,bp=1,qf=2,oo=3,_p=4,Hf=5,co=6;function Do(a,n,i,s,o,c){var f=a.__transition;if(!f)a.__transition={};else if(i in f)return;kj(a,i,{name:n,index:s,group:o,on:Oj,tween:Cj,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Hy})}function ah(a,n){var i=nn(a,n);if(i.state>Hy)throw new Error("too late; already scheduled");return i}function hn(a,n){var i=nn(a,n);if(i.state>oo)throw new Error("too late; already running");return i}function nn(a,n){var i=a.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function kj(a,n,i){var s=a.__transition,o;s[n]=i,i.timer=nh(c,0,i.time);function c(g){i.state=bp,i.timer.restart(f,i.delay,i.time),i.delay<=g&&f(g-i.delay)}function f(g){var y,b,_,x;if(i.state!==bp)return p();for(y in s)if(x=s[y],x.name===i.name){if(x.state===oo)return xp(f);x.state===_p?(x.state=co,x.timer.stop(),x.on.call("interrupt",a,a.__data__,x.index,x.group),delete s[y]):+y<n&&(x.state=co,x.timer.stop(),x.on.call("cancel",a,a.__data__,x.index,x.group),delete s[y])}if(xp(function(){i.state===oo&&(i.state=_p,i.timer.restart(m,i.delay,i.time),m(g))}),i.state=qf,i.on.call("start",a,a.__data__,i.index,i.group),i.state===qf){for(i.state=oo,o=new Array(_=i.tween.length),y=0,b=-1;y<_;++y)(x=i.tween[y].value.call(a,a.__data__,i.index,i.group))&&(o[++b]=x);o.length=b+1}}function m(g){for(var y=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(p),i.state=Hf,1),b=-1,_=o.length;++b<_;)o[b].call(a,y);i.state===Hf&&(i.on.call("end",a,a.__data__,i.index,i.group),p())}function p(){i.state=co,i.timer.stop(),delete s[n];for(var g in s)return;delete a.__transition}}function uo(a,n){var i=a.__transition,s,o,c=!0,f;if(i){n=n==null?null:n+"";for(f in i){if((s=i[f]).name!==n){c=!1;continue}o=s.state>qf&&s.state<Hf,s.state=co,s.timer.stop(),s.on.call(o?"interrupt":"cancel",a,a.__data__,s.index,s.group),delete i[f]}c&&delete a.__transition}}function Dj(a){return this.each(function(){uo(this,a)})}function Mj(a,n){var i,s;return function(){var o=hn(this,a),c=o.tween;if(c!==i){s=i=c;for(var f=0,m=s.length;f<m;++f)if(s[f].name===n){s=s.slice(),s.splice(f,1);break}}o.tween=s}}function Uj(a,n,i){var s,o;if(typeof i!="function")throw new Error;return function(){var c=hn(this,a),f=c.tween;if(f!==s){o=(s=f).slice();for(var m={name:n,value:i},p=0,g=o.length;p<g;++p)if(o[p].name===n){o[p]=m;break}p===g&&o.push(m)}c.tween=o}}function zj(a,n){var i=this._id;if(a+="",arguments.length<2){for(var s=nn(this.node(),i).tween,o=0,c=s.length,f;o<c;++o)if((f=s[o]).name===a)return f.value;return null}return this.each((n==null?Mj:Uj)(i,a,n))}function rh(a,n,i){var s=a._id;return a.each(function(){var o=hn(this,s);(o.value||(o.value={}))[n]=i.apply(this,arguments)}),function(o){return nn(o,s).value[n]}}function Gy(a,n){var i;return(typeof n=="number"?ha:n instanceof ps?gp:(i=ps(n))?(n=i,gp):yj)(a,n)}function Lj(a){return function(){this.removeAttribute(a)}}function $j(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Bj(a,n,i){var s,o=i+"",c;return function(){var f=this.getAttribute(a);return f===o?null:f===s?c:c=n(s=f,i)}}function qj(a,n,i){var s,o=i+"",c;return function(){var f=this.getAttributeNS(a.space,a.local);return f===o?null:f===s?c:c=n(s=f,i)}}function Hj(a,n,i){var s,o,c;return function(){var f,m=i(this),p;return m==null?void this.removeAttribute(a):(f=this.getAttribute(a),p=m+"",f===p?null:f===s&&p===o?c:(o=p,c=n(s=f,m)))}}function Gj(a,n,i){var s,o,c;return function(){var f,m=i(this),p;return m==null?void this.removeAttributeNS(a.space,a.local):(f=this.getAttributeNS(a.space,a.local),p=m+"",f===p?null:f===s&&p===o?c:(o=p,c=n(s=f,m)))}}function Vj(a,n){var i=Co(a),s=i==="transform"?_j:Gy;return this.attrTween(a,typeof n=="function"?(i.local?Gj:Hj)(i,s,rh(this,"attr."+a,n)):n==null?(i.local?$j:Lj)(i):(i.local?qj:Bj)(i,s,n))}function Yj(a,n){return function(i){this.setAttribute(a,n.call(this,i))}}function Kj(a,n){return function(i){this.setAttributeNS(a.space,a.local,n.call(this,i))}}function Xj(a,n){var i,s;function o(){var c=n.apply(this,arguments);return c!==s&&(i=(s=c)&&Kj(a,c)),i}return o._value=n,o}function Ij(a,n){var i,s;function o(){var c=n.apply(this,arguments);return c!==s&&(i=(s=c)&&Yj(a,c)),i}return o._value=n,o}function Pj(a,n){var i="attr."+a;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var s=Co(a);return this.tween(i,(s.local?Xj:Ij)(s,n))}function Qj(a,n){return function(){ah(this,a).delay=+n.apply(this,arguments)}}function Jj(a,n){return n=+n,function(){ah(this,a).delay=n}}function Zj(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?Qj:Jj)(n,a)):nn(this.node(),n).delay}function Wj(a,n){return function(){hn(this,a).duration=+n.apply(this,arguments)}}function Fj(a,n){return n=+n,function(){hn(this,a).duration=n}}function eT(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?Wj:Fj)(n,a)):nn(this.node(),n).duration}function tT(a,n){if(typeof n!="function")throw new Error;return function(){hn(this,a).ease=n}}function nT(a){var n=this._id;return arguments.length?this.each(tT(n,a)):nn(this.node(),n).ease}function aT(a,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;hn(this,a).ease=i}}function rT(a){if(typeof a!="function")throw new Error;return this.each(aT(this._id,a))}function iT(a){typeof a!="function"&&(a=_y(a));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var c=n[o],f=c.length,m=s[o]=[],p,g=0;g<f;++g)(p=c[g])&&a.call(p,p.__data__,g,c)&&m.push(p);return new Ln(s,this._parents,this._name,this._id)}function sT(a){if(a._id!==this._id)throw new Error;for(var n=this._groups,i=a._groups,s=n.length,o=i.length,c=Math.min(s,o),f=new Array(s),m=0;m<c;++m)for(var p=n[m],g=i[m],y=p.length,b=f[m]=new Array(y),_,x=0;x<y;++x)(_=p[x]||g[x])&&(b[x]=_);for(;m<s;++m)f[m]=n[m];return new Ln(f,this._parents,this._name,this._id)}function lT(a){return(a+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function oT(a,n,i){var s,o,c=lT(n)?ah:hn;return function(){var f=c(this,a),m=f.on;m!==s&&(o=(s=m).copy()).on(n,i),f.on=o}}function cT(a,n){var i=this._id;return arguments.length<2?nn(this.node(),i).on.on(a):this.each(oT(i,a,n))}function uT(a){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==a)return;n&&n.removeChild(this)}}function fT(){return this.on("end.remove",uT(this._id))}function hT(a){var n=this._name,i=this._id;typeof a!="function"&&(a=Wf(a));for(var s=this._groups,o=s.length,c=new Array(o),f=0;f<o;++f)for(var m=s[f],p=m.length,g=c[f]=new Array(p),y,b,_=0;_<p;++_)(y=m[_])&&(b=a.call(y,y.__data__,_,m))&&("__data__"in y&&(b.__data__=y.__data__),g[_]=b,Do(g[_],n,i,_,g,nn(y,i)));return new Ln(c,this._parents,n,i)}function dT(a){var n=this._name,i=this._id;typeof a!="function"&&(a=by(a));for(var s=this._groups,o=s.length,c=[],f=[],m=0;m<o;++m)for(var p=s[m],g=p.length,y,b=0;b<g;++b)if(y=p[b]){for(var _=a.call(y,y.__data__,b,p),x,E=nn(y,i),w=0,N=_.length;w<N;++w)(x=_[w])&&Do(x,n,i,w,_,E);c.push(_),f.push(y)}return new Ln(c,f,n,i)}var mT=Es.prototype.constructor;function gT(){return new mT(this._groups,this._parents)}function pT(a,n){var i,s,o;return function(){var c=Pr(this,a),f=(this.style.removeProperty(a),Pr(this,a));return c===f?null:c===i&&f===s?o:o=n(i=c,s=f)}}function Vy(a){return function(){this.style.removeProperty(a)}}function yT(a,n,i){var s,o=i+"",c;return function(){var f=Pr(this,a);return f===o?null:f===s?c:c=n(s=f,i)}}function vT(a,n,i){var s,o,c;return function(){var f=Pr(this,a),m=i(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(a),Pr(this,a))),f===p?null:f===s&&p===o?c:(o=p,c=n(s=f,m))}}function xT(a,n){var i,s,o,c="style."+n,f="end."+c,m;return function(){var p=hn(this,a),g=p.on,y=p.value[c]==null?m||(m=Vy(n)):void 0;(g!==i||o!==y)&&(s=(i=g).copy()).on(f,o=y),p.on=s}}function bT(a,n,i){var s=(a+="")=="transform"?bj:Gy;return n==null?this.styleTween(a,pT(a,s)).on("end.style."+a,Vy(a)):typeof n=="function"?this.styleTween(a,vT(a,s,rh(this,"style."+a,n))).each(xT(this._id,a)):this.styleTween(a,yT(a,s,n),i).on("end.style."+a,null)}function _T(a,n,i){return function(s){this.style.setProperty(a,n.call(this,s),i)}}function wT(a,n,i){var s,o;function c(){var f=n.apply(this,arguments);return f!==o&&(s=(o=f)&&_T(a,f,i)),s}return c._value=n,c}function ST(a,n,i){var s="style."+(a+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,wT(a,n,i??""))}function NT(a){return function(){this.textContent=a}}function ET(a){return function(){var n=a(this);this.textContent=n??""}}function jT(a){return this.tween("text",typeof a=="function"?ET(rh(this,"text",a)):NT(a==null?"":a+""))}function TT(a){return function(n){this.textContent=a.call(this,n)}}function AT(a){var n,i;function s(){var o=a.apply(this,arguments);return o!==i&&(n=(i=o)&&TT(o)),n}return s._value=a,s}function RT(a){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(a==null)return this.tween(n,null);if(typeof a!="function")throw new Error;return this.tween(n,AT(a))}function OT(){for(var a=this._name,n=this._id,i=Yy(),s=this._groups,o=s.length,c=0;c<o;++c)for(var f=s[c],m=f.length,p,g=0;g<m;++g)if(p=f[g]){var y=nn(p,n);Do(p,a,i,g,f,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Ln(s,this._parents,a,i)}function CT(){var a,n,i=this,s=i._id,o=i.size();return new Promise(function(c,f){var m={value:f},p={value:function(){--o===0&&c()}};i.each(function(){var g=hn(this,s),y=g.on;y!==a&&(n=(a=y).copy(),n._.cancel.push(m),n._.interrupt.push(m),n._.end.push(p)),g.on=n}),o===0&&c()})}var kT=0;function Ln(a,n,i,s){this._groups=a,this._parents=n,this._name=i,this._id=s}function Yy(){return++kT}var Cn=Es.prototype;Ln.prototype={constructor:Ln,select:hT,selectAll:dT,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:iT,merge:sT,selection:gT,transition:OT,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:cT,attr:Vj,attrTween:Pj,style:bT,styleTween:ST,text:jT,textTween:RT,remove:fT,tween:zj,delay:Zj,duration:eT,ease:nT,easeVarying:rT,end:CT,[Symbol.iterator]:Cn[Symbol.iterator]};function DT(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var MT={time:null,delay:0,duration:250,ease:DT};function UT(a,n){for(var i;!(i=a.__transition)||!(i=i[n]);)if(!(a=a.parentNode))throw new Error(`transition ${n} not found`);return i}function zT(a){var n,i;a instanceof Ln?(n=a._id,a=a._name):(n=Yy(),(i=MT).time=th(),a=a==null?null:a+"");for(var s=this._groups,o=s.length,c=0;c<o;++c)for(var f=s[c],m=f.length,p,g=0;g<m;++g)(p=f[g])&&Do(p,a,n,g,f,i||UT(p,n));return new Ln(s,this._parents,a,n)}Es.prototype.interrupt=Dj;Es.prototype.transition=zT;function LT(a,n){var i,s=1;a==null&&(a=0),n==null&&(n=0);function o(){var c,f=i.length,m,p=0,g=0;for(c=0;c<f;++c)m=i[c],p+=m.x,g+=m.y;for(p=(p/f-a)*s,g=(g/f-n)*s,c=0;c<f;++c)m=i[c],m.x-=p,m.y-=g}return o.initialize=function(c){i=c},o.x=function(c){return arguments.length?(a=+c,o):a},o.y=function(c){return arguments.length?(n=+c,o):n},o.strength=function(c){return arguments.length?(s=+c,o):s},o}function $T(a){const n=+this._x.call(null,a),i=+this._y.call(null,a);return Ky(this.cover(n,i),n,i,a)}function Ky(a,n,i,s){if(isNaN(n)||isNaN(i))return a;var o,c=a._root,f={data:s},m=a._x0,p=a._y0,g=a._x1,y=a._y1,b,_,x,E,w,N,j,T;if(!c)return a._root=f,a;for(;c.length;)if((w=n>=(b=(m+g)/2))?m=b:g=b,(N=i>=(_=(p+y)/2))?p=_:y=_,o=c,!(c=c[j=N<<1|w]))return o[j]=f,a;if(x=+a._x.call(null,c.data),E=+a._y.call(null,c.data),n===x&&i===E)return f.next=c,o?o[j]=f:a._root=f,a;do o=o?o[j]=new Array(4):a._root=new Array(4),(w=n>=(b=(m+g)/2))?m=b:g=b,(N=i>=(_=(p+y)/2))?p=_:y=_;while((j=N<<1|w)===(T=(E>=_)<<1|x>=b));return o[T]=c,o[j]=f,a}function BT(a){var n,i,s=a.length,o,c,f=new Array(s),m=new Array(s),p=1/0,g=1/0,y=-1/0,b=-1/0;for(i=0;i<s;++i)isNaN(o=+this._x.call(null,n=a[i]))||isNaN(c=+this._y.call(null,n))||(f[i]=o,m[i]=c,o<p&&(p=o),o>y&&(y=o),c<g&&(g=c),c>b&&(b=c));if(p>y||g>b)return this;for(this.cover(p,g).cover(y,b),i=0;i<s;++i)Ky(this,f[i],m[i],a[i]);return this}function qT(a,n){if(isNaN(a=+a)||isNaN(n=+n))return this;var i=this._x0,s=this._y0,o=this._x1,c=this._y1;if(isNaN(i))o=(i=Math.floor(a))+1,c=(s=Math.floor(n))+1;else{for(var f=o-i||1,m=this._root,p,g;i>a||a>=o||s>n||n>=c;)switch(g=(n<s)<<1|a<i,p=new Array(4),p[g]=m,m=p,f*=2,g){case 0:o=i+f,c=s+f;break;case 1:i=o-f,c=s+f;break;case 2:o=i+f,s=c-f;break;case 3:i=o-f,s=c-f;break}this._root&&this._root.length&&(this._root=m)}return this._x0=i,this._y0=s,this._x1=o,this._y1=c,this}function HT(){var a=[];return this.visit(function(n){if(!n.length)do a.push(n.data);while(n=n.next)}),a}function GT(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function mt(a,n,i,s,o){this.node=a,this.x0=n,this.y0=i,this.x1=s,this.y1=o}function VT(a,n,i){var s,o=this._x0,c=this._y0,f,m,p,g,y=this._x1,b=this._y1,_=[],x=this._root,E,w;for(x&&_.push(new mt(x,o,c,y,b)),i==null?i=1/0:(o=a-i,c=n-i,y=a+i,b=n+i,i*=i);E=_.pop();)if(!(!(x=E.node)||(f=E.x0)>y||(m=E.y0)>b||(p=E.x1)<o||(g=E.y1)<c))if(x.length){var N=(f+p)/2,j=(m+g)/2;_.push(new mt(x[3],N,j,p,g),new mt(x[2],f,j,N,g),new mt(x[1],N,m,p,j),new mt(x[0],f,m,N,j)),(w=(n>=j)<<1|a>=N)&&(E=_[_.length-1],_[_.length-1]=_[_.length-1-w],_[_.length-1-w]=E)}else{var T=a-+this._x.call(null,x.data),M=n-+this._y.call(null,x.data),R=T*T+M*M;if(R<i){var Y=Math.sqrt(i=R);o=a-Y,c=n-Y,y=a+Y,b=n+Y,s=x.data}}return s}function YT(a){if(isNaN(y=+this._x.call(null,a))||isNaN(b=+this._y.call(null,a)))return this;var n,i=this._root,s,o,c,f=this._x0,m=this._y0,p=this._x1,g=this._y1,y,b,_,x,E,w,N,j;if(!i)return this;if(i.length)for(;;){if((E=y>=(_=(f+p)/2))?f=_:p=_,(w=b>=(x=(m+g)/2))?m=x:g=x,n=i,!(i=i[N=w<<1|E]))return this;if(!i.length)break;(n[N+1&3]||n[N+2&3]||n[N+3&3])&&(s=n,j=N)}for(;i.data!==a;)if(o=i,!(i=i.next))return this;return(c=i.next)&&delete i.next,o?(c?o.next=c:delete o.next,this):n?(c?n[N]=c:delete n[N],(i=n[0]||n[1]||n[2]||n[3])&&i===(n[3]||n[2]||n[1]||n[0])&&!i.length&&(s?s[j]=i:this._root=i),this):(this._root=c,this)}function KT(a){for(var n=0,i=a.length;n<i;++n)this.remove(a[n]);return this}function XT(){return this._root}function IT(){var a=0;return this.visit(function(n){if(!n.length)do++a;while(n=n.next)}),a}function PT(a){var n=[],i,s=this._root,o,c,f,m,p;for(s&&n.push(new mt(s,this._x0,this._y0,this._x1,this._y1));i=n.pop();)if(!a(s=i.node,c=i.x0,f=i.y0,m=i.x1,p=i.y1)&&s.length){var g=(c+m)/2,y=(f+p)/2;(o=s[3])&&n.push(new mt(o,g,y,m,p)),(o=s[2])&&n.push(new mt(o,c,y,g,p)),(o=s[1])&&n.push(new mt(o,g,f,m,y)),(o=s[0])&&n.push(new mt(o,c,f,g,y))}return this}function QT(a){var n=[],i=[],s;for(this._root&&n.push(new mt(this._root,this._x0,this._y0,this._x1,this._y1));s=n.pop();){var o=s.node;if(o.length){var c,f=s.x0,m=s.y0,p=s.x1,g=s.y1,y=(f+p)/2,b=(m+g)/2;(c=o[0])&&n.push(new mt(c,f,m,y,b)),(c=o[1])&&n.push(new mt(c,y,m,p,b)),(c=o[2])&&n.push(new mt(c,f,b,y,g)),(c=o[3])&&n.push(new mt(c,y,b,p,g))}i.push(s)}for(;s=i.pop();)a(s.node,s.x0,s.y0,s.x1,s.y1);return this}function JT(a){return a[0]}function ZT(a){return arguments.length?(this._x=a,this):this._x}function WT(a){return a[1]}function FT(a){return arguments.length?(this._y=a,this):this._y}function ih(a,n,i){var s=new sh(n??JT,i??WT,NaN,NaN,NaN,NaN);return a==null?s:s.addAll(a)}function sh(a,n,i,s,o,c){this._x=a,this._y=n,this._x0=i,this._y0=s,this._x1=o,this._y1=c,this._root=void 0}function wp(a){for(var n={data:a.data},i=n;a=a.next;)i=i.next={data:a.data};return n}var gt=ih.prototype=sh.prototype;gt.copy=function(){var a=new sh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,i,s;if(!n)return a;if(!n.length)return a._root=wp(n),a;for(i=[{source:n,target:a._root=new Array(4)}];n=i.pop();)for(var o=0;o<4;++o)(s=n.source[o])&&(s.length?i.push({source:s,target:n.target[o]=new Array(4)}):n.target[o]=wp(s));return a};gt.add=$T;gt.addAll=BT;gt.cover=qT;gt.data=HT;gt.extent=GT;gt.find=VT;gt.remove=YT;gt.removeAll=KT;gt.root=XT;gt.size=IT;gt.visit=PT;gt.visitAfter=QT;gt.x=ZT;gt.y=FT;function Ia(a){return function(){return a}}function ma(a){return(a()-.5)*1e-6}function eA(a){return a.x+a.vx}function tA(a){return a.y+a.vy}function nA(a){var n,i,s,o=1,c=1;typeof a!="function"&&(a=Ia(a==null?1:+a));function f(){for(var g,y=n.length,b,_,x,E,w,N,j=0;j<c;++j)for(b=ih(n,eA,tA).visitAfter(m),g=0;g<y;++g)_=n[g],w=i[_.index],N=w*w,x=_.x+_.vx,E=_.y+_.vy,b.visit(T);function T(M,R,Y,P,Q){var te=M.data,ie=M.r,de=w+ie;if(te){if(te.index>_.index){var be=x-te.x-te.vx,ue=E-te.y-te.vy,Oe=be*be+ue*ue;Oe<de*de&&(be===0&&(be=ma(s),Oe+=be*be),ue===0&&(ue=ma(s),Oe+=ue*ue),Oe=(de-(Oe=Math.sqrt(Oe)))/Oe*o,_.vx+=(be*=Oe)*(de=(ie*=ie)/(N+ie)),_.vy+=(ue*=Oe)*de,te.vx-=be*(de=1-de),te.vy-=ue*de)}return}return R>x+de||P<x-de||Y>E+de||Q<E-de}}function m(g){if(g.data)return g.r=i[g.data.index];for(var y=g.r=0;y<4;++y)g[y]&&g[y].r>g.r&&(g.r=g[y].r)}function p(){if(n){var g,y=n.length,b;for(i=new Array(y),g=0;g<y;++g)b=n[g],i[b.index]=+a(b,g,n)}}return f.initialize=function(g,y){n=g,s=y,p()},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(o=+g,f):o},f.radius=function(g){return arguments.length?(a=typeof g=="function"?g:Ia(+g),p(),f):a},f}function aA(a){return a.index}function Sp(a,n){var i=a.get(n);if(!i)throw new Error("node not found: "+n);return i}function rA(a){var n=aA,i=b,s,o=Ia(30),c,f,m,p,g,y=1;a==null&&(a=[]);function b(N){return 1/Math.min(m[N.source.index],m[N.target.index])}function _(N){for(var j=0,T=a.length;j<y;++j)for(var M=0,R,Y,P,Q,te,ie,de;M<T;++M)R=a[M],Y=R.source,P=R.target,Q=P.x+P.vx-Y.x-Y.vx||ma(g),te=P.y+P.vy-Y.y-Y.vy||ma(g),ie=Math.sqrt(Q*Q+te*te),ie=(ie-c[M])/ie*N*s[M],Q*=ie,te*=ie,P.vx-=Q*(de=p[M]),P.vy-=te*de,Y.vx+=Q*(de=1-de),Y.vy+=te*de}function x(){if(f){var N,j=f.length,T=a.length,M=new Map(f.map((Y,P)=>[n(Y,P,f),Y])),R;for(N=0,m=new Array(j);N<T;++N)R=a[N],R.index=N,typeof R.source!="object"&&(R.source=Sp(M,R.source)),typeof R.target!="object"&&(R.target=Sp(M,R.target)),m[R.source.index]=(m[R.source.index]||0)+1,m[R.target.index]=(m[R.target.index]||0)+1;for(N=0,p=new Array(T);N<T;++N)R=a[N],p[N]=m[R.source.index]/(m[R.source.index]+m[R.target.index]);s=new Array(T),E(),c=new Array(T),w()}}function E(){if(f)for(var N=0,j=a.length;N<j;++N)s[N]=+i(a[N],N,a)}function w(){if(f)for(var N=0,j=a.length;N<j;++N)c[N]=+o(a[N],N,a)}return _.initialize=function(N,j){f=N,g=j,x()},_.links=function(N){return arguments.length?(a=N,x(),_):a},_.id=function(N){return arguments.length?(n=N,_):n},_.iterations=function(N){return arguments.length?(y=+N,_):y},_.strength=function(N){return arguments.length?(i=typeof N=="function"?N:Ia(+N),E(),_):i},_.distance=function(N){return arguments.length?(o=typeof N=="function"?N:Ia(+N),w(),_):o},_}const iA=1664525,sA=1013904223,Np=4294967296;function lA(){let a=1;return()=>(a=(iA*a+sA)%Np)/Np}function oA(a){return a.x}function cA(a){return a.y}var uA=10,fA=Math.PI*(3-Math.sqrt(5));function hA(a){var n,i=1,s=.001,o=1-Math.pow(s,1/300),c=0,f=.6,m=new Map,p=nh(b),g=Ns("tick","end"),y=lA();a==null&&(a=[]);function b(){_(),g.call("tick",n),i<s&&(p.stop(),g.call("end",n))}function _(w){var N,j=a.length,T;w===void 0&&(w=1);for(var M=0;M<w;++M)for(i+=(c-i)*o,m.forEach(function(R){R(i)}),N=0;N<j;++N)T=a[N],T.fx==null?T.x+=T.vx*=f:(T.x=T.fx,T.vx=0),T.fy==null?T.y+=T.vy*=f:(T.y=T.fy,T.vy=0);return n}function x(){for(var w=0,N=a.length,j;w<N;++w){if(j=a[w],j.index=w,j.fx!=null&&(j.x=j.fx),j.fy!=null&&(j.y=j.fy),isNaN(j.x)||isNaN(j.y)){var T=uA*Math.sqrt(.5+w),M=w*fA;j.x=T*Math.cos(M),j.y=T*Math.sin(M)}(isNaN(j.vx)||isNaN(j.vy))&&(j.vx=j.vy=0)}}function E(w){return w.initialize&&w.initialize(a,y),w}return x(),n={tick:_,restart:function(){return p.restart(b),n},stop:function(){return p.stop(),n},nodes:function(w){return arguments.length?(a=w,x(),m.forEach(E),n):a},alpha:function(w){return arguments.length?(i=+w,n):i},alphaMin:function(w){return arguments.length?(s=+w,n):s},alphaDecay:function(w){return arguments.length?(o=+w,n):+o},alphaTarget:function(w){return arguments.length?(c=+w,n):c},velocityDecay:function(w){return arguments.length?(f=1-w,n):1-f},randomSource:function(w){return arguments.length?(y=w,m.forEach(E),n):y},force:function(w,N){return arguments.length>1?(N==null?m.delete(w):m.set(w,E(N)),n):m.get(w)},find:function(w,N,j){var T=0,M=a.length,R,Y,P,Q,te;for(j==null?j=1/0:j*=j,T=0;T<M;++T)Q=a[T],R=w-Q.x,Y=N-Q.y,P=R*R+Y*Y,P<j&&(te=Q,j=P);return te},on:function(w,N){return arguments.length>1?(g.on(w,N),n):g.on(w)}}}function dA(){var a,n,i,s,o=Ia(-30),c,f=1,m=1/0,p=.81;function g(x){var E,w=a.length,N=ih(a,oA,cA).visitAfter(b);for(s=x,E=0;E<w;++E)n=a[E],N.visit(_)}function y(){if(a){var x,E=a.length,w;for(c=new Array(E),x=0;x<E;++x)w=a[x],c[w.index]=+o(w,x,a)}}function b(x){var E=0,w,N,j=0,T,M,R;if(x.length){for(T=M=R=0;R<4;++R)(w=x[R])&&(N=Math.abs(w.value))&&(E+=w.value,j+=N,T+=N*w.x,M+=N*w.y);x.x=T/j,x.y=M/j}else{w=x,w.x=w.data.x,w.y=w.data.y;do E+=c[w.data.index];while(w=w.next)}x.value=E}function _(x,E,w,N){if(!x.value)return!0;var j=x.x-n.x,T=x.y-n.y,M=N-E,R=j*j+T*T;if(M*M/p<R)return R<m&&(j===0&&(j=ma(i),R+=j*j),T===0&&(T=ma(i),R+=T*T),R<f&&(R=Math.sqrt(f*R)),n.vx+=j*x.value*s/R,n.vy+=T*x.value*s/R),!0;if(x.length||R>=m)return;(x.data!==n||x.next)&&(j===0&&(j=ma(i),R+=j*j),T===0&&(T=ma(i),R+=T*T),R<f&&(R=Math.sqrt(f*R)));do x.data!==n&&(M=c[x.data.index]*s/R,n.vx+=j*M,n.vy+=T*M);while(x=x.next)}return g.initialize=function(x,E){a=x,i=E,y()},g.strength=function(x){return arguments.length?(o=typeof x=="function"?x:Ia(+x),y(),g):o},g.distanceMin=function(x){return arguments.length?(f=x*x,g):Math.sqrt(f)},g.distanceMax=function(x){return arguments.length?(m=x*x,g):Math.sqrt(m)},g.theta=function(x){return arguments.length?(p=x*x,g):Math.sqrt(p)},g}const ao=a=>()=>a;function mA(a,{sourceEvent:n,target:i,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function Mn(a,n,i){this.k=a,this.x=n,this.y=i}Mn.prototype={constructor:Mn,scale:function(a){return a===1?this:new Mn(this.k*a,this.x,this.y)},translate:function(a,n){return a===0&n===0?this:new Mn(this.k,this.x+this.k*a,this.y+this.k*n)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xy=new Mn(1,0,0);Mn.prototype;function vf(a){a.stopImmediatePropagation()}function Zi(a){a.preventDefault(),a.stopImmediatePropagation()}function gA(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function pA(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function Ep(){return this.__zoom||Xy}function yA(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function vA(){return navigator.maxTouchPoints||"ontouchstart"in this}function xA(a,n,i){var s=a.invertX(n[0][0])-i[0][0],o=a.invertX(n[1][0])-i[1][0],c=a.invertY(n[0][1])-i[0][1],f=a.invertY(n[1][1])-i[1][1];return a.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),f>c?(c+f)/2:Math.min(0,c)||Math.max(0,f))}function bA(){var a=gA,n=pA,i=xA,s=yA,o=vA,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],m=250,p=Ej,g=Ns("start","zoom","end"),y,b,_,x=500,E=150,w=0,N=10;function j(q){q.property("__zoom",Ep).on("wheel.zoom",te,{passive:!1}).on("mousedown.zoom",ie).on("dblclick.zoom",de).filter(o).on("touchstart.zoom",be).on("touchmove.zoom",ue).on("touchend.zoom touchcancel.zoom",Oe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(q,ne,k,V){var U=q.selection?q.selection():q;U.property("__zoom",Ep),q!==U?Y(q,ne,k,V):U.interrupt().each(function(){P(this,arguments).event(V).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},j.scaleBy=function(q,ne,k,V){j.scaleTo(q,function(){var U=this.__zoom.k,J=typeof ne=="function"?ne.apply(this,arguments):ne;return U*J},k,V)},j.scaleTo=function(q,ne,k,V){j.transform(q,function(){var U=n.apply(this,arguments),J=this.__zoom,ee=k==null?R(U):typeof k=="function"?k.apply(this,arguments):k,O=J.invert(ee),G=typeof ne=="function"?ne.apply(this,arguments):ne;return i(M(T(J,G),ee,O),U,f)},k,V)},j.translateBy=function(q,ne,k,V){j.transform(q,function(){return i(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),f)},null,V)},j.translateTo=function(q,ne,k,V,U){j.transform(q,function(){var J=n.apply(this,arguments),ee=this.__zoom,O=V==null?R(J):typeof V=="function"?V.apply(this,arguments):V;return i(Xy.translate(O[0],O[1]).scale(ee.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof k=="function"?-k.apply(this,arguments):-k),J,f)},V,U)};function T(q,ne){return ne=Math.max(c[0],Math.min(c[1],ne)),ne===q.k?q:new Mn(ne,q.x,q.y)}function M(q,ne,k){var V=ne[0]-k[0]*q.k,U=ne[1]-k[1]*q.k;return V===q.x&&U===q.y?q:new Mn(q.k,V,U)}function R(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function Y(q,ne,k,V){q.on("start.zoom",function(){P(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(V).end()}).tween("zoom",function(){var U=this,J=arguments,ee=P(U,J).event(V),O=n.apply(U,J),G=k==null?R(O):typeof k=="function"?k.apply(U,J):k,W=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),F=U.__zoom,oe=typeof ne=="function"?ne.apply(U,J):ne,me=p(F.invert(G).concat(W/F.k),oe.invert(G).concat(W/oe.k));return function(ye){if(ye===1)ye=oe;else{var $e=me(ye),Be=W/$e[2];ye=new Mn(Be,G[0]-$e[0]*Be,G[1]-$e[1]*Be)}ee.zoom(null,ye)}})}function P(q,ne,k){return!k&&q.__zooming||new Q(q,ne)}function Q(q,ne){this.that=q,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=n.apply(q,ne),this.taps=0}Q.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,ne){return this.mouse&&q!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var ne=on(this.that).datum();g.call(q,this.that,new mA(q,{sourceEvent:this.sourceEvent,target:j,transform:this.that.__zoom,dispatch:g}),ne)}};function te(q,...ne){if(!a.apply(this,arguments))return;var k=P(this,ne).event(q),V=this.__zoom,U=Math.max(c[0],Math.min(c[1],V.k*Math.pow(2,s.apply(this,arguments)))),J=Dn(q);if(k.wheel)(k.mouse[0][0]!==J[0]||k.mouse[0][1]!==J[1])&&(k.mouse[1]=V.invert(k.mouse[0]=J)),clearTimeout(k.wheel);else{if(V.k===U)return;k.mouse=[J,V.invert(J)],uo(this),k.start()}Zi(q),k.wheel=setTimeout(ee,E),k.zoom("mouse",i(M(T(V,U),k.mouse[0],k.mouse[1]),k.extent,f));function ee(){k.wheel=null,k.end()}}function ie(q,...ne){if(_||!a.apply(this,arguments))return;var k=q.currentTarget,V=P(this,ne,!0).event(q),U=on(q.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",W,!0),J=Dn(q,k),ee=q.clientX,O=q.clientY;Cy(q.view),vf(q),V.mouse=[J,this.__zoom.invert(J)],uo(this),V.start();function G(F){if(Zi(F),!V.moved){var oe=F.clientX-ee,me=F.clientY-O;V.moved=oe*oe+me*me>w}V.event(F).zoom("mouse",i(M(V.that.__zoom,V.mouse[0]=Dn(F,k),V.mouse[1]),V.extent,f))}function W(F){U.on("mousemove.zoom mouseup.zoom",null),ky(F.view,V.moved),Zi(F),V.event(F).end()}}function de(q,...ne){if(a.apply(this,arguments)){var k=this.__zoom,V=Dn(q.changedTouches?q.changedTouches[0]:q,this),U=k.invert(V),J=k.k*(q.shiftKey?.5:2),ee=i(M(T(k,J),V,U),n.apply(this,ne),f);Zi(q),m>0?on(this).transition().duration(m).call(Y,ee,V,q):on(this).call(j.transform,ee,V,q)}}function be(q,...ne){if(a.apply(this,arguments)){var k=q.touches,V=k.length,U=P(this,ne,q.changedTouches.length===V).event(q),J,ee,O,G;for(vf(q),ee=0;ee<V;++ee)O=k[ee],G=Dn(O,this),G=[G,this.__zoom.invert(G),O.identifier],U.touch0?!U.touch1&&U.touch0[2]!==G[2]&&(U.touch1=G,U.taps=0):(U.touch0=G,J=!0,U.taps=1+!!y);y&&(y=clearTimeout(y)),J&&(U.taps<2&&(b=G[0],y=setTimeout(function(){y=null},x)),uo(this),U.start())}}function ue(q,...ne){if(this.__zooming){var k=P(this,ne).event(q),V=q.changedTouches,U=V.length,J,ee,O,G;for(Zi(q),J=0;J<U;++J)ee=V[J],O=Dn(ee,this),k.touch0&&k.touch0[2]===ee.identifier?k.touch0[0]=O:k.touch1&&k.touch1[2]===ee.identifier&&(k.touch1[0]=O);if(ee=k.that.__zoom,k.touch1){var W=k.touch0[0],F=k.touch0[1],oe=k.touch1[0],me=k.touch1[1],ye=(ye=oe[0]-W[0])*ye+(ye=oe[1]-W[1])*ye,$e=($e=me[0]-F[0])*$e+($e=me[1]-F[1])*$e;ee=T(ee,Math.sqrt(ye/$e)),O=[(W[0]+oe[0])/2,(W[1]+oe[1])/2],G=[(F[0]+me[0])/2,(F[1]+me[1])/2]}else if(k.touch0)O=k.touch0[0],G=k.touch0[1];else return;k.zoom("touch",i(M(ee,O,G),k.extent,f))}}function Oe(q,...ne){if(this.__zooming){var k=P(this,ne).event(q),V=q.changedTouches,U=V.length,J,ee;for(vf(q),_&&clearTimeout(_),_=setTimeout(function(){_=null},x),J=0;J<U;++J)ee=V[J],k.touch0&&k.touch0[2]===ee.identifier?delete k.touch0:k.touch1&&k.touch1[2]===ee.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(ee=Dn(ee,this),Math.hypot(b[0]-ee[0],b[1]-ee[1])<N)){var O=on(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return j.wheelDelta=function(q){return arguments.length?(s=typeof q=="function"?q:ao(+q),j):s},j.filter=function(q){return arguments.length?(a=typeof q=="function"?q:ao(!!q),j):a},j.touchable=function(q){return arguments.length?(o=typeof q=="function"?q:ao(!!q),j):o},j.extent=function(q){return arguments.length?(n=typeof q=="function"?q:ao([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),j):n},j.scaleExtent=function(q){return arguments.length?(c[0]=+q[0],c[1]=+q[1],j):[c[0],c[1]]},j.translateExtent=function(q){return arguments.length?(f[0][0]=+q[0][0],f[1][0]=+q[1][0],f[0][1]=+q[0][1],f[1][1]=+q[1][1],j):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},j.constrain=function(q){return arguments.length?(i=q,j):i},j.duration=function(q){return arguments.length?(m=+q,j):m},j.interpolate=function(q){return arguments.length?(p=q,j):p},j.on=function(){var q=g.on.apply(g,arguments);return q===g?j:q},j.clickDistance=function(q){return arguments.length?(w=(q=+q)*q,j):Math.sqrt(w)},j.tapDistance=function(q){return arguments.length?(N=+q,j):N},j}const ro={resource:"#10b981",event:"#f59e0b",agent:"#3b82f6"},_A={idea:"#8b5cf6",proposal:"#ec4899",commitment:"#ef4444",question:"#06b6d4",pattern:"#14b8a6",reflection:"#6366f1"};function wA(){const[a,n]=A.useState(null),[i,s]=A.useState(!0),[o,c]=A.useState("rea"),f=A.useRef(null),[m,p]=A.useState(null);return A.useEffect(()=>{async function g(){const{data:y}=await Z.from("artifacts").select("id, title, type, rea_role").order("created_at",{ascending:!1}).limit(100),{data:b}=await Z.from("artifact_relationships").select("from_artifact_id, to_artifact_id, relationship_type").limit(200);if(!y){s(!1);return}const _=y.map(w=>({id:w.id,title:w.title,type:w.type,rea_role:w.rea_role})),x=new Set(_.map(w=>w.id)),E=(b||[]).filter(w=>x.has(w.from_artifact_id)&&x.has(w.to_artifact_id)).map(w=>({source:w.from_artifact_id,target:w.to_artifact_id,type:w.relationship_type}));n({nodes:_,links:E}),s(!1)}g()},[]),A.useEffect(()=>{if(!a||!f.current)return;const g=on(f.current),y=f.current.clientWidth,b=f.current.clientHeight;g.selectAll("*").remove();const _=g.append("g");g.append("defs").selectAll("marker").data(["end"]).enter().append("marker").attr("id","arrowhead").attr("viewBox","0 -5 10 10").attr("refX",20).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#666");const x=hA(a.nodes).force("link",rA(a.links).id(j=>j.id).distance(80)).force("charge",dA().strength(-300)).force("center",LT(y/2,b/2)).force("collision",nA().radius(20)),E=_.append("g").selectAll("line").data(a.links).enter().append("line").attr("stroke","#666").attr("stroke-opacity",.3).attr("stroke-width",1).attr("marker-end","url(#arrowhead)"),w=_.append("g").selectAll("circle").data(a.nodes).enter().append("circle").attr("r",8).attr("fill",j=>o==="rea"?ro[j.rea_role]||"#999":_A[j.type]||"#999").attr("stroke","#000").attr("stroke-width",1.5).style("cursor","pointer").on("click",(j,T)=>{p(T)}).call(FE().on("start",(j,T)=>{j.active||x.alphaTarget(.3).restart(),T.fx=T.x,T.fy=T.y}).on("drag",(j,T)=>{T.fx=j.x,T.fy=j.y}).on("end",(j,T)=>{j.active||x.alphaTarget(0),T.fx=null,T.fy=null}));w.append("title").text(j=>j.title),x.on("tick",()=>{E.attr("x1",j=>j.source.x).attr("y1",j=>j.source.y).attr("x2",j=>j.target.x).attr("y2",j=>j.target.y),w.attr("cx",j=>j.x).attr("cy",j=>j.y)});const N=bA().scaleExtent([.1,4]).on("zoom",j=>{_.attr("transform",j.transform)});g.call(N)},[a,o]),i?h.jsx("div",{className:"h-[600px] flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(W0,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Loading knowledge graph..."})]})}):!a||a.nodes.length===0?h.jsx("div",{className:"h-[600px] flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(W0,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-400",children:"No artifacts in the graph yet"})]})}):h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),h.jsxs("p",{className:"text-sm text-gray-400",children:[a.nodes.length," artifacts, ",a.links.length," relationships"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>c("rea"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${o==="rea"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:"Color by REA"}),h.jsx("button",{onClick:()=>c("type"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${o==="type"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:"Color by Type"})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-1 bg-[#0a0a0a] border border-[#262626] rounded-lg overflow-hidden",children:h.jsx("svg",{ref:f,className:"w-full h-[600px]"})}),m&&h.jsxs("div",{className:"w-64 bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[h.jsx("h3",{className:"font-bold mb-2",children:m.title}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Type:"}),h.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#262626] text-xs",children:m.type})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"REA Role:"}),h.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#262626] text-xs",children:m.rea_role})]}),h.jsx("button",{onClick:()=>window.location.href=`/app/artifact/${m.id}`,className:"w-full mt-4 px-3 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm",children:"View details"})]})]})]}),h.jsx("div",{className:"flex gap-4 text-xs",children:o==="rea"&&h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ro.resource}}),h.jsx("span",{className:"text-gray-400",children:"Resource"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ro.event}}),h.jsx("span",{className:"text-gray-400",children:"Event"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ro.agent}}),h.jsx("span",{className:"text-gray-400",children:"Agent"})]})]})})]})}const SA={resource:"text-green-400",event:"text-amber-400",agent:"text-blue-400"};function NA(){const[a,n]=A.useState([]),[i,s]=A.useState([]),[o,c]=A.useState(!0),[f,m]=A.useState("hotspots");if(A.useEffect(()=>{async function g(){const[b,_]=await Promise.all([Z.from("coordination_hotspots").select("*").limit(20),Z.from("coordination_matches").select("*").limit(50)]);n(b.data||[]),s(_.data||[]),c(!1)}g();const y=Z.channel("coordination").on("postgres_changes",{event:"*",schema:"public",table:"coordination_interests"},()=>g()).subscribe();return()=>{Z.removeChannel(y)}},[]),o)return h.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[h.jsx(Ya,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Loading coordination signals..."})]});const p=a.length===0&&i.length===0;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coordination"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"See what the community wants to coordinate around. Click the handshake icon on any artifact to signal your interest."})]}),p?h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-8 text-center",children:[h.jsx(Ya,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),h.jsx("h2",{className:"text-lg font-bold mb-2",children:"No coordination signals yet"}),h.jsx("p",{className:"text-gray-400 text-sm max-w-md mx-auto mb-4",children:"Browse the Explore page and click the handshake icon on artifacts you want to coordinate around. When multiple participants signal interest in the same artifact, matches appear here."}),h.jsx(pe,{to:"/",className:"inline-block px-6 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm",children:"Explore artifacts"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 mb-6",children:[h.jsxs("button",{onClick:()=>m("hotspots"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${f==="hotspots"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:[h.jsx(aS,{className:"w-4 h-4"}),"Hotspots (",a.length,")"]}),h.jsxs("button",{onClick:()=>m("matches"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${f==="matches"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:[h.jsx(Jf,{className:"w-4 h-4"}),"Matches (",i.length,")"]})]}),f==="hotspots"&&h.jsx("div",{className:"space-y-3",children:a.map(g=>h.jsx(pe,{to:`/artifact/${g.artifact_id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#c3fd50]/30 transition-colors",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`text-xs ${SA[g.rea_role]||"text-gray-400"}`,children:g.rea_role}),h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:g.type})]}),h.jsx("h3",{className:"font-medium text-sm mb-1",children:g.title}),g.summary&&h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:g.summary}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:g.interested_participants.map((y,b)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#c3fd50]/10 text-[#c3fd50]",children:y},b))})]}),h.jsxs("div",{className:"flex items-center gap-1 text-[#c3fd50]",children:[h.jsx(Ya,{className:"w-4 h-4"}),h.jsx("span",{className:"text-lg font-bold",children:g.interest_count})]})]})},g.artifact_id))}),f==="matches"&&h.jsx("div",{className:"space-y-3",children:i.map((g,y)=>h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"text-sm font-medium text-[#c3fd50]",children:g.participant_a}),h.jsx(Ya,{className:"w-4 h-4 text-gray-500"}),h.jsx("span",{className:"text-sm font-medium text-[#c3fd50]",children:g.participant_b})]}),h.jsxs(pe,{to:`/artifact/${g.artifact_id}`,className:"text-xs text-gray-400 hover:text-white transition-colors",children:["Shared interest: ",g.shared_interest]})]},y))})]})]})}const EA={resource:"bg-green-500",event:"bg-amber-500",agent:"bg-blue-500"};function jA(){const[a,n]=A.useState({totalArtifacts:0,totalParticipants:0,totalRelationships:0,recentContributions:0}),[i,s]=A.useState([]),[o,c]=A.useState([]),f=async()=>{const{count:y}=await Z.from("artifacts").select("*",{count:"exact",head:!0}),{count:b}=await Z.from("artifacts").select("*",{count:"exact",head:!0}).eq("rea_role","agent").eq("agent_type","human"),{count:_}=await Z.from("artifact_relationships").select("*",{count:"exact",head:!0}),x=new Date(Date.now()-3600*1e3).toISOString(),{count:E}=await Z.from("contributions").select("*",{count:"exact",head:!0}).gte("created_at",x);n({totalArtifacts:y||0,totalParticipants:b||0,totalRelationships:_||0,recentContributions:E||0})},m=async()=>{const{data:y}=await Z.from("artifacts").select("id, title, created_at, rea_role").order("created_at",{ascending:!1}).limit(8);y&&s(y)},p=async()=>{const{data:y}=await Z.from("artifact_tags").select("tag").like("tag","hlamt:%");if(y){const b={};y.forEach(E=>{const w=E.tag.split(":")[1];b[w]=(b[w]||0)+1});const _={E:"bg-emerald-500",H:"bg-violet-500",L:"bg-pink-500",A:"bg-cyan-500",M:"bg-amber-500",T:"bg-orange-500"},x=Object.entries(b).map(([E,w])=>({dimension:E,count:w,color:_[E]||"bg-gray-500"}));x.sort((E,w)=>w.count-E.count),c(x)}};A.useEffect(()=>{f(),m(),p();const y=setInterval(()=>{f(),m(),p()},1e4),b=Z.channel("dashboard-updates").on("postgres_changes",{event:"*",schema:"public",table:"artifacts"},f).on("postgres_changes",{event:"*",schema:"public",table:"contributions"},f).on("postgres_changes",{event:"*",schema:"public",table:"relationships"},f).subscribe();return()=>{clearInterval(y),Z.removeChannel(b)}},[]);const g=y=>{const b=Math.floor((Date.now()-new Date(y).getTime())/1e3);if(b<60)return`${b}s`;const _=Math.floor(b/60);return _<60?`${_}m`:`${Math.floor(_/60)}h`};return h.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-gray-100 p-8",children:[h.jsxs("div",{className:"mb-8 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[h.jsx("div",{className:"text-[#c3fd50] font-bold text-5xl tracking-tight",children:"EthBoulder"}),h.jsx("div",{className:"text-gray-500 text-5xl",children:".commons.id"})]}),h.jsx("div",{className:"text-gray-500 text-lg",children:"Knowledge Graph  Live"})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(oy,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.totalArtifacts}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Artifacts"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(Jf,{className:"w-8 h-8 text-violet-500"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.totalParticipants}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Participants"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(fy,{className:"w-8 h-8 text-cyan-500"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.totalRelationships}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Relationships"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(DS,{className:"w-8 h-8 text-[#c3fd50]"})}),h.jsx("div",{className:"text-4xl font-bold mb-1",children:a.recentContributions}),h.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:"Last Hour"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-300",children:"Recent Artifacts"}),h.jsx("div",{className:"space-y-3",children:i.map(y=>h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#0f0f0f] rounded border border-gray-800",children:[h.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${EA[y.rea_role]}`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium text-gray-200 truncate",children:y.title}),h.jsxs("div",{className:"text-sm text-gray-500",children:[g(y.created_at)," ago"]})]})]},y.id))})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-300",children:"Dimension Distribution"}),h.jsx("div",{className:"space-y-4",children:o.map(y=>{const b=o[0]?.count||1,_=y.count/b*100;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-3 h-3 rounded ${y.color}`}),h.jsxs("span",{className:"text-gray-300 font-medium",children:[y.dimension,"/"]})]}),h.jsx("span",{className:"text-2xl font-bold",children:y.count})]}),h.jsx("div",{className:"w-full bg-[#0f0f0f] rounded-full h-2 overflow-hidden",children:h.jsx("div",{className:`h-full ${y.color} transition-all duration-500`,style:{width:`${_}%`}})})]},y.dimension)})})]})]}),h.jsxs("div",{className:"fixed bottom-6 right-6 flex items-center gap-2 bg-[#1a1a1a] border border-gray-800 rounded-full px-4 py-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-pulse"}),h.jsx("span",{className:"text-sm text-gray-400",children:"LIVE"})]})]})}function TA(){const[a,n]=W_(),[i,s]=A.useState(a.get("q")||""),[o,c]=A.useState([]),[f,m]=A.useState(!1),[p,g]=A.useState(!1);A.useEffect(()=>{const x=a.get("q");x&&x!==i&&(s(x),y(x))},[a]);const y=async x=>{if(!x.trim()){c([]),g(!1);return}m(!0),g(!0);try{const{data:E,error:w}=await Z.rpc("search_content",{query_text:x});w?(console.error("Search error:",w),c([])):c(E||[])}catch(E){console.error("Search exception:",E),c([])}finally{m(!1)}},b=x=>{x.preventDefault(),i.trim()&&(n({q:i.trim()}),y(i.trim()))},_=x=>{const E=Math.floor((Date.now()-new Date(x).getTime())/1e3);if(E<60)return`${E}s ago`;const w=Math.floor(E/60);if(w<60)return`${w}m ago`;const N=Math.floor(w/60);return N<24?`${N}h ago`:`${Math.floor(N/24)}d ago`};return h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Search"}),h.jsxs("form",{onSubmit:b,className:"relative",children:[h.jsx("input",{type:"text",value:i,onChange:x=>s(x.target.value),placeholder:"Search artifacts and contributions...",className:"w-full px-4 py-3 pl-12 bg-[#1a1a1a] border border-[#262626] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50]",autoFocus:!0}),h.jsx(Fi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-1.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm font-medium",children:"Search"})]})]}),f&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fi,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-gray-400",children:"Searching..."})]}),!f&&p&&o.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fi,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),h.jsxs("p",{className:"text-gray-400 mb-2",children:['No results found for "',i,'"']}),h.jsx("p",{className:"text-sm text-gray-500",children:"Try different keywords or check your spelling"})]}),!f&&o.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:[o.length," ",o.length===1?"result":"results",' for "',i,'"']}),h.jsx("div",{className:"space-y-4",children:o.map(x=>h.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#333] transition-colors",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"mt-1",children:x.result_type==="artifact"?h.jsx(tS,{className:"w-5 h-5 text-[#c3fd50]"}):h.jsx(hy,{className:"w-5 h-5 text-cyan-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[h.jsx(pe,{to:x.result_type==="artifact"?`/artifact/${x.id}`:"/me",className:"font-medium text-white hover:text-[#c3fd50] transition-colors",children:x.title}),h.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:_(x.created_at)})]}),h.jsx("div",{className:"text-sm text-gray-400 line-clamp-2",dangerouslySetInnerHTML:{__html:x.snippet}}),h.jsx("div",{className:"mt-2 flex items-center gap-2",children:h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:x.result_type})})]})]})},`${x.result_type}-${x.id}`))})]}),!p&&!f&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fi,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-400 mb-2",children:"Search the knowledge graph"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Enter keywords to find artifacts and contributions"})]})]})}const AA=[{key:"e",letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",tag:"hlamt:E"},{key:"H",letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",tag:"hlamt:H"},{key:"L",letter:"L/",name:"Language",desc:"How We Talk",color:"#c3fd50",tag:"hlamt:L"},{key:"A",letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",tag:"hlamt:A"},{key:"M",letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",tag:"hlamt:M"},{key:"T",letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",tag:"hlamt:T"}];function RA(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function OA(){const{id:a}=No(),[n,i]=A.useState(null),[s,o]=A.useState([]),[c,f]=A.useState({}),[m,p]=A.useState(!0),[g,y]=A.useState(null),[b,_]=A.useState(!1);A.useEffect(()=>{a&&x(a)},[a]);async function x(w){p(!0);const{data:N}=await Z.from("contributions").select("*").eq("id",w).single();if(!N){p(!1);return}if(i(N),N.participant_id){const{data:T}=await Z.from("participants").select("name").eq("id",N.participant_id).single();T&&y(T.name)}const j=[];if(N.extraction?.artifacts&&N.processed_at){const T=N.extraction.artifacts.map(M=>M.title).filter(Boolean);if(T.length>0){const{data:M}=await Z.from("artifacts").select("*").in("title",T).order("created_at",{ascending:!1});M&&j.push(...M)}}if(o(j),j.length>0){const T=j.map(P=>P.id),{data:M}=await Z.from("artifact_tags").select("tag_id, tags(name)").in("artifact_id",T),R={};if(M)for(const P of M){const Q=P.tags?.name;Q?.startsWith("hlamt:")&&(R[Q]=(R[Q]||0)+1)}const Y=j.filter(P=>P.rea_role==="agent").length;Y>0&&(R["hlamt:H"]=(R["hlamt:H"]||0)+Y),f(R)}p(!1)}if(m)return h.jsx("div",{className:"text-center py-12",children:h.jsx(Z0,{className:"w-8 h-8 text-gray-500 mx-auto animate-spin"})});if(!n)return h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-400",children:"Contribution not found"}),h.jsx(pe,{to:"/",className:"text-[#c3fd50] hover:text-white text-sm mt-2 inline-block",children:"Back to Explore"})]});const E=s.length>0;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-6",children:[h.jsx(pe,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Live Activity"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-white",children:"Contribution"})]}),h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${n.status==="complete"?"bg-[#c3fd50]":n.status==="processing"?"bg-blue-400 animate-pulse":n.status==="error"?"bg-red-400":"bg-yellow-400"}`}),h.jsx("span",{className:"text-sm text-gray-400 capitalize",children:n.status}),h.jsx("span",{className:"text-gray-600",children:"|"}),h.jsx(uy,{className:"w-3.5 h-3.5 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-400",children:RA(n.created_at)}),g&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-gray-600",children:"|"}),h.jsx(po,{className:"w-3.5 h-3.5 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-400",children:g})]})]}),h.jsx("div",{className:"text-gray-200 whitespace-pre-wrap leading-relaxed",children:n.content.length>300&&!b?h.jsxs(h.Fragment,{children:[n.content.slice(0,300).trimEnd(),"...",h.jsx("button",{onClick:()=>_(!0),className:"ml-2 text-[#c3fd50] hover:text-white text-sm font-medium",children:"View more"})]}):h.jsxs(h.Fragment,{children:[n.content,n.content.length>300&&h.jsx("button",{onClick:()=>_(!1),className:"ml-2 text-[#c3fd50] hover:text-white text-sm font-medium",children:"Show less"})]})})]}),E&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Observation Dimensions"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-2 mb-6",children:AA.map(w=>{const N=c[w.tag]??0;return h.jsxs("div",{className:`rounded-lg border border-[#262626] bg-[#1a1a1a] p-3 sm:p-4 text-center ${N>0?"border-opacity-100":"opacity-40"}`,style:N>0?{borderColor:w.color+"40"}:void 0,children:[h.jsx("div",{className:"text-xs font-medium mb-1 truncate",style:{color:w.color},children:w.name}),h.jsxs("div",{className:"flex items-baseline justify-center gap-1 sm:gap-1.5",children:[h.jsx("span",{className:"font-mono text-xl sm:text-2xl font-bold",style:{color:w.color},children:w.letter}),h.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:N})]}),h.jsx("span",{className:"text-xs text-gray-400 block truncate",children:w.desc})]},w.key)})})]}),E&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Extracted Artifacts"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:s.map(w=>h.jsxs(pe,{to:`/artifact/${w.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:ga[w.type]}}),h.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:w.type}),w.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[w.rea_role],borderColor:un[w.rea_role]+"40"},children:Ss[w.rea_role]}),w.agent_type&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:pa[w.agent_type],borderColor:pa[w.agent_type]+"40"},children:Oo[w.agent_type]})]}),h.jsx("h3",{className:"font-semibold text-white group-hover:text-[#c3fd50] transition-colors mb-1 text-sm",children:w.title}),w.summary&&h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:w.summary})]},w.id))})]}),n.status==="processing"&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-blue-500/20 rounded-lg p-6 text-center",children:[h.jsx(Z0,{className:"w-8 h-8 text-blue-400 mx-auto mb-3 animate-spin"}),h.jsx("p",{className:"text-gray-300",children:"Extracting knowledge from this contribution..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Artifacts will appear here when processing completes."})]}),n.status==="error"&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-red-500/20 rounded-lg p-6",children:[h.jsx("p",{className:"text-red-400 mb-2",children:"Extraction failed"}),n.errors&&h.jsx("pre",{className:"text-xs text-gray-500 overflow-x-auto",children:JSON.stringify(n.errors,null,2)})]}),n.status==="pending"&&h.jsx("div",{className:"bg-[#1a1a1a] border border-yellow-500/20 rounded-lg p-6 text-center",children:h.jsx("p",{className:"text-yellow-400",children:"Waiting to be processed..."})})]})}const CA={"hlamt:E":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:H":{letter:"H/",name:"Human",color:"#c4956a"},"hlamt:L":{letter:"L/",name:"Language",color:"#c3fd50"},"hlamt:A":{letter:"A/",name:"Artifacts",color:"#8bbfff"},"hlamt:M":{letter:"M/",name:"Methodology",color:"#7ccfb8"},"hlamt:T":{letter:"T/",name:"Training",color:"#e8927c"}};function xf(a){const n=Math.floor((Date.now()-new Date(a).getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`}function kA(){const{id:a}=No(),[n,i]=A.useState(null),[s,o]=A.useState([]),[c,f]=A.useState([]),[m,p]=A.useState({}),[g,y]=A.useState(!0);A.useEffect(()=>{a&&b()},[a]);async function b(){y(!0);const{data:x}=await Z.from("participants").select("id, name, affiliation, bio, interests, created_at").eq("id",a).single();if(!x){y(!1);return}i(x);const[{data:E},{data:w}]=await Promise.all([Z.from("contributions").select("id, content, status, created_at").eq("participant_id",a).order("created_at",{ascending:!1}).limit(50),Z.from("artifacts").select("*").eq("created_by",a).order("created_at",{ascending:!1}).limit(50)]);if(o(E||[]),f(w||[]),w&&w.length>0){const N=w.map(M=>M.id),{data:j}=await Z.from("artifact_tags").select("tags(name)").in("artifact_id",N),T={};if(j)for(const M of j){const R=M.tags?.name;R&&R.startsWith("hlamt:")&&(T[R]=(T[R]||0)+1)}p(T)}y(!1)}if(g)return h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."});if(!n)return h.jsx("div",{className:"text-center text-gray-500 py-12",children:"Participant not found"});const _=Object.entries(m).sort((x,E)=>E[1]-x[1]);return h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-4",children:[h.jsx(pe,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-gray-400",children:"Participants"}),h.jsx(ya,{className:"w-3.5 h-3.5 text-gray-600"}),h.jsx("span",{className:"text-white",children:n.name})]}),h.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-14 h-14 rounded-full bg-[#262626] flex items-center justify-center flex-shrink-0",children:h.jsx(po,{className:"w-7 h-7 text-gray-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h1",{className:"text-2xl font-bold mb-1",children:n.name}),n.affiliation&&h.jsx("p",{className:"text-sm text-gray-400 mb-2",children:n.affiliation}),n.bio&&h.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:n.bio}),n.interests&&n.interests.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.interests.map(x=>h.jsxs("span",{className:"bg-[#262626] text-gray-300 text-xs px-2 py-1 rounded flex items-center gap-1",children:[h.jsx(CS,{className:"w-3 h-3"}),x]},x))}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[h.jsx(K2,{className:"w-3 h-3"}),"Joined ",xf(n.created_at)]})]})]})}),_.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(J0,{className:"w-4 h-4"}),"Dimension Activity"]}),h.jsx("div",{className:"flex flex-wrap gap-3",children:_.map(([x,E])=>{const w=CA[x];return w?h.jsxs("div",{className:"px-3 py-2 rounded-lg border flex items-center gap-2",style:{borderColor:w.color+"40"},children:[h.jsx("span",{className:"font-mono font-bold text-lg",style:{color:w.color},children:w.letter}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs",style:{color:w.color},children:w.name}),h.jsxs("div",{className:"text-xs text-gray-500",children:[E," artifact",E!==1?"s":""]})]})]},x):null})})]}),c.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(J0,{className:"w-4 h-4"}),"Artifacts (",c.length,")"]}),h.jsx("div",{className:"space-y-2",children:c.map(x=>h.jsxs(pe,{to:`/artifact/${x.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ga[x.type]}}),h.jsx("span",{className:"text-xs uppercase text-gray-500",children:x.type}),x.rea_role&&h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:un[x.rea_role],borderColor:un[x.rea_role]+"40"},children:Ss[x.rea_role]}),h.jsx("span",{className:"ml-auto text-xs text-gray-500",children:hs[x.state]})]}),h.jsx("div",{className:"text-sm text-white group-hover:text-[#c3fd50] transition-colors font-medium",children:x.title}),x.summary&&h.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:x.summary}),h.jsx("div",{className:"text-xs text-gray-600 mt-1",children:xf(x.created_at)})]},x.id))})]}),s.length>0&&h.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[h.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[h.jsx(V2,{className:"w-4 h-4"}),"Contributions (",s.length,")"]}),h.jsx("div",{className:"space-y-2",children:s.map(x=>h.jsxs(pe,{to:`/contribution/${x.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${x.status==="complete"?"bg-[#c3fd50]":x.status==="processing"?"bg-blue-400 animate-pulse":x.status==="error"?"bg-red-400":"bg-yellow-400"}`}),h.jsx("span",{className:"text-xs text-gray-500",children:x.status}),h.jsx("span",{className:"ml-auto text-xs text-gray-600",children:xf(x.created_at)})]}),h.jsx("p",{className:"text-xs text-gray-400 line-clamp-3",children:x.content})]},x.id))})]}),c.length===0&&s.length===0&&h.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No activity yet from this participant."})]})}function DA(){const a=$n(),[n,i]=A.useState(null),[s,o]=A.useState(!1),{convergence:c}=vy();A.useEffect(()=>{Z.auth.getSession().then(({data:p})=>i(p.session));const{data:{subscription:m}}=Z.auth.onAuthStateChange((p,g)=>i(g));return()=>m.unsubscribe()},[]);const f=[{to:"/",label:"Explore"},{to:"/contribute",label:"Contribute"},{to:"/coordinate",label:"Coordinate"},{to:"/me",label:"My Thread"}];return h.jsx("nav",{className:"bg-[#0f0f0f] border-b border-[#262626] px-4 py-3",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"hidden md:flex items-center justify-between relative",children:[h.jsxs(pe,{to:"/",className:"text-xl font-bold tracking-tight",children:[h.jsx("span",{style:{color:c.theme_primary},children:c.logo_text}),h.jsx("span",{className:"text-gray-500",children:c.logo_accent})]}),h.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 flex gap-1",children:f.map(m=>h.jsx(pe,{to:m.to,className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${a.pathname===m.to||m.to==="/dimensions"&&a.pathname.startsWith("/d/")?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:m.label},m.to))}),h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsx(pe,{to:"/search",className:"text-gray-400 hover:text-white",children:h.jsx(Fi,{className:"w-5 h-5"})}),n?h.jsx("button",{onClick:()=>Z.auth.signOut(),className:"text-gray-400 hover:text-white",children:"Sign out"}):h.jsx(pe,{to:"/auth",className:"text-[#c3fd50] hover:text-white",children:"Sign in"})]})]}),h.jsxs("div",{className:"md:hidden",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(pe,{to:"/",className:"text-lg font-bold tracking-tight",children:[h.jsx("span",{style:{color:c.theme_primary},children:c.logo_text}),h.jsx("span",{className:"text-gray-500",children:c.logo_accent})]}),h.jsx("button",{onClick:()=>o(!s),className:"text-gray-400 hover:text-white p-2","aria-label":"Menu",children:s?h.jsx(BS,{className:"w-6 h-6"}):h.jsx(xS,{className:"w-6 h-6"})})]}),s&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-[#262626] space-y-1",children:[f.map(m=>h.jsx(pe,{to:m.to,onClick:()=>o(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${a.pathname===m.to?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:m.label},m.to)),h.jsx(pe,{to:"/search",onClick:()=>o(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${a.pathname==="/search"?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:"Search"}),h.jsx("div",{className:"pt-2 border-t border-[#262626]",children:n?h.jsx("button",{onClick:()=>{Z.auth.signOut(),o(!1)},className:"block w-full text-left px-3 py-2 text-sm text-gray-400 hover:text-white",children:"Sign out"}):h.jsx(pe,{to:"/auth",onClick:()=>o(!1),className:"block px-3 py-2 text-sm text-[#c3fd50] hover:text-white",children:"Sign in"})})]})]})]})})}function MA(){return h.jsx(I_,{basename:"/app",children:h.jsx(GS,{children:h.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-white",children:[h.jsx(DA,{}),h.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:h.jsxs(w_,{children:[h.jsx(ut,{path:"/",element:h.jsx(YS,{})}),h.jsx(ut,{path:"/dimensions",element:h.jsx(tN,{})}),h.jsx(ut,{path:"/d/:dimension",element:h.jsx(lN,{})}),h.jsx(ut,{path:"/artifact/:id",element:h.jsx(IS,{})}),h.jsx(ut,{path:"/me",element:h.jsx(PS,{})}),h.jsx(ut,{path:"/contribute",element:h.jsx(ZS,{})}),h.jsx(ut,{path:"/profile",element:h.jsx(uN,{})}),h.jsx(ut,{path:"/contribution/:id",element:h.jsx(OA,{})}),h.jsx(ut,{path:"/graph",element:h.jsx(wA,{})}),h.jsx(ut,{path:"/coordinate",element:h.jsx(NA,{})}),h.jsx(ut,{path:"/dashboard",element:h.jsx(jA,{})}),h.jsx(ut,{path:"/search",element:h.jsx(TA,{})}),h.jsx(ut,{path:"/p/:id",element:h.jsx(kA,{})}),h.jsx(ut,{path:"/status",element:h.jsx(fN,{})}),h.jsx(ut,{path:"/auth",element:h.jsx(FS,{})}),h.jsx(ut,{path:"*",element:h.jsx(oN,{})})]})})]})})})}Eb.createRoot(document.getElementById("root")).render(h.jsx(A.StrictMode,{children:h.jsx(MA,{})}));
