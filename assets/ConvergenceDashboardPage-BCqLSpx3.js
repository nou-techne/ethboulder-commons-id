import{r as h,j as e}from"./index-DMonaj-y.js";import{C as c,b as o,a as u}from"./Card-DAJgVP2j.js";import{C as p}from"./calendar-DZREd-sc.js";import{M as j}from"./map-pin-neHb5Zrs.js";import{U as f}from"./users-DbK4I6RR.js";import{T as y}from"./trending-up-Br8ckqyC.js";import{M as g}from"./message-square-BWqwvPd2.js";import{F as b}from"./file-text-BlY_cc3L.js";const v={id:"ethboulder_2026",name:"ETHBoulder",description:"Ethereum developer and builder convergence in Boulder, Colorado",startDate:"2026-02-13T00:00:00Z",endDate:"2026-02-16T23:59:59Z",location:{city:"Boulder",region:"Colorado",country:"United States",venue:"Boulder Station"},dimensionsFocus:["human","artifact","methodology"],participantCount:150,status:"active",metadata:{theme:"Local-First Coordination Infrastructure",colorPrimary:"#a6ed2a",colorSecondary:"#2a2a2a",website:"https://ethboulder.commons.id"},created_at:"2026-01-15T00:00:00Z",updated_at:"2026-02-12T00:00:00Z"};function N(a){const t=new Date(a.startDate).getTime(),r=new Date(a.endDate).getTime();return Math.ceil((r-t)/(1e3*60*60*24))}function w(a){const t=new Date(a.startDate),r=new Date(a.endDate),s=t.toLocaleDateString("en-US",{month:"short"}),n=r.toLocaleDateString("en-US",{month:"short"}),d=t.getDate(),i=r.getDate(),x=t.getFullYear();return s===n?`${s} ${d}-${i}, ${x}`:`${s} ${d} - ${n} ${i}, ${x}`}const m="commons_convergences",l="commons_active_convergence";class S{convergences=new Map;activeId=null;constructor(){this.load()}load(){try{const t=localStorage.getItem(m);t?JSON.parse(t).forEach(n=>this.convergences.set(n.id,n)):(this.convergences.set(v.id,v),this.save());const r=localStorage.getItem(l);r&&this.convergences.has(r)?this.activeId=r:this.convergences.size>0&&(this.activeId=Array.from(this.convergences.keys())[0])}catch(t){console.error("Failed to load convergences:",t)}}save(){try{const t=Array.from(this.convergences.values());localStorage.setItem(m,JSON.stringify(t)),this.activeId&&localStorage.setItem(l,this.activeId)}catch(t){console.error("Failed to save convergences:",t)}}create(t){const r=new Date().toISOString(),s={...t,created_at:t.created_at||r,updated_at:r};return this.convergences.set(s.id,s),this.save(),s}get(t){return this.convergences.get(t)}list(){return Array.from(this.convergences.values())}update(t,r){const s=this.convergences.get(t);if(!s)return;const n={...s,...r,id:s.id,updated_at:new Date().toISOString()};return this.convergences.set(t,n),this.save(),n}delete(t){const r=this.convergences.delete(t);return r&&(this.activeId===t&&(this.activeId=this.convergences.size>0?Array.from(this.convergences.keys())[0]:null),this.save()),r}setActive(t){return this.convergences.has(t)?(this.activeId=t,localStorage.setItem(l,t),!0):!1}getActive(){return this.activeId&&this.convergences.get(this.activeId)||null}getActiveId(){return this.activeId}filterByStatus(t){return this.list().filter(r=>r.status===t)}search(t){const r=t.toLowerCase();return this.list().filter(s=>s.name.toLowerCase().includes(r)||s.description.toLowerCase().includes(r)||s.location.city.toLowerCase().includes(r))}clear(){this.convergences.clear(),this.activeId=null,localStorage.removeItem(m),localStorage.removeItem(l)}count(){return this.convergences.size}}const D=new S;function B(){const[a,t]=h.useState(null);if(h.useEffect(()=>{const s=D.getActive();t(s)},[]),!a)return e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No convergence selected"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select a convergence from the dropdown in the navigation"})]})});const r=N(a);return e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.name}),e.jsx("p",{className:"text-gray-400 mb-4",children:a.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:w(a)}),e.jsxs("span",{className:"text-gray-500",children:["(",r," days)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.location.city,", ",a.location.country]})]}),a.participantCount&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.participantCount," participants"]})]})]})]}),e.jsx("div",{children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="active"?"bg-green-500/20 text-green-400":a.status==="upcoming"?"bg-blue-500/20 text-blue-400":a.status==="completed"?"bg-gray-500/20 text-gray-400":"bg-gray-600/20 text-gray-500"}`,children:a.status})})]}),a.metadata?.theme&&e.jsxs("div",{className:"bg-[#0a101d] border border-[#1d2839] rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Theme"}),e.jsx("div",{className:"text-sm text-gray-300",children:a.metadata.theme})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(c,{children:e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Contributions"}),e.jsx("div",{className:"text-3xl font-bold",children:"127"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.jsx(y,{className:"w-3 h-3 inline mr-1"}),"+12% from previous"]})]}),e.jsx(g,{className:"w-8 h-8 text-[#a6ed2a] opacity-50"})]})})}),e.jsx(c,{children:e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Active Threads"}),e.jsx("div",{className:"text-3xl font-bold",children:"34"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"23 resolved"})]}),e.jsx(g,{className:"w-8 h-8 text-[#a6ed2a] opacity-50"})]})})}),e.jsx(c,{children:e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Artifacts"}),e.jsx("div",{className:"text-3xl font-bold",children:"89"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"From 67 contributors"})]}),e.jsx(b,{className:"w-8 h-8 text-[#a6ed2a] opacity-50"})]})})})]}),a.dimensionsFocus&&a.dimensionsFocus.length>0&&e.jsxs(c,{className:"mb-8",children:[e.jsx(u,{children:e.jsx("h3",{className:"font-bold",children:"Dimension Focus"})}),e.jsxs(o,{children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:a.dimensionsFocus.map(s=>e.jsx("div",{className:"px-3 py-2 rounded-lg bg-[#0a101d] border border-[#1d2839] text-sm",children:e.jsx("span",{className:"font-medium capitalize",children:s})},s))}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Contribution Distribution"}),a.dimensionsFocus.map((s,n)=>{const i=[45,32,28,22,15][n]||10;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-300 capitalize",children:s}),e.jsx("span",{className:"text-sm text-gray-500",children:i})]}),e.jsx("div",{className:"w-full bg-[#080c16] rounded-full h-2",children:e.jsx("div",{className:"bg-[#a6ed2a] h-2 rounded-full",style:{width:`${i/45*100}%`}})})]},s)})]})]})]}),e.jsxs(c,{children:[e.jsx(u,{children:e.jsx("h3",{className:"font-bold",children:"Recent Activity"})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:[{type:"contribution",text:"New contribution submitted",author:"Alice",time:"5m ago"},{type:"thread",text:'Thread "API Design" resolved',author:"Bob",time:"12m ago"},{type:"artifact",text:'Artifact "Protocol Spec" created',author:"Carol",time:"23m ago"},{type:"thread",text:'New thread "UX Feedback" started',author:"David",time:"34m ago"},{type:"contribution",text:"Contribution processed → 3 artifacts",author:"Emma",time:"1h ago"}].map((s,n)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded bg-[#0a101d] hover:bg-[#1d2839] transition-colors",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${s.type==="contribution"?"bg-blue-400":s.type==="thread"?"bg-green-400":"bg-purple-400"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm text-gray-300",children:s.text}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.author," · ",s.time]})]})]},n))})})]})]})}export{B as default};
