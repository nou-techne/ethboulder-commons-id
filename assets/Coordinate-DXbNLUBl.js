import{r as a,s as n,j as e,L as d}from"./index-sqjsVm1m.js";import{H as c}from"./handshake-y5G9IvXE.js";import{F as j}from"./flame-nXpsFzFy.js";import{U as f}from"./users-DQpOb_B4.js";const N={resource:"text-green-400",event:"text-amber-400",agent:"text-blue-400"};function k(){const[o,m]=a.useState([]),[i,p]=a.useState([]),[h,g]=a.useState(!0),[r,x]=a.useState("hotspots");if(a.useEffect(()=>{async function t(){const[l,b]=await Promise.all([n.from("coordination_hotspots").select("*").limit(20),n.from("coordination_matches").select("*").limit(50)]);m(l.data||[]),p(b.data||[]),g(!1)}t();const s=n.channel("coordination").on("postgres_changes",{event:"*",schema:"public",table:"coordination_interests"},()=>t()).subscribe();return()=>{n.removeChannel(s)}},[]),h)return e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx(c,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),e.jsx("p",{className:"text-gray-400",children:"Loading coordination signals..."})]});const u=o.length===0&&i.length===0;return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coordination"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"See what the community wants to coordinate around. Click the handshake icon on any artifact to signal your interest."})]}),u?e.jsxs("div",{className:"bg-[#0a101d] border border-[#1d2839] rounded-lg p-8 text-center",children:[e.jsx(c,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-bold mb-2",children:"No coordination signals yet"}),e.jsx("p",{className:"text-gray-400 text-sm max-w-md mx-auto mb-4",children:"Browse the Explore page and click the handshake icon on artifacts you want to coordinate around. When multiple participants signal interest in the same artifact, matches appear here."}),e.jsx(d,{to:"/",className:"inline-block px-6 py-2 bg-[#a6ed2a] text-[#080c16] rounded-lg hover:bg-[#b8f247] text-sm",children:"Explore artifacts"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>x("hotspots"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${r==="hotspots"?"bg-[#a6ed2a] text-[#080c16]":"bg-[#1d2839] text-gray-300 hover:bg-[#333]"}`,children:[e.jsx(j,{className:"w-4 h-4"}),"Hotspots (",o.length,")"]}),e.jsxs("button",{onClick:()=>x("matches"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${r==="matches"?"bg-[#a6ed2a] text-[#080c16]":"bg-[#1d2839] text-gray-300 hover:bg-[#333]"}`,children:[e.jsx(f,{className:"w-4 h-4"}),"Matches (",i.length,")"]})]}),r==="hotspots"&&e.jsx("div",{className:"space-y-3",children:o.map(t=>e.jsx(d,{to:`/artifact/${t.artifact_id}`,className:"block bg-[#0a101d] border border-[#1d2839] rounded-lg p-4 hover:border-[#a6ed2a]/30 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-xs ${N[t.rea_role]||"text-gray-400"}`,children:t.rea_role.charAt(0).toUpperCase()+t.rea_role.slice(1)}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#1d2839] text-gray-400",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]}),e.jsx("h3",{className:"font-medium text-sm mb-1",children:t.title}),t.summary&&e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:t.summary}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:t.interested_participants.map((s,l)=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#a6ed2a]/10 text-[#a6ed2a]",children:s},l))})]}),e.jsxs("div",{className:"flex items-center gap-1 text-[#a6ed2a]",children:[e.jsx(c,{className:"w-4 h-4"}),e.jsx("span",{className:"text-lg font-bold",children:t.interest_count})]})]})},t.artifact_id))}),r==="matches"&&e.jsx("div",{className:"space-y-3",children:i.map((t,s)=>e.jsxs("div",{className:"bg-[#0a101d] border border-[#1d2839] rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-[#a6ed2a]",children:t.participant_a}),e.jsx(c,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-[#a6ed2a]",children:t.participant_b})]}),e.jsxs(d,{to:`/artifact/${t.artifact_id}`,className:"text-xs text-gray-400 hover:text-white transition-colors",children:["Shared interest: ",t.shared_interest]})]},s))})]})]})}export{k as Coordinate};
