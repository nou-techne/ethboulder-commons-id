import{c as u,r as a,g,j as e,L as p,s as b}from"./index-HXAgaps0.js";const f=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],j=u("mail",f),y=[{letter:"e/",name:"Ecology",color:"#4a8c6f",text:"Ground ideas in place and ecology"},{letter:"H/",name:"Human",color:"#c4956a",text:"Connect with people who share your questions"},{letter:"A/",name:"Artifacts",color:"#8bbfff",text:"Build artifacts that outlast the event"}];function v(){const[s,r]=a.useState(""),[l,n]=a.useState(!1),[m,o]=a.useState(!1),[i,c]=a.useState(""),x=g();async function h(t){t.preventDefault(),n(!0),c("");const{error:d}=await b.auth.signInWithOtp({email:s,options:{emailRedirectTo:"https://commons.id/app/"}});n(!1),d?c(d.message):o(!0)}return m?e.jsxs("div",{className:"max-w-lg mx-auto text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-[#a6ed2a] flex items-center justify-center mx-auto mb-6",children:e.jsx(j,{className:"w-10 h-10 text-[#080c16]"})}),e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Check your inbox"}),e.jsxs("p",{className:"text-gray-400 mb-2",children:["We sent a magic link to ",e.jsx("span",{className:"text-white font-medium",children:s})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Click the link in the email to sign in. It expires in 1 hour."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>{o(!1),r("")},className:"px-6 py-2.5 bg-[#1d2839] text-white rounded-lg hover:bg-[#283347] transition-colors text-sm",children:"Try a different email"}),e.jsx("button",{onClick:()=>x("/"),className:"px-6 py-2.5 bg-[#a6ed2a] text-[#080c16] rounded-lg hover:bg-[#b8f247] transition-colors text-sm",children:"Explore while you wait"})]})]}):e.jsxs("div",{className:"max-w-lg mx-auto py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-3",children:["Join the ",e.jsx("span",{className:"text-[#a6ed2a]",children:"Commons"})]}),e.jsx("p",{className:"text-gray-400 max-w-sm mx-auto leading-relaxed",children:"A living archive of what emerges when people converge. Your observations become part of the knowledge graph."})]}),e.jsx("div",{className:"mb-10 space-y-3",children:y.map(t=>e.jsxs("div",{className:"flex items-start gap-3 bg-[#0a101d] border border-[#1d2839] rounded-lg p-3",children:[e.jsxs("div",{className:"flex-shrink-0 mt-0.5 min-w-[90px]",children:[e.jsx("span",{className:"font-mono text-lg font-bold",style:{color:t.color},children:t.letter}),e.jsx("span",{className:"text-xs font-medium text-gray-400",children:t.name})]}),e.jsx("span",{className:"text-sm text-gray-300",children:t.text})]},t.letter))}),e.jsxs("div",{className:"bg-[#0a101d] border border-[#1d2839] rounded-xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Sign in with email"}),e.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"No password needed. We'll send you a magic link."}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"email",value:s,onChange:t=>r(t.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full bg-[#080c16] border border-[#283347] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#a6ed2a] transition-colors"})}),i&&e.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:i}),e.jsx("button",{type:"submit",disabled:l||!s.trim(),className:"w-full bg-[#a6ed2a] text-[#080c16] font-medium hover:bg-[#b8f247] py-3 rounded-lg transition-colors disabled:opacity-50",children:l?"Sending magic link...":"Continue with magic link"})]})]}),e.jsxs("div",{className:"text-center mt-8",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't want to sign in?"," ",e.jsx(p,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore as a guest"})]}),e.jsx("p",{className:"text-xs text-gray-700 mt-3",children:"ETHBoulder 2026 Â· commons.id"})]})]})}export{v as Auth};
