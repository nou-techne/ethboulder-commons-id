import{c as k,r as m,s as c,j as e,L as l,I as A}from"./index-DMonaj-y.js";import{C as r,b as i}from"./Card-DAJgVP2j.js";import{A as E}from"./activity-CVwqszFm.js";import{U as T}from"./users-DbK4I6RR.js";import{L as C}from"./link-2-BHR6Oleo.js";import{T as _}from"./trending-up-Br8ckqyC.js";import{B as L}from"./book-open-DgCdhuGd.js";const S=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H=k("compass",S),I={resource:"bg-green-500",event:"bg-amber-500",agent:"bg-blue-500"},j={E:{letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",explain:"The bioregional and environmental context — watersheds, ecosystems, and the living systems that ground our work in place."},H:{letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",explain:"The people, their backgrounds, skills, and the relationships between participants. Every convergence is ultimately about who shows up."},L:{letter:"L/",name:"Language",desc:"How We Talk",color:"#a6ed2a",explain:"The shared vocabulary, concepts, and frameworks that enable coordination. Language is the medium through which collective intelligence flows."},A:{letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",explain:"The tools, protocols, software, and tangible outputs. Artifacts persist beyond the event — they are what remains after the conversation ends."},M:{letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",explain:"The processes, governance patterns, and coordination mechanisms. How groups organize, make decisions, and allocate resources."},T:{letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",explain:"The transformation of practitioners through practice. Skills developed, insights gained, and capacity built during the convergence."},S:{letter:"S/",name:"Sessions",desc:"Where Convergence Happens",color:"#c084fc",explain:"The unconference sessions planned during the event by attendees. These emerge from participant interests and become the structural backbone other dimensions attach to."}},R=["E","H","L","A","M","T","S"];function z(){const[x,v]=m.useState({totalArtifacts:0,totalParticipants:0,totalRelationships:0,recentContributions:0}),[h,N]=m.useState([]),[g,y]=m.useState([]),o=async()=>{const{count:s}=await c.from("artifacts").select("*",{count:"exact",head:!0}),{count:t}=await c.from("public_participants").select("*",{count:"exact",head:!0}),{count:n}=await c.from("artifact_relationships").select("*",{count:"exact",head:!0}),a=new Date(Date.now()-3600*1e3).toISOString(),{count:d}=await c.from("contributions").select("*",{count:"exact",head:!0}).gte("created_at",a);v({totalArtifacts:s||0,totalParticipants:t||0,totalRelationships:n||0,recentContributions:d||0})},u=async()=>{const{data:s}=await c.from("artifacts").select("id, title, created_at, rea_role").order("created_at",{ascending:!1}).limit(8);s&&N(s)},p=async()=>{const{data:s}=await c.from("artifact_tags").select("tag_id, tags(name)").not("tags","is",null);if(s){const t={};s.forEach(a=>{const d=a.tags?.name;if(!d||!d.startsWith("hlamt:"))return;const b=d.split(":")[1];t[b]=(t[b]||0)+1});const n=R.map(a=>({dimension:a,count:t[a]||0,color:j[a]?.color||"#888"}));y(n)}};m.useEffect(()=>{o(),u(),p();const s=setInterval(()=>{o(),u(),p()},1e4),t=c.channel("dashboard-updates").on("postgres_changes",{event:"*",schema:"public",table:"artifacts"},o).on("postgres_changes",{event:"*",schema:"public",table:"contributions"},o).on("postgres_changes",{event:"*",schema:"public",table:"artifact_relationships"},o).subscribe();return()=>{clearInterval(s),c.removeChannel(t)}},[]);const w=s=>{const t=Math.floor((Date.now()-new Date(s).getTime())/1e3);if(t<60)return`${t}s`;const n=Math.floor(t/60);if(n<60)return`${n}m`;const a=Math.floor(n/60);return a<24?`${a}h`:`${Math.floor(a/24)}d`},f=Math.max(...g.map(s=>s.count),1);return e.jsxs("div",{className:"min-h-screen bg-[#080c16] text-gray-100 p-4 sm:p-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx("div",{className:"text-[#a6ed2a] font-bold text-4xl sm:text-5xl tracking-tight",children:"EthBoulder"}),e.jsx("div",{className:"text-gray-500 text-4xl sm:text-5xl",children:".commons.id"})]}),e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"Knowledge Graph · Live"})]}),e.jsx(r,{className:"mb-8",children:e.jsx(i,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"w-5 h-5 text-[#a6ed2a] mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200 mb-2",children:"What is this?"}),e.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed mb-3",children:["This is a ",e.jsx("strong",{className:"text-gray-300",children:"living knowledge graph"})," for ETHBoulder 2026. Every session, conversation, and contribution is captured, extracted into structured artifacts, and connected through relationships — building a collective map of what happened, who was involved, and what emerged."]}),e.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Knowledge is organized across ",e.jsx("strong",{className:"text-gray-300",children:"seven observation dimensions"})," from the ",e.jsx("a",{href:"https://the-habitat.org/thesis",target:"_blank",rel:"noopener noreferrer",className:"text-[#a6ed2a] hover:text-white transition-colors",children:"H-LAM/T framework"})," — a model for understanding how humans, language, artifacts, and methodology combine to augment collective intelligence. Each dimension reveals a different facet of the convergence."]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[e.jsx(r,{children:e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(E,{className:"w-7 h-7 text-[#a6ed2a]"})}),e.jsx("div",{className:"text-3xl sm:text-4xl font-bold mb-1",children:x.totalArtifacts}),e.jsx("div",{className:"text-gray-500 text-xs sm:text-sm uppercase tracking-wide",children:"Artifacts"}),e.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"Ideas, proposals, patterns"})]})}),e.jsx(r,{children:e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(T,{className:"w-7 h-7 text-violet-500"})}),e.jsx("div",{className:"text-3xl sm:text-4xl font-bold mb-1",children:x.totalParticipants}),e.jsx("div",{className:"text-gray-500 text-xs sm:text-sm uppercase tracking-wide",children:"Participants"}),e.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"People contributing"})]})}),e.jsx(r,{children:e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(C,{className:"w-7 h-7 text-cyan-500"})}),e.jsx("div",{className:"text-3xl sm:text-4xl font-bold mb-1",children:x.totalRelationships}),e.jsx("div",{className:"text-gray-500 text-xs sm:text-sm uppercase tracking-wide",children:"Connections"}),e.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"Links between artifacts"})]})}),e.jsx(r,{children:e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(_,{className:"w-7 h-7 text-[#a6ed2a]"})}),e.jsx("div",{className:"text-3xl sm:text-4xl font-bold mb-1",children:x.recentContributions}),e.jsx("div",{className:"text-gray-500 text-xs sm:text-sm uppercase tracking-wide",children:"Last Hour"}),e.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"New contributions"})]})})]}),e.jsx(r,{className:"mb-8",children:e.jsxs(i,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"w-5 h-5 text-[#a6ed2a]"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:"Observation Dimensions"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-5",children:"The e/H-LAM/T/S framework observes convergences through seven lenses. Click any dimension to explore its artifacts."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:g.map(s=>{const t=j[s.dimension];if(!t)return null;const n=s.dimension==="E"?"e":s.dimension,a=f>0?s.count/f*100:0;return e.jsxs(l,{to:`/d/${n}`,className:"block rounded-lg border border-[#1d2839] bg-[#0a101d] p-4 hover:border-opacity-60 transition-all group",style:{borderColor:s.count>0?t.color+"30":void 0},children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsx("span",{className:"font-mono text-2xl font-bold",style:{color:t.color},children:t.letter}),e.jsx("span",{className:"text-base font-semibold text-gray-200 group-hover:text-white transition-colors",children:t.name}),e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:s.count})]}),e.jsx("div",{className:"text-xs font-medium mb-2",style:{color:t.color+"cc"},children:t.desc}),e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed mb-3",children:t.explain}),e.jsx("div",{className:"w-full bg-[#080c16] rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${a}%`,backgroundColor:t.color}})})]},s.dimension)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(r,{children:e.jsxs(i,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(A,{className:"w-5 h-5 text-[#a6ed2a]"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"How It Works"})]}),e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-[#a6ed2a]/10 text-[#a6ed2a] flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-0.5",children:"Contribute"}),e.jsxs("div",{className:"text-gray-500",children:["Share session notes, observations, or ideas through the ",e.jsx(l,{to:"/contribute",className:"text-[#a6ed2a] hover:text-white transition-colors",children:"Contribute"})," page."]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-[#a6ed2a]/10 text-[#a6ed2a] flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-0.5",children:"Extract"}),e.jsx("div",{className:"text-gray-500",children:"AI identifies artifacts, people, relationships, and dimensions — structuring free-form notes into a knowledge graph."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-[#a6ed2a]/10 text-[#a6ed2a] flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-0.5",children:"Connect"}),e.jsx("div",{className:"text-gray-500",children:"Artifacts link together across sessions and dimensions, revealing patterns no single person could see alone."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-[#a6ed2a]/10 text-[#a6ed2a] flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-0.5",children:"Explore"}),e.jsxs("div",{className:"text-gray-500",children:["Browse the ",e.jsx(l,{to:"/graph",className:"text-[#a6ed2a] hover:text-white transition-colors",children:"knowledge graph"}),", ",e.jsx(l,{to:"/dimensions",className:"text-[#a6ed2a] hover:text-white transition-colors",children:"dimensions"}),", and ",e.jsx(l,{to:"/",className:"text-[#a6ed2a] hover:text-white transition-colors",children:"activity feed"})," to discover what's emerging."]})]})]})]})]})}),e.jsx(r,{children:e.jsxs(i,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-200",children:"Recent Artifacts"}),e.jsx("div",{className:"space-y-2",children:h.length===0?e.jsxs("p",{className:"text-gray-500 text-sm py-4 text-center",children:["No artifacts yet. Be the first to ",e.jsx(l,{to:"/contribute",className:"text-[#a6ed2a] hover:text-white",children:"contribute"}),"!"]}):h.map(s=>e.jsxs(l,{to:`/artifact/${s.id}`,className:"flex items-start gap-3 p-3 bg-[#080c16] rounded border border-gray-800 hover:border-[#a6ed2a]/30 transition-colors",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${I[s.rea_role]||"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-200 truncate text-sm",children:s.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w(s.created_at)," ago · ",s.rea_role]})]})]},s.id))})]})})]}),e.jsx(r,{className:"mb-8",children:e.jsxs(i,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Understanding the Graph"}),e.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Every artifact in the knowledge graph is classified using the ",e.jsx("strong",{className:"text-gray-300",children:"REA ontology"})," (Resource–Event–Agent) — an accounting framework that makes economic and social relationships legible."]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"rounded-lg bg-[#080c16] border border-green-500/20 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"font-medium text-green-400 text-sm",children:"Resource"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Things of value — tools, protocols, ideas, proposals. The building blocks that persist beyond the event."})]}),e.jsxs("div",{className:"rounded-lg bg-[#080c16] border border-amber-500/20 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),e.jsx("span",{className:"font-medium text-amber-400 text-sm",children:"Event"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Things that happen — sessions, workshops, discussions, decisions. Events transform resources and connect agents."})]}),e.jsxs("div",{className:"rounded-lg bg-[#080c16] border border-blue-500/20 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"font-medium text-blue-400 text-sm",children:"Agent"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"People and organizations — the participants who create, steward, and transform resources through events."})]})]})]})}),e.jsxs("div",{className:"fixed bottom-6 right-6 flex items-center gap-2 bg-[#0a101d] border border-gray-800 rounded-full px-4 py-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#a6ed2a] animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-400",children:"LIVE"})]})]})}export{z as default};
