const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-B20gKZ_j.js","assets/activity-DCN51SWf.js","assets/Status-DHOI03zG.js"])))=>i.map(i=>d[i]);
(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var su={exports:{}},Ei={};var Pm;function ov(){if(Pm)return Ei;Pm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var m in u)m!=="key"&&(h[m]=u[m])}else h=u;return u=h.ref,{$$typeof:s,type:l,key:f,ref:u!==void 0?u:null,props:h}}return Ei.Fragment=a,Ei.jsx=r,Ei.jsxs=r,Ei}var Im;function cv(){return Im||(Im=1,su.exports=ov()),su.exports}var o=cv(),iu={exports:{}},fe={};var Zm;function uv(){if(Zm)return fe;Zm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function z(T,K,R){this.props=T,this.context=K,this.refs=C,this.updater=R||A}z.prototype.isReactComponent={},z.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function M(){}M.prototype=z.prototype;function L(T,K,R){this.props=T,this.context=K,this.refs=C,this.updater=R||A}var H=L.prototype=new M;H.constructor=L,E(H,z.prototype),H.isPureReactComponent=!0;var J=Array.isArray;function I(){}var q={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function se(T,K,R){var Q=R.ref;return{$$typeof:s,type:T,key:K,ref:Q!==void 0?Q:null,props:R}}function Z(T,K){return se(T.type,K,T.props)}function he(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function re(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(R){return K[R]})}var we=/\/+/g;function Be(T,K){return typeof T=="object"&&T!==null&&T.key!=null?re(""+T.key):K.toString(36)}function Ye(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(I,I):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function $(T,K,R,Q,le){var ce=typeof T;(ce==="undefined"||ce==="boolean")&&(T=null);var Se=!1;if(T===null)Se=!0;else switch(ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(T.$$typeof){case s:case a:Se=!0;break;case v:return Se=T._init,$(Se(T._payload),K,R,Q,le)}}if(Se)return le=le(T),Se=Q===""?"."+Be(T,0):Q,J(le)?(R="",Se!=null&&(R=Se.replace(we,"$&/")+"/"),$(le,K,R,"",function(Ds){return Ds})):le!=null&&(he(le)&&(le=Z(le,R+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(we,"$&/")+"/")+Se)),K.push(le)),1;Se=0;var et=Q===""?".":Q+":";if(J(T))for(var Ke=0;Ke<T.length;Ke++)Q=T[Ke],ce=et+Be(Q,Ke),Se+=$(Q,K,R,ce,le);else if(Ke=b(T),typeof Ke=="function")for(T=Ke.call(T),Ke=0;!(Q=T.next()).done;)Q=Q.value,ce=et+Be(Q,Ke++),Se+=$(Q,K,R,ce,le);else if(ce==="object"){if(typeof T.then=="function")return $(Ye(T),K,R,Q,le);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Se}function P(T,K,R){if(T==null)return T;var Q=[],le=0;return $(T,Q,"","",function(ce){return K.call(R,ce,le++)}),Q}function ne(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(R){(T._status===0||T._status===-1)&&(T._status=1,T._result=R)},function(R){(T._status===0||T._status===-1)&&(T._status=2,T._result=R)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var xe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ae={map:P,forEach:function(T,K,R){P(T,function(){K.apply(this,arguments)},R)},count:function(T){var K=0;return P(T,function(){K++}),K},toArray:function(T){return P(T,function(K){return K})||[]},only:function(T){if(!he(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return fe.Activity=_,fe.Children=Ae,fe.Component=z,fe.Fragment=r,fe.Profiler=u,fe.PureComponent=L,fe.StrictMode=l,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,fe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return q.H.useMemoCache(T)}},fe.cache=function(T){return function(){return T.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(T,K,R){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=E({},T.props),le=T.key;if(K!=null)for(ce in K.key!==void 0&&(le=""+K.key),K)!F.call(K,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&K.ref===void 0||(Q[ce]=K[ce]);var ce=arguments.length-2;if(ce===1)Q.children=R;else if(1<ce){for(var Se=Array(ce),et=0;et<ce;et++)Se[et]=arguments[et+2];Q.children=Se}return se(T.type,le,Q)},fe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:h,_context:T},T},fe.createElement=function(T,K,R){var Q,le={},ce=null;if(K!=null)for(Q in K.key!==void 0&&(ce=""+K.key),K)F.call(K,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=K[Q]);var Se=arguments.length-2;if(Se===1)le.children=R;else if(1<Se){for(var et=Array(Se),Ke=0;Ke<Se;Ke++)et[Ke]=arguments[Ke+2];le.children=et}if(T&&T.defaultProps)for(Q in Se=T.defaultProps,Se)le[Q]===void 0&&(le[Q]=Se[Q]);return se(T,ce,le)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(T){return{$$typeof:m,render:T}},fe.isValidElement=he,fe.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:ne}},fe.memo=function(T,K){return{$$typeof:p,type:T,compare:K===void 0?null:K}},fe.startTransition=function(T){var K=q.T,R={};q.T=R;try{var Q=T(),le=q.S;le!==null&&le(R,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(I,xe)}catch(ce){xe(ce)}finally{K!==null&&R.types!==null&&(K.types=R.types),q.T=K}},fe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},fe.use=function(T){return q.H.use(T)},fe.useActionState=function(T,K,R){return q.H.useActionState(T,K,R)},fe.useCallback=function(T,K){return q.H.useCallback(T,K)},fe.useContext=function(T){return q.H.useContext(T)},fe.useDebugValue=function(){},fe.useDeferredValue=function(T,K){return q.H.useDeferredValue(T,K)},fe.useEffect=function(T,K){return q.H.useEffect(T,K)},fe.useEffectEvent=function(T){return q.H.useEffectEvent(T)},fe.useId=function(){return q.H.useId()},fe.useImperativeHandle=function(T,K,R){return q.H.useImperativeHandle(T,K,R)},fe.useInsertionEffect=function(T,K){return q.H.useInsertionEffect(T,K)},fe.useLayoutEffect=function(T,K){return q.H.useLayoutEffect(T,K)},fe.useMemo=function(T,K){return q.H.useMemo(T,K)},fe.useOptimistic=function(T,K){return q.H.useOptimistic(T,K)},fe.useReducer=function(T,K,R){return q.H.useReducer(T,K,R)},fe.useRef=function(T){return q.H.useRef(T)},fe.useState=function(T){return q.H.useState(T)},fe.useSyncExternalStore=function(T,K,R){return q.H.useSyncExternalStore(T,K,R)},fe.useTransition=function(){return q.H.useTransition()},fe.version="19.2.4",fe}var Wm;function Lu(){return Wm||(Wm=1,iu.exports=uv()),iu.exports}var w=Lu(),ru={exports:{}},Ti={},lu={exports:{}},ou={};var Fm;function dv(){return Fm||(Fm=1,(function(s){function a($,P){var ne=$.length;$.push(P);e:for(;0<ne;){var xe=ne-1>>>1,Ae=$[xe];if(0<u(Ae,P))$[xe]=P,$[ne]=Ae,ne=xe;else break e}}function r($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var P=$[0],ne=$.pop();if(ne!==P){$[0]=ne;e:for(var xe=0,Ae=$.length,T=Ae>>>1;xe<T;){var K=2*(xe+1)-1,R=$[K],Q=K+1,le=$[Q];if(0>u(R,ne))Q<Ae&&0>u(le,R)?($[xe]=le,$[Q]=ne,xe=Q):($[xe]=R,$[K]=ne,xe=K);else if(Q<Ae&&0>u(le,ne))$[xe]=le,$[Q]=ne,xe=Q;else break e}}return P}function u($,P){var ne=$.sortIndex-P.sortIndex;return ne!==0?ne:$.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],p=[],v=1,_=null,S=3,b=!1,A=!1,E=!1,C=!1,z=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H($){for(var P=r(p);P!==null;){if(P.callback===null)l(p);else if(P.startTime<=$)l(p),P.sortIndex=P.expirationTime,a(y,P);else break;P=r(p)}}function J($){if(E=!1,H($),!A)if(r(y)!==null)A=!0,I||(I=!0,re());else{var P=r(p);P!==null&&Ye(J,P.startTime-$)}}var I=!1,q=-1,F=5,se=-1;function Z(){return C?!0:!(s.unstable_now()-se<F)}function he(){if(C=!1,I){var $=s.unstable_now();se=$;var P=!0;try{e:{A=!1,E&&(E=!1,M(q),q=-1),b=!0;var ne=S;try{t:{for(H($),_=r(y);_!==null&&!(_.expirationTime>$&&Z());){var xe=_.callback;if(typeof xe=="function"){_.callback=null,S=_.priorityLevel;var Ae=xe(_.expirationTime<=$);if($=s.unstable_now(),typeof Ae=="function"){_.callback=Ae,H($),P=!0;break t}_===r(y)&&l(y),H($)}else l(y);_=r(y)}if(_!==null)P=!0;else{var T=r(p);T!==null&&Ye(J,T.startTime-$),P=!1}}break e}finally{_=null,S=ne,b=!1}P=void 0}}finally{P?re():I=!1}}}var re;if(typeof L=="function")re=function(){L(he)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Be=we.port2;we.port1.onmessage=he,re=function(){Be.postMessage(null)}}else re=function(){z(he,0)};function Ye($,P){q=z(function(){$(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function($){switch(S){case 1:case 2:case 3:var P=3;break;default:P=S}var ne=S;S=P;try{return $()}finally{S=ne}},s.unstable_requestPaint=function(){C=!0},s.unstable_runWithPriority=function($,P){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=S;S=$;try{return P()}finally{S=ne}},s.unstable_scheduleCallback=function($,P,ne){var xe=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?xe+ne:xe):ne=xe,$){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ne+Ae,$={id:v++,callback:P,priorityLevel:$,startTime:ne,expirationTime:Ae,sortIndex:-1},ne>xe?($.sortIndex=ne,a(p,$),r(y)===null&&$===r(p)&&(E?(M(q),q=-1):E=!0,Ye(J,ne-xe))):($.sortIndex=Ae,a(y,$),A||b||(A=!0,I||(I=!0,re()))),$},s.unstable_shouldYield=Z,s.unstable_wrapCallback=function($){var P=S;return function(){var ne=S;S=P;try{return $.apply(this,arguments)}finally{S=ne}}}})(ou)),ou}var eg;function hv(){return eg||(eg=1,lu.exports=dv()),lu.exports}var cu={exports:{}},ht={};var tg;function fv(){if(tg)return ht;tg=1;var s=Lu();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(y,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:y,containerInfo:p,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ht.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return h(y,p,null,v)},ht.flushSync=function(y){var p=f.T,v=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=p,l.p=v,l.d.f()}},ht.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},ht.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},ht.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:b}):v==="script"&&l.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},ht.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=m(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},ht.requestFormReset=function(y){l.d.r(y)},ht.unstable_batchedUpdates=function(y,p){return y(p)},ht.useFormState=function(y,p,v){return f.H.useFormState(y,p,v)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.4",ht}var ag;function mv(){if(ag)return cu.exports;ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),cu.exports=fv(),cu.exports}var ng;function gv(){if(ng)return Ti;ng=1;var s=hv(),a=Lu(),r=mv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(i=c.return,i!==null){n=i;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return y(c),e;if(d===i)return y(c),t;d=d.sibling}throw Error(l(188))}if(n.return!==i.return)n=c,i=d;else{for(var g=!1,x=c.child;x;){if(x===n){g=!0,n=c,i=d;break}if(x===i){g=!0,i=c,n=d;break}x=x.sibling}if(!g){for(x=d.child;x;){if(x===n){g=!0,n=d,i=c;break}if(x===i){g=!0,i=d,n=c;break}x=x.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var we=Symbol.for("react.client.reference");function Be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===we?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case z:return"Profiler";case C:return"StrictMode";case J:return"Suspense";case I:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case L:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Be(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return Be(e(t))}catch{}}return null}var Ye=Array.isArray,$=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},xe=[],Ae=-1;function T(e){return{current:e}}function K(e){0>Ae||(e.current=xe[Ae],xe[Ae]=null,Ae--)}function R(e,t){Ae++,xe[Ae]=e.current,e.current=t}var Q=T(null),le=T(null),ce=T(null),Se=T(null);function et(e,t){switch(R(ce,t),R(le,e),R(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(Q),R(Q,e)}function Ke(){K(Q),K(le),K(ce)}function Ds(e){e.memoizedState!==null&&R(Se,e);var t=Q.current,n=xm(t,e.type);t!==n&&(R(le,e),R(Q,n))}function Wi(e){le.current===e&&(K(Q),K(le)),Se.current===e&&(K(Se),wi._currentValue=ne)}var ql,Ju;function an(e){if(ql===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ql=t&&t[1]||"",Ju=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ql+e+Ju}var Hl=!1;function $l(e,t){if(!e||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var U=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){U=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){U=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),g=d[0],x=d[1];if(g&&x){var j=g.split(`
`),D=x.split(`
`);for(c=i=0;i<j.length&&!j[i].includes("DetermineComponentFrameRoot");)i++;for(;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;if(i===j.length||c===D.length)for(i=j.length-1,c=D.length-1;1<=i&&0<=c&&j[i]!==D[c];)c--;for(;1<=i&&0<=c;i--,c--)if(j[i]!==D[c]){if(i!==1||c!==1)do if(i--,c--,0>c||j[i]!==D[c]){var G=`
`+j[i].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=i&&0<=c);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?an(n):""}function qp(e,t){switch(e.tag){case 26:case 27:case 5:return an(e.type);case 16:return an("Lazy");case 13:return e.child!==t&&t!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return $l(e.type,!1);case 11:return $l(e.type.render,!1);case 1:return $l(e.type,!0);case 31:return an("Activity");default:return""}}function Qu(e){try{var t="",n=null;do t+=qp(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Gl=Object.prototype.hasOwnProperty,Vl=s.unstable_scheduleCallback,Yl=s.unstable_cancelCallback,Hp=s.unstable_shouldYield,$p=s.unstable_requestPaint,_t=s.unstable_now,Gp=s.unstable_getCurrentPriorityLevel,Pu=s.unstable_ImmediatePriority,Iu=s.unstable_UserBlockingPriority,Fi=s.unstable_NormalPriority,Vp=s.unstable_LowPriority,Zu=s.unstable_IdlePriority,Yp=s.log,Kp=s.unstable_setDisableYieldValue,Us=null,wt=null;function Ta(e){if(typeof Yp=="function"&&Kp(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Us,e)}catch{}}var St=Math.clz32?Math.clz32:Qp,Xp=Math.log,Jp=Math.LN2;function Qp(e){return e>>>=0,e===0?32:31-(Xp(e)/Jp|0)|0}var er=256,tr=262144,ar=4194304;function nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var x=i&134217727;return x!==0?(i=x&~d,i!==0?c=nn(i):(g&=x,g!==0?c=nn(g):n||(n=x&~e,n!==0&&(c=nn(n))))):(x=i&~d,x!==0?c=nn(x):g!==0?c=nn(g):n||(n=i&~e,n!==0&&(c=nn(n)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:c}function Ms(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var e=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ls(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ip(e,t,n,i,c,d){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,j=e.expirationTimes,D=e.hiddenUpdates;for(n=g&~n;0<n;){var G=31-St(n),Y=1<<G;x[G]=0,j[G]=-1;var U=D[G];if(U!==null)for(D[G]=null,G=0;G<U.length;G++){var B=U[G];B!==null&&(B.lane&=-536870913)}n&=~Y}i!==0&&Fu(e,i,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Fu(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-St(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function ed(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-St(n),c=1<<i;c&t|e[i]&t&&(e[i]|=t),n&=~c}}function td(e,t){var n=t&-t;return n=(n&42)!==0?1:Xl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Xl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ad(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Gm(e.type))}function nd(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var Aa=Math.random().toString(36).slice(2),it="__reactFiber$"+Aa,mt="__reactProps$"+Aa,Cn="__reactContainer$"+Aa,Ql="__reactEvents$"+Aa,Zp="__reactListeners$"+Aa,Wp="__reactHandles$"+Aa,sd="__reactResources$"+Aa,zs="__reactMarker$"+Aa;function Pl(e){delete e[it],delete e[mt],delete e[Ql],delete e[Zp],delete e[Wp]}function kn(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Em(e);e!==null;){if(n=e[it])return n;e=Em(e)}return t}e=n,n=e.parentNode}return null}function Dn(e){if(e=e[it]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Bs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Un(e){var t=e[sd];return t||(t=e[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[zs]=!0}var id=new Set,rd={};function sn(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(rd[e]=t,e=0;e<t.length;e++)id.add(t[e])}var Fp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ld={},od={};function e0(e){return Gl.call(od,e)?!0:Gl.call(ld,e)?!1:Fp.test(e)?od[e]=!0:(ld[e]=!0,!1)}function sr(e,t,n){if(e0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ir(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sa(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t0(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){if(!e._valueTracker){var t=cd(e)?"checked":"value";e._valueTracker=t0(e,t,""+e[t])}}function ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=cd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a0=/[\n"\\]/g;function Mt(e){return e.replace(a0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zl(e,t,n,i,c,d,g,x){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Wl(e,g,Ut(t)):n!=null?Wl(e,g,Ut(n)):i!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Ut(x):e.removeAttribute("name")}function dd(e,t,n,i,c,d,g,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Il(e);return}n=n!=null?""+Ut(n):"",t=t!=null?""+Ut(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=x?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Il(e)}function Wl(e,t,n){t==="number"&&rr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ln(e,t,n,i){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function hd(e,t,n){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ut(n):""}function fd(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(l(92));if(Ye(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ut(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Il(e)}function zn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var n0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||n0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var c in t)i=t[c],t.hasOwnProperty(c)&&n[c]!==i&&md(e,c,i)}else for(var d in t)t.hasOwnProperty(d)&&md(e,d,t[d])}function Fl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return i0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var eo=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,qn=null;function pd(e){var t=Dn(e);if(t&&(e=t.stateNode)){var n=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var c=i[mt]||null;if(!c)throw Error(l(90));Zl(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ud(i)}break e;case"textarea":hd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}}}var ao=!1;function yd(e,t,n){if(ao)return e(t,n);ao=!0;try{var i=e(t);return i}finally{if(ao=!1,(Bn!==null||qn!==null)&&(Qr(),Bn&&(t=Bn,e=qn,qn=Bn=null,pd(t),e)))for(t=0;t<e.length;t++)pd(e[t])}}function qs(e,t){var n=e.stateNode;if(n===null)return null;var i=n[mt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(ra)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){no=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{no=!1}var Ra=null,so=null,or=null;function vd(){if(or)return or;var e,t=so,n=t.length,i,c="value"in Ra?Ra.value:Ra.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===c[d-i];i++);return or=c.slice(e,1<i?1-i:void 0)}function cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function xd(){return!1}function gt(e){function t(n,i,c,d,g){this._reactName=n,this._targetInst=c,this.type=i,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:xd,this.isPropagationStopped=xd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=gt(rn),$s=_({},rn,{view:0,detail:0}),r0=gt($s),io,ro,Gs,hr=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(io=e.screenX-Gs.screenX,ro=e.screenY-Gs.screenY):ro=io=0,Gs=e),io)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),bd=gt(hr),l0=_({},hr,{dataTransfer:0}),o0=gt(l0),c0=_({},$s,{relatedTarget:0}),lo=gt(c0),u0=_({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),d0=gt(u0),h0=_({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f0=gt(h0),m0=_({},rn,{data:0}),_d=gt(m0),g0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y0[e])?!!t[e]:!1}function oo(){return v0}var x0=_({},$s,{key:function(e){if(e.key){var t=g0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b0=gt(x0),_0=_({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=gt(_0),w0=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),S0=gt(w0),j0=_({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),N0=gt(j0),E0=_({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=gt(E0),A0=_({},rn,{newState:0,oldState:0}),R0=gt(A0),O0=[9,13,27,32],co=ra&&"CompositionEvent"in window,Vs=null;ra&&"documentMode"in document&&(Vs=document.documentMode);var C0=ra&&"TextEvent"in window&&!Vs,Sd=ra&&(!co||Vs&&8<Vs&&11>=Vs),jd=" ",Nd=!1;function Ed(e,t){switch(e){case"keyup":return O0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function k0(e,t){switch(e){case"compositionend":return Td(t);case"keypress":return t.which!==32?null:(Nd=!0,jd);case"textInput":return e=t.data,e===jd&&Nd?null:e;default:return null}}function D0(e,t){if(Hn)return e==="compositionend"||!co&&Ed(e,t)?(e=vd(),or=so=Ra=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U0[e.type]:t==="textarea"}function Rd(e,t,n,i){Bn?qn?qn.push(i):qn=[i]:Bn=i,t=tl(t,"onChange"),0<t.length&&(n=new dr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ys=null,Ks=null;function M0(e){hm(e,0)}function fr(e){var t=Bs(e);if(ud(t))return e}function Od(e,t){if(e==="change")return t}var Cd=!1;if(ra){var uo;if(ra){var ho="oninput"in document;if(!ho){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),ho=typeof kd.oninput=="function"}uo=ho}else uo=!1;Cd=uo&&(!document.documentMode||9<document.documentMode)}function Dd(){Ys&&(Ys.detachEvent("onpropertychange",Ud),Ks=Ys=null)}function Ud(e){if(e.propertyName==="value"&&fr(Ks)){var t=[];Rd(t,Ks,e,to(e)),yd(M0,t)}}function L0(e,t,n){e==="focusin"?(Dd(),Ys=t,Ks=n,Ys.attachEvent("onpropertychange",Ud)):e==="focusout"&&Dd()}function z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fr(Ks)}function B0(e,t){if(e==="click")return fr(t)}function q0(e,t){if(e==="input"||e==="change")return fr(t)}function H0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:H0;function Xs(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var c=n[i];if(!Gl.call(t,c)||!jt(e[c],t[c]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var n=Md(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rr(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $0=ra&&"documentMode"in document&&11>=document.documentMode,$n=null,mo=null,Js=null,go=!1;function qd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||$n==null||$n!==rr(i)||(i=$n,"selectionStart"in i&&fo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Js&&Xs(Js,i)||(Js=i,i=tl(mo,"onSelect"),0<i.length&&(t=new dr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=$n)))}function ln(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},po={},Hd={};ra&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function on(e){if(po[e])return po[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hd)return po[e]=t[n];return e}var $d=on("animationend"),Gd=on("animationiteration"),Vd=on("animationstart"),G0=on("transitionrun"),V0=on("transitionstart"),Y0=on("transitioncancel"),Yd=on("transitionend"),Kd=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Kt(e,t){Kd.set(e,t),sn(t,[e])}var mr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Vn=0,vo=0;function gr(){for(var e=Vn,t=vo=Vn=0;t<e;){var n=Lt[t];Lt[t++]=null;var i=Lt[t];Lt[t++]=null;var c=Lt[t];Lt[t++]=null;var d=Lt[t];if(Lt[t++]=null,i!==null&&c!==null){var g=i.pending;g===null?c.next=c:(c.next=g.next,g.next=c),i.pending=c}d!==0&&Xd(n,c,d)}}function pr(e,t,n,i){Lt[Vn++]=e,Lt[Vn++]=t,Lt[Vn++]=n,Lt[Vn++]=i,vo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function xo(e,t,n,i){return pr(e,t,n,i),yr(e)}function cn(e,t){return pr(e,null,null,t),yr(e)}function Xd(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var c=!1,d=e.return;d!==null;)d.childLanes|=n,i=d.alternate,i!==null&&(i.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-St(n),e=d.hiddenUpdates,i=e[c],i===null?e[c]=[t]:i.push(t),t.lane=n|536870912),d):null}function yr(e){if(50<gi)throw gi=0,Ac=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yn={};function K0(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,i){return new K0(e,t,n,i)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vr(e,t,n,i,c,d){var g=0;if(i=e,typeof e=="function")bo(e)&&(g=1);else if(typeof e=="string")g=Iy(e,n,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=Nt(31,n,t,c),e.elementType=se,e.lanes=d,e;case E:return un(n.children,c,d,t);case C:g=8,c|=24;break;case z:return e=Nt(12,n,t,c|2),e.elementType=z,e.lanes=d,e;case J:return e=Nt(13,n,t,c),e.elementType=J,e.lanes=d,e;case I:return e=Nt(19,n,t,c),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:g=10;break e;case M:g=9;break e;case H:g=11;break e;case q:g=14;break e;case F:g=16,i=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Nt(g,n,t,c),t.elementType=e,t.type=i,t.lanes=d,t}function un(e,t,n,i){return e=Nt(7,e,i,t),e.lanes=n,e}function _o(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Qd(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function wo(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pd=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var n=Pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qu(t)},Pd.set(e,t),t)}return{value:e,source:t,stack:Qu(t)}}var Kn=[],Xn=0,xr=null,Qs=0,Bt=[],qt=0,Oa=null,Wt=1,Ft="";function oa(e,t){Kn[Xn++]=Qs,Kn[Xn++]=xr,xr=e,Qs=t}function Id(e,t,n){Bt[qt++]=Wt,Bt[qt++]=Ft,Bt[qt++]=Oa,Oa=e;var i=Wt;e=Ft;var c=32-St(i)-1;i&=~(1<<c),n+=1;var d=32-St(t)+c;if(30<d){var g=c-c%5;d=(i&(1<<g)-1).toString(32),i>>=g,c-=g,Wt=1<<32-St(t)+c|n<<c|i,Ft=d+e}else Wt=1<<d|n<<c|i,Ft=e}function So(e){e.return!==null&&(oa(e,1),Id(e,1,0))}function jo(e){for(;e===xr;)xr=Kn[--Xn],Kn[Xn]=null,Qs=Kn[--Xn],Kn[Xn]=null;for(;e===Oa;)Oa=Bt[--qt],Bt[qt]=null,Ft=Bt[--qt],Bt[qt]=null,Wt=Bt[--qt],Bt[qt]=null}function Zd(e,t){Bt[qt++]=Wt,Bt[qt++]=Ft,Bt[qt++]=Oa,Wt=t.id,Ft=t.overflow,Oa=e}var rt=null,Le=null,je=!1,Ca=null,Ht=!1,No=Error(l(519));function ka(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(zt(t,e)),No}function Wd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[it]=e,t[mt]=i,n){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(n=0;n<yi.length;n++)ve(yi[n],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),dd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),fd(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||pm(t.textContent,n)?(i.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),i.onScroll!=null&&ve("scroll",t),i.onScrollEnd!=null&&ve("scrollend",t),i.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||ka(e,!0)}function Fd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:rt=rt.return}}function Jn(e){if(e!==rt)return!1;if(!je)return Fd(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vc(e.type,e.memoizedProps)),n=!n),n&&Le&&ka(e),Fd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=Nm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=Nm(e)}else t===27?(t=Le,Xa(e.type)?(e=Qc,Qc=null,Le=e):Le=t):Le=rt?Gt(e.stateNode.nextSibling):null;return!0}function dn(){Le=rt=null,je=!1}function Eo(){var e=Ca;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Ca=null),e}function Ps(e){Ca===null?Ca=[e]:Ca.push(e)}var To=T(null),hn=null,ca=null;function Da(e,t,n){R(To,t._currentValue),t._currentValue=n}function ua(e){e._currentValue=To.current,K(To)}function Ao(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t,n,i){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=c;for(var j=0;j<t.length;j++)if(x.context===t[j]){d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Ao(d.return,n,e),i||(g=null);break e}d=x.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(l(341));g.lanes|=n,d=g.alternate,d!==null&&(d.lanes|=n),Ao(g,n,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Qn(e,t,n,i){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var x=c.type;jt(c.pendingProps.value,g.value)||(e!==null?e.push(x):e=[x])}}else if(c===Se.current){if(g=c.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wi):e=[wi])}c=c.return}e!==null&&Ro(t,e,n,i),t.flags|=262144}function br(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fn(e){hn=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return eh(hn,e)}function _r(e,t){return hn===null&&fn(e),eh(e,t)}function eh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ca===null){if(e===null)throw Error(l(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return n}var X0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},J0=s.unstable_scheduleCallback,Q0=s.unstable_NormalPriority,Qe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new X0,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&J0(Q0,function(){e.controller.abort()})}var Zs=null,Co=0,Pn=0,In=null;function P0(e,t){if(Zs===null){var n=Zs=[];Co=0,Pn=Uc(),In={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Co++,t.then(th,th),t}function th(){if(--Co===0&&Zs!==null){In!==null&&(In.status="fulfilled");var e=Zs;Zs=null,Pn=0,In=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function I0(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(i.status="rejected",i.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),i}var ah=$.S;$.S=function(e,t){Hf=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P0(e,t),ah!==null&&ah(e,t)};var mn=T(null);function ko(){var e=mn.current;return e!==null?e:Ue.pooledCache}function wr(e,t){t===null?R(mn,mn.current):R(mn,t.pool)}function nh(){var e=ko();return e===null?null:{parent:Qe._currentValue,pool:e}}var Zn=Error(l(460)),Do=Error(l(474)),Sr=Error(l(542)),jr={then:function(){}};function sh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ih(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ia,ia),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=i}},function(i){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e}throw pn=t,Zn}}function gn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(pn=n,Zn):n}}var pn=null;function rh(){if(pn===null)throw Error(l(459));var e=pn;return pn=null,e}function lh(e){if(e===Zn||e===Sr)throw Error(l(483))}var Wn=null,Ws=0;function Nr(e){var t=Ws;return Ws+=1,Wn===null&&(Wn=[]),ih(Wn,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Er(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function oh(e){function t(O,N){if(e){var k=O.deletions;k===null?(O.deletions=[N],O.flags|=16):k.push(N)}}function n(O,N){if(!e)return null;for(;N!==null;)t(O,N),N=N.sibling;return null}function i(O){for(var N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function c(O,N){return O=la(O,N),O.index=0,O.sibling=null,O}function d(O,N,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<N?(O.flags|=67108866,N):k):(O.flags|=67108866,N)):(O.flags|=1048576,N)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,N,k,V){return N===null||N.tag!==6?(N=_o(k,O.mode,V),N.return=O,N):(N=c(N,k),N.return=O,N)}function j(O,N,k,V){var ie=k.type;return ie===E?G(O,N,k.props.children,V,k.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===F&&gn(ie)===N.type)?(N=c(N,k.props),Fs(N,k),N.return=O,N):(N=vr(k.type,k.key,k.props,null,O.mode,V),Fs(N,k),N.return=O,N)}function D(O,N,k,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=wo(k,O.mode,V),N.return=O,N):(N=c(N,k.children||[]),N.return=O,N)}function G(O,N,k,V,ie){return N===null||N.tag!==7?(N=un(k,O.mode,V,ie),N.return=O,N):(N=c(N,k),N.return=O,N)}function Y(O,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=_o(""+N,O.mode,k),N.return=O,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return k=vr(N.type,N.key,N.props,null,O.mode,k),Fs(k,N),k.return=O,k;case A:return N=wo(N,O.mode,k),N.return=O,N;case F:return N=gn(N),Y(O,N,k)}if(Ye(N)||re(N))return N=un(N,O.mode,k,null),N.return=O,N;if(typeof N.then=="function")return Y(O,Nr(N),k);if(N.$$typeof===L)return Y(O,_r(O,N),k);Er(O,N)}return null}function U(O,N,k,V){var ie=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ie!==null?null:x(O,N,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===ie?j(O,N,k,V):null;case A:return k.key===ie?D(O,N,k,V):null;case F:return k=gn(k),U(O,N,k,V)}if(Ye(k)||re(k))return ie!==null?null:G(O,N,k,V,null);if(typeof k.then=="function")return U(O,N,Nr(k),V);if(k.$$typeof===L)return U(O,N,_r(O,k),V);Er(O,k)}return null}function B(O,N,k,V,ie){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return O=O.get(k)||null,x(N,O,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return O=O.get(V.key===null?k:V.key)||null,j(N,O,V,ie);case A:return O=O.get(V.key===null?k:V.key)||null,D(N,O,V,ie);case F:return V=gn(V),B(O,N,k,V,ie)}if(Ye(V)||re(V))return O=O.get(k)||null,G(N,O,V,ie,null);if(typeof V.then=="function")return B(O,N,k,Nr(V),ie);if(V.$$typeof===L)return B(O,N,k,_r(N,V),ie);Er(N,V)}return null}function W(O,N,k,V){for(var ie=null,Ne=null,ee=N,ge=N=0,_e=null;ee!==null&&ge<k.length;ge++){ee.index>ge?(_e=ee,ee=null):_e=ee.sibling;var Ee=U(O,ee,k[ge],V);if(Ee===null){ee===null&&(ee=_e);break}e&&ee&&Ee.alternate===null&&t(O,ee),N=d(Ee,N,ge),Ne===null?ie=Ee:Ne.sibling=Ee,Ne=Ee,ee=_e}if(ge===k.length)return n(O,ee),je&&oa(O,ge),ie;if(ee===null){for(;ge<k.length;ge++)ee=Y(O,k[ge],V),ee!==null&&(N=d(ee,N,ge),Ne===null?ie=ee:Ne.sibling=ee,Ne=ee);return je&&oa(O,ge),ie}for(ee=i(ee);ge<k.length;ge++)_e=B(ee,O,ge,k[ge],V),_e!==null&&(e&&_e.alternate!==null&&ee.delete(_e.key===null?ge:_e.key),N=d(_e,N,ge),Ne===null?ie=_e:Ne.sibling=_e,Ne=_e);return e&&ee.forEach(function(Za){return t(O,Za)}),je&&oa(O,ge),ie}function oe(O,N,k,V){if(k==null)throw Error(l(151));for(var ie=null,Ne=null,ee=N,ge=N=0,_e=null,Ee=k.next();ee!==null&&!Ee.done;ge++,Ee=k.next()){ee.index>ge?(_e=ee,ee=null):_e=ee.sibling;var Za=U(O,ee,Ee.value,V);if(Za===null){ee===null&&(ee=_e);break}e&&ee&&Za.alternate===null&&t(O,ee),N=d(Za,N,ge),Ne===null?ie=Za:Ne.sibling=Za,Ne=Za,ee=_e}if(Ee.done)return n(O,ee),je&&oa(O,ge),ie;if(ee===null){for(;!Ee.done;ge++,Ee=k.next())Ee=Y(O,Ee.value,V),Ee!==null&&(N=d(Ee,N,ge),Ne===null?ie=Ee:Ne.sibling=Ee,Ne=Ee);return je&&oa(O,ge),ie}for(ee=i(ee);!Ee.done;ge++,Ee=k.next())Ee=B(ee,O,ge,Ee.value,V),Ee!==null&&(e&&Ee.alternate!==null&&ee.delete(Ee.key===null?ge:Ee.key),N=d(Ee,N,ge),Ne===null?ie=Ee:Ne.sibling=Ee,Ne=Ee);return e&&ee.forEach(function(lv){return t(O,lv)}),je&&oa(O,ge),ie}function De(O,N,k,V){if(typeof k=="object"&&k!==null&&k.type===E&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:e:{for(var ie=k.key;N!==null;){if(N.key===ie){if(ie=k.type,ie===E){if(N.tag===7){n(O,N.sibling),V=c(N,k.props.children),V.return=O,O=V;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===F&&gn(ie)===N.type){n(O,N.sibling),V=c(N,k.props),Fs(V,k),V.return=O,O=V;break e}n(O,N);break}else t(O,N);N=N.sibling}k.type===E?(V=un(k.props.children,O.mode,V,k.key),V.return=O,O=V):(V=vr(k.type,k.key,k.props,null,O.mode,V),Fs(V,k),V.return=O,O=V)}return g(O);case A:e:{for(ie=k.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){n(O,N.sibling),V=c(N,k.children||[]),V.return=O,O=V;break e}else{n(O,N);break}else t(O,N);N=N.sibling}V=wo(k,O.mode,V),V.return=O,O=V}return g(O);case F:return k=gn(k),De(O,N,k,V)}if(Ye(k))return W(O,N,k,V);if(re(k)){if(ie=re(k),typeof ie!="function")throw Error(l(150));return k=ie.call(k),oe(O,N,k,V)}if(typeof k.then=="function")return De(O,N,Nr(k),V);if(k.$$typeof===L)return De(O,N,_r(O,k),V);Er(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(n(O,N.sibling),V=c(N,k),V.return=O,O=V):(n(O,N),V=_o(k,O.mode,V),V.return=O,O=V),g(O)):n(O,N)}return function(O,N,k,V){try{Ws=0;var ie=De(O,N,k,V);return Wn=null,ie}catch(ee){if(ee===Zn||ee===Sr)throw ee;var Ne=Nt(29,ee,null,O.mode);return Ne.lanes=V,Ne.return=O,Ne}}}var yn=oh(!0),ch=oh(!1),Ua=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Te&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,t=yr(e),Xd(e,null,n),t}return pr(e,i,t,n),yr(e)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ed(e,n)}}function Lo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var zo=!1;function ti(){if(zo){var e=In;if(e!==null)throw e}}function ai(e,t,n,i){zo=!1;var c=e.updateQueue;Ua=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var j=x,D=j.next;j.next=null,g===null?d=D:g.next=D,g=j;var G=e.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==g&&(x===null?G.firstBaseUpdate=D:x.next=D,G.lastBaseUpdate=j))}if(d!==null){var Y=c.baseState;g=0,G=D=j=null,x=d;do{var U=x.lane&-536870913,B=U!==x.lane;if(B?(be&U)===U:(i&U)===U){U!==0&&U===Pn&&(zo=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var W=e,oe=x;U=t;var De=n;switch(oe.tag){case 1:if(W=oe.payload,typeof W=="function"){Y=W.call(De,Y,U);break e}Y=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=oe.payload,U=typeof W=="function"?W.call(De,Y,U):W,U==null)break e;Y=_({},Y,U);break e;case 2:Ua=!0}}U=x.callback,U!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[U]:B.push(U))}else B={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(D=G=B,j=Y):G=G.next=B,g|=U;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;B=x,x=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(j=Y),c.baseState=j,c.firstBaseUpdate=D,c.lastBaseUpdate=G,d===null&&(c.shared.lanes=0),$a|=g,e.lanes=g,e.memoizedState=Y}}function uh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function dh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)uh(n[e],t)}var Fn=T(null),Tr=T(0);function hh(e,t){e=xa,R(Tr,e),R(Fn,t),xa=e|t.baseLanes}function Bo(){R(Tr,xa),R(Fn,Fn.current)}function qo(){xa=Tr.current,K(Fn),K(Tr)}var Et=T(null),$t=null;function za(e){var t=e.alternate;R(Xe,Xe.current&1),R(Et,e),$t===null&&(t===null||Fn.current!==null||t.memoizedState!==null)&&($t=e)}function Ho(e){R(Xe,Xe.current),R(Et,e),$t===null&&($t=e)}function fh(e){e.tag===22?(R(Xe,Xe.current),R(Et,e),$t===null&&($t=e)):Ba()}function Ba(){R(Xe,Xe.current),R(Et,Et.current)}function Tt(e){K(Et),$t===e&&($t=null),K(Xe)}var Xe=T(0);function Ar(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xc(n)||Jc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,me=null,Ce=null,Pe=null,Rr=!1,es=!1,vn=!1,Or=0,ni=0,ts=null,Z0=0;function $e(){throw Error(l(321))}function $o(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Go(e,t,n,i,c,d){return da=d,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Ih:nc,vn=!1,d=n(i,c),vn=!1,es&&(d=gh(t,n,i,c)),mh(e),d}function mh(e){$.H=ri;var t=Ce!==null&&Ce.next!==null;if(da=0,Pe=Ce=me=null,Rr=!1,ni=0,ts=null,t)throw Error(l(300));e===null||Ie||(e=e.dependencies,e!==null&&br(e)&&(Ie=!0))}function gh(e,t,n,i){me=e;var c=0;do{if(es&&(ts=null),ni=0,es=!1,25<=c)throw Error(l(301));if(c+=1,Pe=Ce=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Zh,d=t(n,i)}while(es);return d}function W0(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?si(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(me.flags|=1024),t}function Vo(){var e=Or!==0;return Or=0,e}function Yo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ko(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}da=0,Pe=Ce=me=null,es=!1,ni=Or=0,ts=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Je(){if(Ce===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Pe===null?me.memoizedState:Pe.next;if(t!==null)Pe=t,Ce=e;else{if(e===null)throw me.alternate===null?Error(l(467)):Error(l(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(e){var t=ni;return ni+=1,ts===null&&(ts=[]),e=ih(ts,e,t),t=me,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Ih:nc),e}function kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return si(e);if(e.$$typeof===L)return lt(e)}throw Error(l(438,String(e)))}function Xo(e){var t=null,n=me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=me.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Cr(),me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Z;return t.index++,n}function ha(e,t){return typeof t=="function"?t(e):t}function Dr(e){var t=Je();return Jo(t,Ce,e)}function Jo(e,t,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var c=e.baseQueue,d=i.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}t.baseQueue=c=d,i.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var x=g=null,j=null,D=t,G=!1;do{var Y=D.lane&-536870913;if(Y!==D.lane?(be&Y)===Y:(da&Y)===Y){var U=D.revertLane;if(U===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Y===Pn&&(G=!0);else if((da&U)===U){D=D.next,U===Pn&&(G=!0);continue}else Y={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},j===null?(x=j=Y,g=d):j=j.next=Y,me.lanes|=U,$a|=U;Y=D.action,vn&&n(d,Y),d=D.hasEagerState?D.eagerState:n(d,Y)}else U={lane:Y,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},j===null?(x=j=U,g=d):j=j.next=U,me.lanes|=Y,$a|=Y;D=D.next}while(D!==null&&D!==t);if(j===null?g=d:j.next=x,!jt(d,e.memoizedState)&&(Ie=!0,G&&(n=In,n!==null)))throw n;e.memoizedState=d,e.baseState=g,e.baseQueue=j,i.lastRenderedState=d}return c===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Qo(e){var t=Je(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);jt(d,t.memoizedState)||(Ie=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,i]}function ph(e,t,n){var i=me,c=Je(),d=je;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!jt((Ce||c).memoizedState,n);if(g&&(c.memoizedState=n,Ie=!0),c=c.queue,Zo(xh.bind(null,i,c,e),[e]),c.getSnapshot!==t||g||Pe!==null&&Pe.memoizedState.tag&1){if(i.flags|=2048,as(9,{destroy:void 0},vh.bind(null,i,c,n,t),null),Ue===null)throw Error(l(349));d||(da&127)!==0||yh(i,t,n)}return n}function yh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t=Cr(),me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vh(e,t,n,i){t.value=n,t.getSnapshot=i,bh(t)&&_h(e)}function xh(e,t,n){return n(function(){bh(t)&&_h(e)})}function bh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function _h(e){var t=cn(e,2);t!==null&&bt(t,e,2)}function Po(e){var t=ft();if(typeof e=="function"){var n=e;if(e=n(),vn){Ta(!0);try{n()}finally{Ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function wh(e,t,n,i){return e.baseState=n,Jo(e,Ce,typeof i=="function"?i:ha)}function F0(e,t,n,i,c){if(Lr(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};$.T!==null?n(!0):d.isTransition=!1,i(d),n=t.pending,n===null?(d.next=t.pending=d,Sh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Sh(e,t){var n=t.action,i=t.payload,c=e.state;if(t.isTransition){var d=$.T,g={};$.T=g;try{var x=n(c,i),j=$.S;j!==null&&j(g,x),jh(e,t,x)}catch(D){Io(e,t,D)}finally{d!==null&&g.types!==null&&(d.types=g.types),$.T=d}}else try{d=n(c,i),jh(e,t,d)}catch(D){Io(e,t,D)}}function jh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Nh(e,t,i)},function(i){return Io(e,t,i)}):Nh(e,t,n)}function Nh(e,t,n){t.status="fulfilled",t.value=n,Eh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Sh(e,n)))}function Io(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Eh(t),t=t.next;while(t!==i)}e.action=null}function Eh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Th(e,t){return t}function Ah(e,t){if(je){var n=Ue.formState;if(n!==null){e:{var i=me;if(je){if(Le){t:{for(var c=Le,d=Ht;c.nodeType!==8;){if(!d){c=null;break t}if(c=Gt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Le=Gt(c.nextSibling),i=c.data==="F!";break e}}ka(i)}i=!1}i&&(t=n[0])}}return n=ft(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:t},n.queue=i,n=Jh.bind(null,me,i),i.dispatch=n,i=Po(!1),d=ac.bind(null,me,!1,i.queue),i=ft(),c={state:t,dispatch:null,action:e,pending:null},i.queue=c,n=F0.bind(null,me,c,d,n),c.dispatch=n,i.memoizedState=e,[t,n,!1]}function Rh(e){var t=Je();return Oh(t,Ce,e)}function Oh(e,t,n){if(t=Jo(e,t,Th)[0],e=Dr(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=si(t)}catch(g){throw g===Zn?Sr:g}else i=t;t=Je();var c=t.queue,d=c.dispatch;return n!==t.memoizedState&&(me.flags|=2048,as(9,{destroy:void 0},ey.bind(null,c,n),null)),[i,d,e]}function ey(e,t){e.action=t}function Ch(e){var t=Je(),n=Ce;if(n!==null)return Oh(t,n,e);Je(),t=t.memoizedState,n=Je();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function as(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=me.updateQueue,t===null&&(t=Cr(),me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function kh(){return Je().memoizedState}function Ur(e,t,n,i){var c=ft();me.flags|=e,c.memoizedState=as(1|t,{destroy:void 0},n,i===void 0?null:i)}function Mr(e,t,n,i){var c=Je();i=i===void 0?null:i;var d=c.memoizedState.inst;Ce!==null&&i!==null&&$o(i,Ce.memoizedState.deps)?c.memoizedState=as(t,d,n,i):(me.flags|=e,c.memoizedState=as(1|t,d,n,i))}function Dh(e,t){Ur(8390656,8,e,t)}function Zo(e,t){Mr(2048,8,e,t)}function ty(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=Cr(),me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Uh(e){var t=Je().memoizedState;return ty({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Mh(e,t){return Mr(4,2,e,t)}function Lh(e,t){return Mr(4,4,e,t)}function zh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bh(e,t,n){n=n!=null?n.concat([e]):null,Mr(4,4,zh.bind(null,t,e),n)}function Wo(){}function qh(e,t){var n=Je();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&$o(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Hh(e,t){var n=Je();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&$o(t,i[1]))return i[0];if(i=e(),vn){Ta(!0);try{e()}finally{Ta(!1)}}return n.memoizedState=[i,t],i}function Fo(e,t,n){return n===void 0||(da&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Gf(),me.lanes|=e,$a|=e,n)}function $h(e,t,n,i){return jt(n,t)?n:Fn.current!==null?(e=Fo(e,n,i),jt(e,t)||(Ie=!0),e):(da&42)===0||(da&1073741824)!==0&&(be&261930)===0?(Ie=!0,e.memoizedState=n):(e=Gf(),me.lanes|=e,$a|=e,t)}function Gh(e,t,n,i,c){var d=P.p;P.p=d!==0&&8>d?d:8;var g=$.T,x={};$.T=x,ac(e,!1,t,n);try{var j=c(),D=$.S;if(D!==null&&D(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=I0(j,i);ii(e,t,G,Ot(e))}else ii(e,t,i,Ot(e))}catch(Y){ii(e,t,{then:function(){},status:"rejected",reason:Y},Ot())}finally{P.p=d,g!==null&&x.types!==null&&(g.types=x.types),$.T=g}}function ay(){}function ec(e,t,n,i){if(e.tag!==5)throw Error(l(476));var c=Vh(e).queue;Gh(e,c,t,ne,n===null?ay:function(){return Yh(e),n(i)})}function Vh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ne},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yh(e){var t=Vh(e);t.next===null&&(t=e.alternate.memoizedState),ii(e,t.next.queue,{},Ot())}function tc(){return lt(wi)}function Kh(){return Je().memoizedState}function Xh(){return Je().memoizedState}function ny(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=Ma(n);var i=La(t,e,n);i!==null&&(bt(i,t,n),ei(i,t,n)),t={cache:Oo()},e.payload=t;return}t=t.return}}function sy(e,t,n){var i=Ot();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lr(e)?Qh(t,n):(n=xo(e,t,n,i),n!==null&&(bt(n,e,i),Ph(n,t,i)))}function Jh(e,t,n){var i=Ot();ii(e,t,n,i)}function ii(e,t,n,i){var c={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lr(e))Qh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,x=d(g,n);if(c.hasEagerState=!0,c.eagerState=x,jt(x,g))return pr(e,t,c,0),Ue===null&&gr(),!1}catch{}if(n=xo(e,t,c,i),n!==null)return bt(n,e,i),Ph(n,t,i),!0}return!1}function ac(e,t,n,i){if(i={lane:2,revertLane:Uc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Lr(e)){if(t)throw Error(l(479))}else t=xo(e,n,i,2),t!==null&&bt(t,e,2)}function Lr(e){var t=e.alternate;return e===me||t!==null&&t===me}function Qh(e,t){es=Rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ph(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ed(e,n)}}var ri={readContext:lt,use:kr,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};ri.useEffectEvent=$e;var Ih={readContext:lt,use:kr,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Dh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=ft();t=t===void 0?null:t;var i=e();if(vn){Ta(!0);try{e()}finally{Ta(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ft();if(n!==void 0){var c=n(t);if(vn){Ta(!0);try{n(t)}finally{Ta(!1)}}}else c=t;return i.memoizedState=i.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},i.queue=e,e=e.dispatch=sy.bind(null,me,e),[i.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Po(e);var t=e.queue,n=Jh.bind(null,me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wo,useDeferredValue:function(e,t){var n=ft();return Fo(n,e,t)},useTransition:function(){var e=Po(!1);return e=Gh.bind(null,me,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=me,c=ft();if(je){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Ue===null)throw Error(l(349));(be&127)!==0||yh(i,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,Dh(xh.bind(null,i,d,e),[e]),i.flags|=2048,as(9,{destroy:void 0},vh.bind(null,i,d,n,t),null),n},useId:function(){var e=ft(),t=Ue.identifierPrefix;if(je){var n=Ft,i=Wt;n=(i&~(1<<32-St(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Z0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tc,useFormState:Ah,useActionState:Ah,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ac.bind(null,me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xo,useCacheRefresh:function(){return ft().memoizedState=ny.bind(null,me)},useEffectEvent:function(e){var t=ft(),n={impl:e};return t.memoizedState=n,function(){if((Te&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},nc={readContext:lt,use:kr,useCallback:qh,useContext:lt,useEffect:Zo,useImperativeHandle:Bh,useInsertionEffect:Mh,useLayoutEffect:Lh,useMemo:Hh,useReducer:Dr,useRef:kh,useState:function(){return Dr(ha)},useDebugValue:Wo,useDeferredValue:function(e,t){var n=Je();return $h(n,Ce.memoizedState,e,t)},useTransition:function(){var e=Dr(ha)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:ph,useId:Kh,useHostTransitionStatus:tc,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var n=Je();return wh(n,Ce,e,t)},useMemoCache:Xo,useCacheRefresh:Xh};nc.useEffectEvent=Uh;var Zh={readContext:lt,use:kr,useCallback:qh,useContext:lt,useEffect:Zo,useImperativeHandle:Bh,useInsertionEffect:Mh,useLayoutEffect:Lh,useMemo:Hh,useReducer:Qo,useRef:kh,useState:function(){return Qo(ha)},useDebugValue:Wo,useDeferredValue:function(e,t){var n=Je();return Ce===null?Fo(n,e,t):$h(n,Ce.memoizedState,e,t)},useTransition:function(){var e=Qo(ha)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:ph,useId:Kh,useHostTransitionStatus:tc,useFormState:Ch,useActionState:Ch,useOptimistic:function(e,t){var n=Je();return Ce!==null?wh(n,Ce,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:Xh};Zh.useEffectEvent=Uh;function sc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ot(),c=Ma(i);c.payload=t,n!=null&&(c.callback=n),t=La(e,c,i),t!==null&&(bt(t,e,i),ei(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ot(),c=Ma(i);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=La(e,c,i),t!==null&&(bt(t,e,i),ei(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),i=Ma(n);i.tag=2,t!=null&&(i.callback=t),t=La(e,i,n),t!==null&&(bt(t,e,n),ei(t,e,n))}};function Wh(e,t,n,i,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,g):t.prototype&&t.prototype.isPureReactComponent?!Xs(n,i)||!Xs(c,d):!0}function Fh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function xn(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function ef(e){mr(e)}function tf(e){console.error(e)}function af(e){mr(e)}function zr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function nf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function rc(e,t,n){return n=Ma(n),n.tag=3,n.payload={element:null},n.callback=function(){zr(e,t)},n}function sf(e){return e=Ma(e),e.tag=3,e}function rf(e,t,n,i){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;e.payload=function(){return c(d)},e.callback=function(){nf(t,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){nf(t,n,i),typeof c!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})})}function iy(e,t,n,i,c){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Qn(t,n,c,!0),n=Et.current,n!==null){switch(n.tag){case 31:case 13:return $t===null?Pr():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=c,i===jr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Cc(e,i,c)),!1;case 22:return n.flags|=65536,i===jr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Cc(e,i,c)),!1}throw Error(l(435,n.tag))}return Cc(e,i,c),Pr(),!1}if(je)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,i!==No&&(e=Error(l(422),{cause:i}),Ps(zt(e,n)))):(i!==No&&(t=Error(l(423),{cause:i}),Ps(zt(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,i=zt(i,n),c=rc(e.stateNode,i,c),Lo(e,c),Ge!==4&&(Ge=2)),!1;var d=Error(l(520),{cause:i});if(d=zt(d,n),mi===null?mi=[d]:mi.push(d),Ge!==4&&(Ge=2),t===null)return!0;i=zt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=rc(n.stateNode,i,e),Lo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ga===null||!Ga.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=sf(c),rf(c,e,n,i),Lo(n,c),!1}n=n.return}while(n!==null);return!1}var lc=Error(l(461)),Ie=!1;function ot(e,t,n,i){t.child=e===null?ch(t,null,n,i):yn(t,e.child,n,i)}function lf(e,t,n,i,c){n=n.render;var d=t.ref;if("ref"in i){var g={};for(var x in i)x!=="ref"&&(g[x]=i[x])}else g=i;return fn(t),i=Go(e,t,n,g,d,c),x=Vo(),e!==null&&!Ie?(Yo(e,t,c),fa(e,t,c)):(je&&x&&So(t),t.flags|=1,ot(e,t,i,c),t.child)}function of(e,t,n,i,c){if(e===null){var d=n.type;return typeof d=="function"&&!bo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,cf(e,t,d,i,c)):(e=vr(n.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!gc(e,c)){var g=d.memoizedProps;if(n=n.compare,n=n!==null?n:Xs,n(g,i)&&e.ref===t.ref)return fa(e,t,c)}return t.flags|=1,e=la(d,i),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,n,i,c){if(e!==null){var d=e.memoizedProps;if(Xs(d,i)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=i=d,gc(e,c))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,fa(e,t,c)}return oc(e,t,n,i,c)}function uf(e,t,n,i){var c=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(i=t.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;i=c&~d}else i=0,t.child=null;return df(e,t,d,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wr(t,d!==null?d.cachePool:null),d!==null?hh(t,d):Bo(),fh(t);else return i=t.lanes=536870912,df(e,t,d!==null?d.baseLanes|n:n,n,i)}else d!==null?(wr(t,d.cachePool),hh(t,d),Ba(),t.memoizedState=null):(e!==null&&wr(t,null),Bo(),Ba());return ot(e,t,c,n),t.child}function li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function df(e,t,n,i,c){var d=ko();return d=d===null?null:{parent:Qe._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&wr(t,null),Bo(),fh(t),e!==null&&Qn(e,t,i,!0),t.childLanes=c,null}function Br(e,t){return t=Hr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hf(e,t,n){return yn(t,e.child,null,n),e=Br(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function ry(e,t,n){var i=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(i.mode==="hidden")return e=Br(t,i),t.lanes=536870912,li(null,e);if(Ho(t),(e=Le)?(e=jm(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},n=Qd(e),n.return=t,t.child=n,rt=t,Le=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return Br(t,i)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Ho(t),c)if(t.flags&256)t.flags&=-257,t=hf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ie||Qn(e,t,n,!1),c=(n&e.childLanes)!==0,Ie||c){if(i=Ue,i!==null&&(g=td(i,n),g!==0&&g!==d.retryLane))throw d.retryLane=g,cn(e,g),bt(i,e,g),lc;Pr(),t=hf(e,t,n)}else e=d.treeContext,Le=Gt(g.nextSibling),rt=t,je=!0,Ca=null,Ht=!1,e!==null&&Zd(t,e),t=Br(t,i),t.flags|=4096;return t}return e=la(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function oc(e,t,n,i,c){return fn(t),n=Go(e,t,n,i,void 0,c),i=Vo(),e!==null&&!Ie?(Yo(e,t,c),fa(e,t,c)):(je&&i&&So(t),t.flags|=1,ot(e,t,n,c),t.child)}function ff(e,t,n,i,c,d){return fn(t),t.updateQueue=null,n=gh(t,i,n,c),mh(e),i=Vo(),e!==null&&!Ie?(Yo(e,t,d),fa(e,t,d)):(je&&i&&So(t),t.flags|=1,ot(e,t,n,d),t.child)}function mf(e,t,n,i,c){if(fn(t),t.stateNode===null){var d=Yn,g=n.contextType;typeof g=="object"&&g!==null&&(d=lt(g)),d=new n(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ic,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},Uo(t),g=n.contextType,d.context=typeof g=="object"&&g!==null?lt(g):Yn,d.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(sc(t,n,g,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&ic.enqueueReplaceState(d,d.state,null),ai(t,i,d,c),ti(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,j=xn(n,x);d.props=j;var D=d.context,G=n.contextType;g=Yn,typeof G=="object"&&G!==null&&(g=lt(G));var Y=n.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||D!==g)&&Fh(t,d,i,g),Ua=!1;var U=t.memoizedState;d.state=U,ai(t,i,d,c),ti(),D=t.memoizedState,x||U!==D||Ua?(typeof Y=="function"&&(sc(t,n,Y,i),D=t.memoizedState),(j=Ua||Wh(t,n,j,i,U,D,g))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=D),d.props=i,d.state=D,d.context=g,i=j):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Mo(e,t),g=t.memoizedProps,G=xn(n,g),d.props=G,Y=t.pendingProps,U=d.context,D=n.contextType,j=Yn,typeof D=="object"&&D!==null&&(j=lt(D)),x=n.getDerivedStateFromProps,(D=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==Y||U!==j)&&Fh(t,d,i,j),Ua=!1,U=t.memoizedState,d.state=U,ai(t,i,d,c),ti();var B=t.memoizedState;g!==Y||U!==B||Ua||e!==null&&e.dependencies!==null&&br(e.dependencies)?(typeof x=="function"&&(sc(t,n,x,i),B=t.memoizedState),(G=Ua||Wh(t,n,G,i,U,B,j)||e!==null&&e.dependencies!==null&&br(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,B,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,B,j)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=B),d.props=i,d.state=B,d.context=j,i=G):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,qr(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=yn(t,e.child,null,c),t.child=yn(t,null,n,c)):ot(e,t,n,c),t.memoizedState=d.state,e=t.child):e=fa(e,t,c),e}function gf(e,t,n,i){return dn(),t.flags|=256,ot(e,t,n,i),t.child}var cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:nh()}}function dc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rt),e}function pf(e,t,n){var i=t.pendingProps,c=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(c?za(t):Ba(),(e=Le)?(e=jm(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},n=Qd(e),n.return=t,t.child=n,rt=t,Le=null)):e=null,e===null)throw ka(t);return Jc(e)?t.lanes=32:t.lanes=536870912,null}var x=i.children;return i=i.fallback,c?(Ba(),c=t.mode,x=Hr({mode:"hidden",children:x},c),i=un(i,c,n,null),x.return=t,i.return=t,x.sibling=i,t.child=x,i=t.child,i.memoizedState=uc(n),i.childLanes=dc(e,g,n),t.memoizedState=cc,li(null,i)):(za(t),hc(t,x))}var j=e.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(d)t.flags&256?(za(t),t.flags&=-257,t=fc(e,t,n)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),x=i.fallback,c=t.mode,i=Hr({mode:"visible",children:i.children},c),x=un(x,c,n,null),x.flags|=2,i.return=t,x.return=t,i.sibling=x,t.child=i,yn(t,e.child,null,n),i=t.child,i.memoizedState=uc(n),i.childLanes=dc(e,g,n),t.memoizedState=cc,t=li(null,i));else if(za(t),Jc(x)){if(g=x.nextSibling&&x.nextSibling.dataset,g)var D=g.dgst;g=D,i=Error(l(419)),i.stack="",i.digest=g,Ps({value:i,source:null,stack:null}),t=fc(e,t,n)}else if(Ie||Qn(e,t,n,!1),g=(n&e.childLanes)!==0,Ie||g){if(g=Ue,g!==null&&(i=td(g,n),i!==0&&i!==j.retryLane))throw j.retryLane=i,cn(e,i),bt(g,e,i),lc;Xc(x)||Pr(),t=fc(e,t,n)}else Xc(x)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Le=Gt(x.nextSibling),rt=t,je=!0,Ca=null,Ht=!1,e!==null&&Zd(t,e),t=hc(t,i.children),t.flags|=4096);return t}return c?(Ba(),x=i.fallback,c=t.mode,j=e.child,D=j.sibling,i=la(j,{mode:"hidden",children:i.children}),i.subtreeFlags=j.subtreeFlags&65011712,D!==null?x=la(D,x):(x=un(x,c,n,null),x.flags|=2),x.return=t,i.return=t,i.sibling=x,t.child=i,li(null,i),i=t.child,x=e.child.memoizedState,x===null?x=uc(n):(c=x.cachePool,c!==null?(j=Qe._currentValue,c=c.parent!==j?{parent:j,pool:j}:c):c=nh(),x={baseLanes:x.baseLanes|n,cachePool:c}),i.memoizedState=x,i.childLanes=dc(e,g,n),t.memoizedState=cc,li(e.child,i)):(za(t),n=e.child,e=n.sibling,n=la(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function hc(e,t){return t=Hr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hr(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function fc(e,t,n){return yn(t,e.child,null,n),e=hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ao(e.return,t,n)}function mc(e,t,n,i,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:c,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=n,g.tailMode=c,g.treeForkCount=d)}function vf(e,t,n){var i=t.pendingProps,c=i.revealOrder,d=i.tail;i=i.children;var g=Xe.current,x=(g&2)!==0;if(x?(g=g&1|2,t.flags|=128):g&=1,R(Xe,g),ot(e,t,i,n),i=je?Qs:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yf(e,n,t);else if(e.tag===19)yf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ar(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),mc(t,!1,c,n,d,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ar(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}mc(t,!0,n,null,d,i);break;case"together":mc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function fa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Qn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=la(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=la(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&br(e)))}function ly(e,t,n){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),Da(t,Qe,e.memoizedState.cache),dn();break;case 27:case 5:Ds(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ho(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(za(t),t.flags|=128,null):(n&t.child.childLanes)!==0?pf(e,t,n):(za(t),e=fa(e,t,n),e!==null?e.sibling:null);za(t);break;case 19:var c=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Qn(e,t,n,!1),i=(n&t.childLanes)!==0),c){if(i)return vf(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),R(Xe,Xe.current),i)break;return null;case 22:return t.lanes=0,uf(e,t,n,t.pendingProps);case 24:Da(t,Qe,e.memoizedState.cache)}return fa(e,t,n)}function xf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!gc(e,n)&&(t.flags&128)===0)return Ie=!1,ly(e,t,n);Ie=(e.flags&131072)!==0}else Ie=!1,je&&(t.flags&1048576)!==0&&Id(t,Qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=gn(t.elementType),t.type=e,typeof e=="function")bo(e)?(i=xn(e,i),t.tag=1,t=mf(null,t,e,i,n)):(t.tag=0,t=oc(null,t,e,i,n));else{if(e!=null){var c=e.$$typeof;if(c===H){t.tag=11,t=lf(null,t,e,i,n);break e}else if(c===q){t.tag=14,t=of(null,t,e,i,n);break e}}throw t=Be(e)||e,Error(l(306,t,""))}}return t;case 0:return oc(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,c=xn(i,t.pendingProps),mf(e,t,i,c,n);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var d=t.memoizedState;c=d.element,Mo(e,t),ai(t,i,null,n);var g=t.memoizedState;if(i=g.cache,Da(t,Qe,i),i!==d.cache&&Ro(t,[Qe],n,!0),ti(),i=g.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=gf(e,t,i,n);break e}else if(i!==c){c=zt(Error(l(424)),t),Ps(c),t=gf(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=Gt(e.firstChild),rt=t,je=!0,Ca=null,Ht=!0,n=ch(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dn(),i===c){t=fa(e,t,n);break e}ot(e,t,i,n)}t=t.child}return t;case 26:return qr(e,t),e===null?(n=Om(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,i=al(ce.current).createElement(n),i[it]=t,i[mt]=e,ct(i,n,e),nt(i),t.stateNode=i):t.memoizedState=Om(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ds(t),e===null&&je&&(i=t.stateNode=Tm(t.type,t.pendingProps,ce.current),rt=t,Ht=!0,c=Le,Xa(t.type)?(Qc=c,Le=Gt(i.firstChild)):Le=c),ot(e,t,t.pendingProps.children,n),qr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((c=i=Le)&&(i=zy(i,t.type,t.pendingProps,Ht),i!==null?(t.stateNode=i,rt=t,Le=Gt(i.firstChild),Ht=!1,c=!0):c=!1),c||ka(t)),Ds(t),c=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,i=d.children,Vc(c,d)?i=null:g!==null&&Vc(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Go(e,t,W0,null,null,n),wi._currentValue=c),qr(e,t),ot(e,t,i,n),t.child;case 6:return e===null&&je&&((e=n=Le)&&(n=By(n,t.pendingProps,Ht),n!==null?(t.stateNode=n,rt=t,Le=null,e=!0):e=!1),e||ka(t)),null;case 13:return pf(e,t,n);case 4:return et(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=yn(t,null,i,n):ot(e,t,i,n),t.child;case 11:return lf(e,t,t.type,t.pendingProps,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Da(t,t.type,i.value),ot(e,t,i.children,n),t.child;case 9:return c=t.type._context,i=t.pendingProps.children,fn(t),c=lt(c),i=i(c),t.flags|=1,ot(e,t,i,n),t.child;case 14:return of(e,t,t.type,t.pendingProps,n);case 15:return cf(e,t,t.type,t.pendingProps,n);case 19:return vf(e,t,n);case 31:return ry(e,t,n);case 22:return uf(e,t,n,t.pendingProps);case 24:return fn(t),i=lt(Qe),e===null?(c=ko(),c===null&&(c=Ue,d=Oo(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),t.memoizedState={parent:i,cache:c},Uo(t),Da(t,Qe,c)):((e.lanes&n)!==0&&(Mo(e,t),ai(t,null,null,n),ti()),c=e.memoizedState,d=t.memoizedState,c.parent!==i?(c={parent:i,cache:i},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Da(t,Qe,i)):(i=d.cache,Da(t,Qe,i),i!==c.cache&&Ro(t,[Qe],n,!0))),ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ma(e){e.flags|=4}function pc(e,t,n,i,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Xf())e.flags|=8192;else throw pn=jr,Do}else e.flags&=-16777217}function bf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mm(t))if(Xf())e.flags|=8192;else throw pn=jr,Do}function $r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wu():536870912,e.lanes|=t,rs|=t)}function oi(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function oy(e,t,n){var i=t.pendingProps;switch(jo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ua(Qe),Ke(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jn(t)?ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo())),ze(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(ma(t),d!==null?(ze(t),bf(t,d)):(ze(t),pc(t,c,null,i,n))):d?d!==e.memoizedState?(ma(t),ze(t),bf(t,d)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ma(t),ze(t),pc(t,c,e,i,n)),null;case 27:if(Wi(t),n=ce.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ma(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=Q.current,Jn(t)?Wd(t):(e=Tm(c,i,n),t.stateNode=e,ma(t))}return ze(t),null;case 5:if(Wi(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ma(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(d=Q.current,Jn(t))Wd(t);else{var g=al(ce.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?g.createElement(c,{is:i.is}):g.createElement(c)}}d[it]=t,d[mt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(ct(d,c,i),c){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ma(t)}}return ze(t),pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ma(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=ce.current,Jn(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,c=rt,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||pm(e.nodeValue,n)),e||ka(t,!0)}else e=al(e).createTextNode(i),e[it]=t,t.stateNode=e}return ze(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Jn(t),n!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=t}else dn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else n=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return ze(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Jn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[it]=t}else dn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),c=!1}else c=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==c&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$r(t,t.updateQueue),ze(t),null);case 4:return Ke(),e===null&&Bc(t.stateNode.containerInfo),ze(t),null;case 10:return ua(t.type),ze(t),null;case 19:if(K(Xe),i=t.memoizedState,i===null)return ze(t),null;if(c=(t.flags&128)!==0,d=i.rendering,d===null)if(c)oi(i,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ar(e),d!==null){for(t.flags|=128,oi(i,!1),e=d.updateQueue,t.updateQueue=e,$r(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jd(n,e),n=n.sibling;return R(Xe,Xe.current&1|2),je&&oa(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&_t()>Xr&&(t.flags|=128,c=!0,oi(i,!1),t.lanes=4194304)}else{if(!c)if(e=Ar(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,$r(t,e),oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!je)return ze(t),null}else 2*_t()-i.renderingStartTime>Xr&&n!==536870912&&(t.flags|=128,c=!0,oi(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=Xe.current,R(Xe,c?n&1|2:n&1),je&&oa(t,i.treeForkCount),e):(ze(t),null);case 22:case 23:return Tt(t),qo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),n=t.updateQueue,n!==null&&$r(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&K(mn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ua(Qe),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function cy(e,t){switch(jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(Qe),Ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wi(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(l(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Xe),null;case 4:return Ke(),null;case 10:return ua(t.type),null;case 22:case 23:return Tt(t),qo(),e!==null&&K(mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(Qe),null;case 25:return null;default:return null}}function _f(e,t){switch(jo(t),t.tag){case 3:ua(Qe),Ke();break;case 26:case 27:case 5:Wi(t);break;case 4:Ke();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:K(Xe);break;case 10:ua(t.type);break;case 22:case 23:Tt(t),qo(),e!==null&&K(mn);break;case 24:ua(Qe)}}function ci(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&e)===e){i=void 0;var d=n.create,g=n.inst;i=d(),g.destroy=i}n=n.next}while(n!==c)}}catch(x){Oe(t,t.return,x)}}function qa(e,t,n){try{var i=t.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var d=c.next;i=d;do{if((i.tag&e)===e){var g=i.inst,x=g.destroy;if(x!==void 0){g.destroy=void 0,c=t;var j=n,D=x;try{D()}catch(G){Oe(c,j,G)}}}i=i.next}while(i!==d)}}catch(G){Oe(t,t.return,G)}}function wf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{dh(t,n)}catch(i){Oe(e,e.return,i)}}}function Sf(e,t,n){n.props=xn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Oe(e,t,i)}}function ui(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(c){Oe(e,t,c)}}function ea(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(c){Oe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Oe(e,t,c)}else n.current=null}function jf(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(c){Oe(e,e.return,c)}}function yc(e,t,n){try{var i=e.stateNode;Cy(i,e.type,n,t),i[mt]=t}catch(c){Oe(e,e.return,c)}}function Nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xa(e.type)||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ia));else if(i!==4&&(i===27&&Xa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}function Gr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Xa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gr(e,t,n),e=e.sibling;e!==null;)Gr(e,t,n),e=e.sibling}function Ef(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ct(t,i,n),t[it]=e,t[mt]=n}catch(d){Oe(e,e.return,d)}}var ga=!1,Ze=!1,bc=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,st=null;function uy(e,t){if(e=e.containerInfo,$c=cl,e=Bd(e),fo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var c=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var g=0,x=-1,j=-1,D=0,G=0,Y=e,U=null;t:for(;;){for(var B;Y!==n||c!==0&&Y.nodeType!==3||(x=g+c),Y!==d||i!==0&&Y.nodeType!==3||(j=g+i),Y.nodeType===3&&(g+=Y.nodeValue.length),(B=Y.firstChild)!==null;)U=Y,Y=B;for(;;){if(Y===e)break t;if(U===n&&++D===c&&(x=g),U===d&&++G===i&&(j=g),(B=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=B}n=x===-1||j===-1?null:{start:x,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gc={focusedElem:e,selectionRange:n},cl=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,c=d.memoizedProps,d=d.memoizedState,i=n.stateNode;try{var W=xn(n.type,c);e=i.getSnapshotBeforeUpdate(W,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Oe(n,n.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Kc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Af(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ya(e,n),i&4&&ci(5,n);break;case 1:if(ya(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){Oe(n,n.return,g)}else{var c=xn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Oe(n,n.return,g)}}i&64&&wf(n),i&512&&ui(n,n.return);break;case 3:if(ya(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{dh(e,t)}catch(g){Oe(n,n.return,g)}}break;case 27:t===null&&i&4&&Ef(n);case 26:case 5:ya(e,n),t===null&&i&4&&jf(n),i&512&&ui(n,n.return);break;case 12:ya(e,n);break;case 31:ya(e,n),i&4&&Cf(e,n);break;case 13:ya(e,n),i&4&&kf(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=xy.bind(null,n),qy(e,n))));break;case 22:if(i=n.memoizedState!==null||ga,!i){t=t!==null&&t.memoizedState!==null||Ze,c=ga;var d=Ze;ga=i,(Ze=t)&&!d?va(e,n,(n.subtreeFlags&8772)!==0):ya(e,n),ga=c,Ze=d}break;case 30:break;default:ya(e,n)}}function Rf(e){var t=e.alternate;t!==null&&(e.alternate=null,Rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,pt=!1;function pa(e,t,n){for(n=n.child;n!==null;)Of(e,t,n),n=n.sibling}function Of(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Us,n)}catch{}switch(n.tag){case 26:Ze||ea(n,t),pa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||ea(n,t);var i=qe,c=pt;Xa(n.type)&&(qe=n.stateNode,pt=!1),pa(e,t,n),xi(n.stateNode),qe=i,pt=c;break;case 5:Ze||ea(n,t);case 6:if(i=qe,c=pt,qe=null,pa(e,t,n),qe=i,pt=c,qe!==null)if(pt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(d){Oe(n,t,d)}else try{qe.removeChild(n.stateNode)}catch(d){Oe(n,t,d)}break;case 18:qe!==null&&(pt?(e=qe,wm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ms(e)):wm(qe,n.stateNode));break;case 4:i=qe,c=pt,qe=n.stateNode.containerInfo,pt=!0,pa(e,t,n),qe=i,pt=c;break;case 0:case 11:case 14:case 15:qa(2,n,t),Ze||qa(4,n,t),pa(e,t,n);break;case 1:Ze||(ea(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Sf(n,t,i)),pa(e,t,n);break;case 21:pa(e,t,n);break;case 22:Ze=(i=Ze)||n.memoizedState!==null,pa(e,t,n),Ze=i;break;default:pa(e,t,n)}}function Cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ms(e)}catch(n){Oe(t,t.return,n)}}}function kf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ms(e)}catch(n){Oe(t,t.return,n)}}function dy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tf),t;default:throw Error(l(435,e.tag))}}function Vr(e,t){var n=dy(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var c=by.bind(null,e,i);i.then(c,c)}})}function yt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var c=n[i],d=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 27:if(Xa(x.type)){qe=x.stateNode,pt=!1;break e}break;case 5:qe=x.stateNode,pt=!1;break e;case 3:case 4:qe=x.stateNode.containerInfo,pt=!0;break e}x=x.return}if(qe===null)throw Error(l(160));Of(d,g,c),qe=null,pt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Df(t,e),t=t.sibling}var Xt=null;function Df(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),vt(e),i&4&&(qa(3,e,e.return),ci(3,e),qa(5,e,e.return));break;case 1:yt(t,e),vt(e),i&512&&(Ze||n===null||ea(n,n.return)),i&64&&ga&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var c=Xt;if(yt(t,e),vt(e),i&512&&(Ze||n===null||ea(n,n.return)),i&4){var d=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(i){case"title":d=c.getElementsByTagName("title")[0],(!d||d[zs]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(i),c.head.insertBefore(d,c.querySelector("head > title"))),ct(d,i,n),d[it]=e,nt(d),i=d;break e;case"link":var g=Dm("link","href",c).get(i+(n.href||""));if(g){for(var x=0;x<g.length;x++)if(d=g[x],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(x,1);break t}}d=c.createElement(i),ct(d,i,n),c.head.appendChild(d);break;case"meta":if(g=Dm("meta","content",c).get(i+(n.content||""))){for(x=0;x<g.length;x++)if(d=g[x],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(x,1);break t}}d=c.createElement(i),ct(d,i,n),c.head.appendChild(d);break;default:throw Error(l(468,i))}d[it]=e,nt(d),i=d}e.stateNode=i}else Um(c,e.type,e.stateNode);else e.stateNode=km(c,i,e.memoizedProps);else d!==i?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,i===null?Um(c,e.type,e.stateNode):km(c,i,e.memoizedProps)):i===null&&e.stateNode!==null&&yc(e,e.memoizedProps,n.memoizedProps)}break;case 27:yt(t,e),vt(e),i&512&&(Ze||n===null||ea(n,n.return)),n!==null&&i&4&&yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yt(t,e),vt(e),i&512&&(Ze||n===null||ea(n,n.return)),e.flags&32){c=e.stateNode;try{zn(c,"")}catch(W){Oe(e,e.return,W)}}i&4&&e.stateNode!=null&&(c=e.memoizedProps,yc(e,c,n!==null?n.memoizedProps:c)),i&1024&&(bc=!0);break;case 6:if(yt(t,e),vt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(W){Oe(e,e.return,W)}}break;case 3:if(il=null,c=Xt,Xt=nl(t.containerInfo),yt(t,e),Xt=c,vt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(W){Oe(e,e.return,W)}bc&&(bc=!1,Uf(e));break;case 4:i=Xt,Xt=nl(e.stateNode.containerInfo),yt(t,e),vt(e),Xt=i;break;case 12:yt(t,e),vt(e);break;case 31:yt(t,e),vt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Vr(e,i)));break;case 13:yt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kr=_t()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Vr(e,i)));break;case 22:c=e.memoizedState!==null;var j=n!==null&&n.memoizedState!==null,D=ga,G=Ze;if(ga=D||c,Ze=G||j,yt(t,e),Ze=G,ga=D,vt(e),i&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||j||ga||Ze||bn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){j=n=t;try{if(d=j.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=j.stateNode;var Y=j.memoizedProps.style,U=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(W){Oe(j,j.return,W)}}}else if(t.tag===6){if(n===null){j=t;try{j.stateNode.nodeValue=c?"":j.memoizedProps}catch(W){Oe(j,j.return,W)}}}else if(t.tag===18){if(n===null){j=t;try{var B=j.stateNode;c?Sm(B,!0):Sm(j.stateNode,!1)}catch(W){Oe(j,j.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Vr(e,n))));break;case 19:yt(t,e),vt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Vr(e,i)));break;case 30:break;case 21:break;default:yt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Nf(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,d=vc(e);Gr(e,d,c);break;case 5:var g=n.stateNode;n.flags&32&&(zn(g,""),n.flags&=-33);var x=vc(e);Gr(e,x,g);break;case 3:case 4:var j=n.stateNode.containerInfo,D=vc(e);xc(e,D,j);break;default:throw Error(l(161))}}catch(G){Oe(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Uf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Af(e,t.alternate,t),t=t.sibling}function bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),bn(t);break;case 1:ea(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Sf(t,t.return,n),bn(t);break;case 27:xi(t.stateNode);case 26:case 5:ea(t,t.return),bn(t);break;case 22:t.memoizedState===null&&bn(t);break;case 30:bn(t);break;default:bn(t)}e=e.sibling}}function va(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,c=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:va(c,d,n),ci(4,d);break;case 1:if(va(c,d,n),i=d,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(D){Oe(i,i.return,D)}if(i=d,c=i.updateQueue,c!==null){var x=i.stateNode;try{var j=c.shared.hiddenCallbacks;if(j!==null)for(c.shared.hiddenCallbacks=null,c=0;c<j.length;c++)uh(j[c],x)}catch(D){Oe(i,i.return,D)}}n&&g&64&&wf(d),ui(d,d.return);break;case 27:Ef(d);case 26:case 5:va(c,d,n),n&&i===null&&g&4&&jf(d),ui(d,d.return);break;case 12:va(c,d,n);break;case 31:va(c,d,n),n&&g&4&&Cf(c,d);break;case 13:va(c,d,n),n&&g&4&&kf(c,d);break;case 22:d.memoizedState===null&&va(c,d,n),ui(d,d.return);break;case 30:break;default:va(c,d,n)}t=t.sibling}}function _c(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Is(n))}function wc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function Jt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mf(e,t,n,i),t=t.sibling}function Mf(e,t,n,i){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,n,i),c&2048&&ci(9,t);break;case 1:Jt(e,t,n,i);break;case 3:Jt(e,t,n,i),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(c&2048){Jt(e,t,n,i),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,x=d.onPostCommit;typeof x=="function"&&x(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Oe(t,t.return,j)}}else Jt(e,t,n,i);break;case 31:Jt(e,t,n,i);break;case 13:Jt(e,t,n,i);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Jt(e,t,n,i):di(e,t):d._visibility&2?Jt(e,t,n,i):(d._visibility|=2,ns(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),c&2048&&_c(g,t);break;case 24:Jt(e,t,n,i),c&2048&&wc(t.alternate,t);break;default:Jt(e,t,n,i)}}function ns(e,t,n,i,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,x=n,j=i,D=g.flags;switch(g.tag){case 0:case 11:case 15:ns(d,g,x,j,c),ci(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ns(d,g,x,j,c):di(d,g):(G._visibility|=2,ns(d,g,x,j,c)),c&&D&2048&&_c(g.alternate,g);break;case 24:ns(d,g,x,j,c),c&&D&2048&&wc(g.alternate,g);break;default:ns(d,g,x,j,c)}t=t.sibling}}function di(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,c=i.flags;switch(i.tag){case 22:di(n,i),c&2048&&_c(i.alternate,i);break;case 24:di(n,i),c&2048&&wc(i.alternate,i);break;default:di(n,i)}t=t.sibling}}var hi=8192;function ss(e,t,n){if(e.subtreeFlags&hi)for(e=e.child;e!==null;)Lf(e,t,n),e=e.sibling}function Lf(e,t,n){switch(e.tag){case 26:ss(e,t,n),e.flags&hi&&e.memoizedState!==null&&Zy(n,Xt,e.memoizedState,e.memoizedProps);break;case 5:ss(e,t,n);break;case 3:case 4:var i=Xt;Xt=nl(e.stateNode.containerInfo),ss(e,t,n),Xt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=hi,hi=16777216,ss(e,t,n),hi=i):ss(e,t,n));break;default:ss(e,t,n)}}function zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,qf(i,e)}zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bf(e),e=e.sibling}function Bf(e){switch(e.tag){case 0:case 11:case 15:fi(e),e.flags&2048&&qa(9,e,e.return);break;case 3:fi(e);break;case 12:fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yr(e)):fi(e);break;default:fi(e)}}function Yr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,qf(i,e)}zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qa(8,t,t.return),Yr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Yr(t));break;default:Yr(t)}e=e.sibling}}function qf(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:qa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Is(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,st=i;else e:for(n=e;st!==null;){i=st;var c=i.sibling,d=i.return;if(Rf(i),i===n){st=null;break e}if(c!==null){c.return=d,st=c;break e}st=d}}}var hy={getCacheForType:function(e){var t=lt(Qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return lt(Qe).controller.signal}},fy=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,ye=null,be=0,Re=0,At=null,Ha=!1,is=!1,Sc=!1,xa=0,Ge=0,$a=0,_n=0,jc=0,Rt=0,rs=0,mi=null,xt=null,Nc=!1,Kr=0,Hf=0,Xr=1/0,Jr=null,Ga=null,tt=0,Va=null,ls=null,ba=0,Ec=0,Tc=null,$f=null,gi=0,Ac=null;function Ot(){return(Te&2)!==0&&be!==0?be&-be:$.T!==null?Uc():ad()}function Gf(){if(Rt===0)if((be&536870912)===0||je){var e=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),Rt=e}else Rt=536870912;return e=Et.current,e!==null&&(e.flags|=32),Rt}function bt(e,t,n){(e===Ue&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(os(e,0),Ya(e,be,Rt,!1)),Ls(e,n),((Te&2)===0||e!==Ue)&&(e===Ue&&((Te&2)===0&&(_n|=n),Ge===4&&Ya(e,be,Rt,!1)),ta(e))}function Vf(e,t,n){if((Te&6)!==0)throw Error(l(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ms(e,t),c=i?py(e,t):Oc(e,t,!0),d=i;do{if(c===0){is&&!i&&Ya(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!my(n)){c=Oc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var x=e;c=mi;var j=x.current.memoizedState.isDehydrated;if(j&&(os(x,g).flags|=256),g=Oc(x,g,!1),g!==2){if(Sc&&!j){x.errorRecoveryDisabledLanes|=d,_n|=d,c=4;break e}d=xt,xt=c,d!==null&&(xt===null?xt=d:xt.push.apply(xt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){os(e,0),Ya(e,t,0,!0);break}e:{switch(i=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ya(i,t,Rt,!Ha);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Kr+300-_t(),10<c)){if(Ya(i,t,Rt,!Ha),nr(i,0,!0)!==0)break e;ba=t,i.timeoutHandle=bm(Yf.bind(null,i,n,xt,Jr,Nc,t,Rt,_n,rs,Ha,d,"Throttled",-0,0),c);break e}Yf(i,n,xt,Jr,Nc,t,Rt,_n,rs,Ha,d,null,-0,0)}}break}while(!0);ta(e)}function Yf(e,t,n,i,c,d,g,x,j,D,G,Y,U,B){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},Lf(t,d,Y);var W=(d&62914560)===d?Kr-_t():(d&4194048)===d?Hf-_t():0;if(W=Wy(Y,W),W!==null){ba=d,e.cancelPendingCommit=W(Wf.bind(null,e,t,d,n,i,c,g,x,j,G,Y,null,U,B)),Ya(e,d,g,!D);return}}Wf(e,t,d,n,i,c,g,x,j)}function my(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var c=n[i],d=c.getSnapshot;c=c.value;try{if(!jt(d(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,n,i){t&=~jc,t&=~_n,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var c=t;0<c;){var d=31-St(c),g=1<<d;i[d]=-1,c&=~g}n!==0&&Fu(e,n,t)}function Qr(){return(Te&6)===0?(pi(0),!1):!0}function Rc(){if(ye!==null){if(Re===0)var e=ye.return;else e=ye,ca=hn=null,Ko(e),Wn=null,Ws=0,e=ye;for(;e!==null;)_f(e.alternate,e),e=e.return;ye=null}}function os(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Uy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ba=0,Rc(),Ue=e,ye=n=la(e.current,null),be=t,Re=0,At=null,Ha=!1,is=Ms(e,t),Sc=!1,rs=Rt=jc=_n=$a=Ge=0,xt=mi=null,Nc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var c=31-St(i),d=1<<c;t|=e[c],i&=~d}return xa=t,gr(),n}function Kf(e,t){me=null,$.H=ri,t===Zn||t===Sr?(t=rh(),Re=3):t===Do?(t=rh(),Re=4):Re=t===lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,ye===null&&(Ge=1,zr(e,zt(t,e.current)))}function Xf(){var e=Et.current;return e===null?!0:(be&4194048)===be?$t===null:(be&62914560)===be||(be&536870912)!==0?e===$t:!1}function Jf(){var e=$.H;return $.H=ri,e===null?ri:e}function Qf(){var e=$.A;return $.A=hy,e}function Pr(){Ge=4,Ha||(be&4194048)!==be&&Et.current!==null||(is=!0),($a&134217727)===0&&(_n&134217727)===0||Ue===null||Ya(Ue,be,Rt,!1)}function Oc(e,t,n){var i=Te;Te|=2;var c=Jf(),d=Qf();(Ue!==e||be!==t)&&(Jr=null,os(e,t)),t=!1;var g=Ge;e:do try{if(Re!==0&&ye!==null){var x=ye,j=At;switch(Re){case 8:Rc(),g=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var D=Re;if(Re=0,At=null,cs(e,x,j,D),n&&is){g=0;break e}break;default:D=Re,Re=0,At=null,cs(e,x,j,D)}}gy(),g=Ge;break}catch(G){Kf(e,G)}while(!0);return t&&e.shellSuspendCounter++,ca=hn=null,Te=i,$.H=c,$.A=d,ye===null&&(Ue=null,be=0,gr()),g}function gy(){for(;ye!==null;)Pf(ye)}function py(e,t){var n=Te;Te|=2;var i=Jf(),c=Qf();Ue!==e||be!==t?(Jr=null,Xr=_t()+500,os(e,t)):is=Ms(e,t);e:do try{if(Re!==0&&ye!==null){t=ye;var d=At;t:switch(Re){case 1:Re=0,At=null,cs(e,t,d,1);break;case 2:case 9:if(sh(d)){Re=0,At=null,If(t);break}t=function(){Re!==2&&Re!==9||Ue!==e||(Re=7),ta(e)},d.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:sh(d)?(Re=0,At=null,If(t)):(Re=0,At=null,cs(e,t,d,7));break;case 5:var g=null;switch(ye.tag){case 26:g=ye.memoizedState;case 5:case 27:var x=ye;if(g?Mm(g):x.stateNode.complete){Re=0,At=null;var j=x.sibling;if(j!==null)ye=j;else{var D=x.return;D!==null?(ye=D,Ir(D)):ye=null}break t}}Re=0,At=null,cs(e,t,d,5);break;case 6:Re=0,At=null,cs(e,t,d,6);break;case 8:Rc(),Ge=6;break e;default:throw Error(l(462))}}yy();break}catch(G){Kf(e,G)}while(!0);return ca=hn=null,$.H=i,$.A=c,Te=n,ye!==null?0:(Ue=null,be=0,gr(),Ge)}function yy(){for(;ye!==null&&!Hp();)Pf(ye)}function Pf(e){var t=xf(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?Ir(e):ye=t}function If(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ff(n,t,t.pendingProps,t.type,void 0,be);break;case 11:t=ff(n,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Ko(t);default:_f(n,t),t=ye=Jd(t,xa),t=xf(n,t,xa)}e.memoizedProps=e.pendingProps,t===null?Ir(e):ye=t}function cs(e,t,n,i){ca=hn=null,Ko(t),Wn=null,Ws=0;var c=t.return;try{if(iy(e,c,t,n,be)){Ge=1,zr(e,zt(n,e.current)),ye=null;return}}catch(d){if(c!==null)throw ye=c,d;Ge=1,zr(e,zt(n,e.current)),ye=null;return}t.flags&32768?(je||i===1?e=!0:is||(be&536870912)!==0?e=!1:(Ha=e=!0,(i===2||i===9||i===3||i===6)&&(i=Et.current,i!==null&&i.tag===13&&(i.flags|=16384))),Zf(t,e)):Ir(t)}function Ir(e){var t=e;do{if((t.flags&32768)!==0){Zf(t,Ha);return}e=t.return;var n=oy(t.alternate,t,xa);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ge===0&&(Ge=5)}function Zf(e,t){do{var n=cy(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Ge=6,ye=null}function Wf(e,t,n,i,c,d,g,x,j){e.cancelPendingCommit=null;do Zr();while(tt!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=vo,Ip(e,n,d,g,x,j),e===Ue&&(ye=Ue=null,be=0),ls=t,Va=e,ba=n,Ec=d,Tc=c,$f=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_y(Fi,function(){return nm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=$.T,$.T=null,c=P.p,P.p=2,g=Te,Te|=4;try{uy(e,t,n)}finally{Te=g,P.p=c,$.T=i}}tt=1,Ff(),em(),tm()}}function Ff(){if(tt===1){tt=0;var e=Va,t=ls,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=$.T,$.T=null;var i=P.p;P.p=2;var c=Te;Te|=4;try{Df(t,e);var d=Gc,g=Bd(e.containerInfo),x=d.focusedElem,j=d.selectionRange;if(g!==x&&x&&x.ownerDocument&&zd(x.ownerDocument.documentElement,x)){if(j!==null&&fo(x)){var D=j.start,G=j.end;if(G===void 0&&(G=D),"selectionStart"in x)x.selectionStart=D,x.selectionEnd=Math.min(G,x.value.length);else{var Y=x.ownerDocument||document,U=Y&&Y.defaultView||window;if(U.getSelection){var B=U.getSelection(),W=x.textContent.length,oe=Math.min(j.start,W),De=j.end===void 0?oe:Math.min(j.end,W);!B.extend&&oe>De&&(g=De,De=oe,oe=g);var O=Ld(x,oe),N=Ld(x,De);if(O&&N&&(B.rangeCount!==1||B.anchorNode!==O.node||B.anchorOffset!==O.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var k=Y.createRange();k.setStart(O.node,O.offset),B.removeAllRanges(),oe>De?(B.addRange(k),B.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),B.addRange(k))}}}}for(Y=[],B=x;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var V=Y[x];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}cl=!!$c,Gc=$c=null}finally{Te=c,P.p=i,$.T=n}}e.current=t,tt=2}}function em(){if(tt===2){tt=0;var e=Va,t=ls,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=$.T,$.T=null;var i=P.p;P.p=2;var c=Te;Te|=4;try{Af(e,t.alternate,t)}finally{Te=c,P.p=i,$.T=n}}tt=3}}function tm(){if(tt===4||tt===3){tt=0,$p();var e=Va,t=ls,n=ba,i=$f;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,ls=Va=null,am(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ga=null),Jl(n),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Us,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=$.T,c=P.p,P.p=2,$.T=null;try{for(var d=e.onRecoverableError,g=0;g<i.length;g++){var x=i[g];d(x.value,{componentStack:x.stack})}}finally{$.T=t,P.p=c}}(ba&3)!==0&&Zr(),ta(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ac?gi++:(gi=0,Ac=e):gi=0,pi(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function Zr(){return Ff(),em(),tm(),nm()}function nm(){if(tt!==5)return!1;var e=Va,t=Ec;Ec=0;var n=Jl(ba),i=$.T,c=P.p;try{P.p=32>n?32:n,$.T=null,n=Tc,Tc=null;var d=Va,g=ba;if(tt=0,ls=Va=null,ba=0,(Te&6)!==0)throw Error(l(331));var x=Te;if(Te|=4,Bf(d.current),Mf(d,d.current,g,n),Te=x,pi(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Us,d)}catch{}return!0}finally{P.p=c,$.T=i,am(e,t)}}function sm(e,t,n){t=zt(n,t),t=rc(e.stateNode,t,2),e=La(e,t,2),e!==null&&(Ls(e,2),ta(e))}function Oe(e,t,n){if(e.tag===3)sm(e,e,n);else for(;t!==null;){if(t.tag===3){sm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ga===null||!Ga.has(i))){e=zt(n,e),n=sf(2),i=La(t,n,2),i!==null&&(rf(n,i,t,e),Ls(i,2),ta(i));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new fy;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(n)||(Sc=!0,c.add(n),e=vy.bind(null,e,t,n),t.then(e,e))}function vy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(be&n)===n&&(Ge===4||Ge===3&&(be&62914560)===be&&300>_t()-Kr?(Te&2)===0&&os(e,0):jc|=n,rs===be&&(rs=0)),ta(e)}function im(e,t){t===0&&(t=Wu()),e=cn(e,t),e!==null&&(Ls(e,t),ta(e))}function xy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),im(e,n)}function by(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),im(e,n)}function _y(e,t){return Vl(e,t)}var Wr=null,us=null,kc=!1,Fr=!1,Dc=!1,Ka=0;function ta(e){e!==us&&e.next===null&&(us===null?Wr=us=e:us=us.next=e),Fr=!0,kc||(kc=!0,Sy())}function pi(e,t){if(!Dc&&Fr){Dc=!0;do for(var n=!1,i=Wr;i!==null;){if(e!==0){var c=i.pendingLanes;if(c===0)var d=0;else{var g=i.suspendedLanes,x=i.pingedLanes;d=(1<<31-St(42|e)+1)-1,d&=c&~(g&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,cm(i,d))}else d=be,d=nr(i,i===Ue?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Ms(i,d)||(n=!0,cm(i,d));i=i.next}while(n);Dc=!1}}function wy(){rm()}function rm(){Fr=kc=!1;var e=0;Ka!==0&&Dy()&&(e=Ka);for(var t=_t(),n=null,i=Wr;i!==null;){var c=i.next,d=lm(i,t);d===0?(i.next=null,n===null?Wr=c:n.next=c,c===null&&(us=n)):(n=i,(e!==0||(d&3)!==0)&&(Fr=!0)),i=c}tt!==0&&tt!==5||pi(e),Ka!==0&&(Ka=0)}function lm(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-St(d),x=1<<g,j=c[g];j===-1?((x&n)===0||(x&i)!==0)&&(c[g]=Pp(x,t)):j<=t&&(e.expiredLanes|=x),d&=~x}if(t=Ue,n=be,n=nr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Yl(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ms(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Yl(i),Jl(n)){case 2:case 8:n=Iu;break;case 32:n=Fi;break;case 268435456:n=Zu;break;default:n=Fi}return i=om.bind(null,e),n=Vl(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Yl(i),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zr()&&e.callbackNode!==n)return null;var i=be;return i=nr(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Vf(e,i,t),lm(e,_t()),e.callbackNode!=null&&e.callbackNode===n?om.bind(null,e):null)}function cm(e,t){if(Zr())return null;Vf(e,t,!0)}function Sy(){My(function(){(Te&6)!==0?Vl(Pu,wy):rm()})}function Uc(){if(Ka===0){var e=Pn;e===0&&(e=er,er<<=1,(er&261888)===0&&(er=256)),Ka=e}return Ka}function um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function jy(e,t,n,i,c){if(t==="submit"&&n&&n.stateNode===c){var d=um((c[mt]||null).action),g=i.submitter;g&&(t=(t=g[mt]||null)?um(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var x=new dr("action","action",null,i,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ka!==0){var j=g?dm(c,g):new FormData(c);ec(n,{pending:!0,data:j,method:c.method,action:d},null,j)}}else typeof d=="function"&&(x.preventDefault(),j=g?dm(c,g):new FormData(c),ec(n,{pending:!0,data:j,method:c.method,action:d},d,j))},currentTarget:c}]})}}for(var Mc=0;Mc<yo.length;Mc++){var Lc=yo[Mc],Ny=Lc.toLowerCase(),Ey=Lc[0].toUpperCase()+Lc.slice(1);Kt(Ny,"on"+Ey)}Kt($d,"onAnimationEnd"),Kt(Gd,"onAnimationIteration"),Kt(Vd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(G0,"onTransitionRun"),Kt(V0,"onTransitionStart"),Kt(Y0,"onTransitionCancel"),Kt(Yd,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],c=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var g=i.length-1;0<=g;g--){var x=i[g],j=x.instance,D=x.currentTarget;if(x=x.listener,j!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=D;try{d(c)}catch(G){mr(G)}c.currentTarget=null,d=j}else for(g=0;g<i.length;g++){if(x=i[g],j=x.instance,D=x.currentTarget,x=x.listener,j!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=D;try{d(c)}catch(G){mr(G)}c.currentTarget=null,d=j}}}}function ve(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var i=e+"__bubble";n.has(i)||(fm(t,e,2,!1),n.add(i))}function zc(e,t,n){var i=0;t&&(i|=4),fm(n,e,i,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function Bc(e){if(!e[el]){e[el]=!0,id.forEach(function(n){n!=="selectionchange"&&(Ty.has(n)||zc(n,!1,e),zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,zc("selectionchange",!1,t))}}function fm(e,t,n,i){switch(Gm(t)){case 2:var c=tv;break;case 8:c=av;break;default:c=Fc}n=c.bind(null,t,n,e),c=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function qc(e,t,n,i,c){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var x=i.stateNode.containerInfo;if(x===c)break;if(g===4)for(g=i.return;g!==null;){var j=g.tag;if((j===3||j===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;x!==null;){if(g=kn(x),g===null)return;if(j=g.tag,j===5||j===6||j===26||j===27){i=d=g;continue e}x=x.parentNode}}i=i.return}yd(function(){var D=d,G=to(n),Y=[];e:{var U=Kd.get(e);if(U!==void 0){var B=dr,W=e;switch(e){case"keypress":if(cr(n)===0)break e;case"keydown":case"keyup":B=b0;break;case"focusin":W="focus",B=lo;break;case"focusout":W="blur",B=lo;break;case"beforeblur":case"afterblur":B=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=o0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=S0;break;case $d:case Gd:case Vd:B=d0;break;case Yd:B=N0;break;case"scroll":case"scrollend":B=r0;break;case"wheel":B=T0;break;case"copy":case"cut":case"paste":B=f0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wd;break;case"toggle":case"beforetoggle":B=R0}var oe=(t&4)!==0,De=!oe&&(e==="scroll"||e==="scrollend"),O=oe?U!==null?U+"Capture":null:U;oe=[];for(var N=D,k;N!==null;){var V=N;if(k=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||k===null||O===null||(V=qs(N,O),V!=null&&oe.push(vi(N,V,k))),De)break;N=N.return}0<oe.length&&(U=new B(U,W,null,n,G),Y.push({event:U,listeners:oe}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",U&&n!==eo&&(W=n.relatedTarget||n.fromElement)&&(kn(W)||W[Cn]))break e;if((B||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,B?(W=n.relatedTarget||n.toElement,B=D,W=W?kn(W):null,W!==null&&(De=h(W),oe=W.tag,W!==De||oe!==5&&oe!==27&&oe!==6)&&(W=null)):(B=null,W=D),B!==W)){if(oe=bd,V="onMouseLeave",O="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(oe=wd,V="onPointerLeave",O="onPointerEnter",N="pointer"),De=B==null?U:Bs(B),k=W==null?U:Bs(W),U=new oe(V,N+"leave",B,n,G),U.target=De,U.relatedTarget=k,V=null,kn(G)===D&&(oe=new oe(O,N+"enter",W,n,G),oe.target=k,oe.relatedTarget=De,V=oe),De=V,B&&W)t:{for(oe=Ay,O=B,N=W,k=0,V=O;V;V=oe(V))k++;V=0;for(var ie=N;ie;ie=oe(ie))V++;for(;0<k-V;)O=oe(O),k--;for(;0<V-k;)N=oe(N),V--;for(;k--;){if(O===N||N!==null&&O===N.alternate){oe=O;break t}O=oe(O),N=oe(N)}oe=null}else oe=null;B!==null&&mm(Y,U,B,oe,!1),W!==null&&De!==null&&mm(Y,De,W,oe,!0)}}e:{if(U=D?Bs(D):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var Ne=Od;else if(Ad(U))if(Cd)Ne=q0;else{Ne=z0;var ee=L0}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Fl(D.elementType)&&(Ne=Od):Ne=B0;if(Ne&&(Ne=Ne(e,D))){Rd(Y,Ne,n,G);break e}ee&&ee(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&Wl(U,"number",U.value)}switch(ee=D?Bs(D):window,e){case"focusin":(Ad(ee)||ee.contentEditable==="true")&&($n=ee,mo=D,Js=null);break;case"focusout":Js=mo=$n=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,qd(Y,n,G);break;case"selectionchange":if($0)break;case"keydown":case"keyup":qd(Y,n,G)}var ge;if(co)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Hn?Ed(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(Sd&&n.locale!=="ko"&&(Hn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Hn&&(ge=vd()):(Ra=G,so="value"in Ra?Ra.value:Ra.textContent,Hn=!0)),ee=tl(D,_e),0<ee.length&&(_e=new _d(_e,e,null,n,G),Y.push({event:_e,listeners:ee}),ge?_e.data=ge:(ge=Td(n),ge!==null&&(_e.data=ge)))),(ge=C0?k0(e,n):D0(e,n))&&(_e=tl(D,"onBeforeInput"),0<_e.length&&(ee=new _d("onBeforeInput","beforeinput",null,n,G),Y.push({event:ee,listeners:_e}),ee.data=ge)),jy(Y,e,D,n,G)}hm(Y,t)})}function vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tl(e,t){for(var n=t+"Capture",i=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=qs(e,n),c!=null&&i.unshift(vi(e,c,d)),c=qs(e,t),c!=null&&i.push(vi(e,c,d))),e.tag===3)return i;e=e.return}return[]}function Ay(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mm(e,t,n,i,c){for(var d=t._reactName,g=[];n!==null&&n!==i;){var x=n,j=x.alternate,D=x.stateNode;if(x=x.tag,j!==null&&j===i)break;x!==5&&x!==26&&x!==27||D===null||(j=D,c?(D=qs(n,d),D!=null&&g.unshift(vi(n,D,j))):c||(D=qs(n,d),D!=null&&g.push(vi(n,D,j)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Ry=/\r\n?/g,Oy=/\u0000|\uFFFD/g;function gm(e){return(typeof e=="string"?e:""+e).replace(Ry,`
`).replace(Oy,"")}function pm(e,t){return t=gm(t),gm(e)===t}function ke(e,t,n,i,c,d){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||zn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&zn(e,""+i);break;case"className":ir(e,"class",i);break;case"tabIndex":ir(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,n,i);break;case"style":gd(e,i,d);break;case"data":if(t!=="object"){ir(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=lr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&ke(e,t,"name",c.name,c,null),ke(e,t,"formEncType",c.formEncType,c,null),ke(e,t,"formMethod",c.formMethod,c,null),ke(e,t,"formTarget",c.formTarget,c,null)):(ke(e,t,"encType",c.encType,c,null),ke(e,t,"method",c.method,c,null),ke(e,t,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=lr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ia);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=lr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ve("beforetoggle",e),ve("toggle",e),sr(e,"popover",i);break;case"xlinkActuate":sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":sa(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":sa(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":sa(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":sa(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":sr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=s0.get(n)||n,sr(e,n,i))}}function Hc(e,t,n,i,c,d){switch(n){case"style":gd(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?zn(e,i):(typeof i=="number"||typeof i=="bigint")&&zn(e,""+i);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),d=e[mt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof i=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,c);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):sr(e,n,i)}}}function ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var i=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var g=n[d];if(g!=null)switch(d){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ke(e,t,d,g,n,null)}}c&&ke(e,t,"srcSet",n.srcSet,n,null),i&&ke(e,t,"src",n.src,n,null);return;case"input":ve("invalid",e);var x=d=g=c=null,j=null,D=null;for(i in n)if(n.hasOwnProperty(i)){var G=n[i];if(G!=null)switch(i){case"name":c=G;break;case"type":g=G;break;case"checked":j=G;break;case"defaultChecked":D=G;break;case"value":d=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,t));break;default:ke(e,t,i,G,n,null)}}dd(e,d,x,j,D,g,c,!1);return;case"select":ve("invalid",e),i=g=d=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":d=x;break;case"defaultValue":g=x;break;case"multiple":i=x;default:ke(e,t,c,x,n,null)}t=d,n=g,e.multiple=!!i,t!=null?Ln(e,!!i,t,!1):n!=null&&Ln(e,!!i,n,!0);return;case"textarea":ve("invalid",e),d=c=i=null;for(g in n)if(n.hasOwnProperty(g)&&(x=n[g],x!=null))switch(g){case"value":i=x;break;case"defaultValue":c=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:ke(e,t,g,x,n,null)}fd(e,i,c,d);return;case"option":for(j in n)n.hasOwnProperty(j)&&(i=n[j],i!=null)&&(j==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":ke(e,t,j,i,n,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(i=0;i<yi.length;i++)ve(yi[i],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(i=n[D],i!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ke(e,t,D,i,n,null)}return;default:if(Fl(t)){for(G in n)n.hasOwnProperty(G)&&(i=n[G],i!==void 0&&Hc(e,t,G,i,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(i=n[x],i!=null&&ke(e,t,x,i,n,null))}function Cy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,x=null,j=null,D=null,G=null;for(B in n){var Y=n[B];if(n.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":j=Y;default:i.hasOwnProperty(B)||ke(e,t,B,null,i,Y)}}for(var U in i){var B=i[U];if(Y=n[U],i.hasOwnProperty(U)&&(B!=null||Y!=null))switch(U){case"type":d=B;break;case"name":c=B;break;case"checked":D=B;break;case"defaultChecked":G=B;break;case"value":g=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==Y&&ke(e,t,U,B,i,Y)}}Zl(e,g,x,j,D,G,d,c);return;case"select":B=g=x=U=null;for(d in n)if(j=n[d],n.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":B=j;default:i.hasOwnProperty(d)||ke(e,t,d,null,i,j)}for(c in i)if(d=i[c],j=n[c],i.hasOwnProperty(c)&&(d!=null||j!=null))switch(c){case"value":U=d;break;case"defaultValue":x=d;break;case"multiple":g=d;default:d!==j&&ke(e,t,c,d,i,j)}t=x,n=g,i=B,U!=null?Ln(e,!!n,U,!1):!!i!=!!n&&(t!=null?Ln(e,!!n,t,!0):Ln(e,!!n,n?[]:"",!1));return;case"textarea":B=U=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!i.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ke(e,t,x,null,i,c)}for(g in i)if(c=i[g],d=n[g],i.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":U=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&ke(e,t,g,c,i,d)}hd(e,U,B);return;case"option":for(var W in n)U=n[W],n.hasOwnProperty(W)&&U!=null&&!i.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:ke(e,t,W,null,i,U));for(j in i)U=i[j],B=n[j],i.hasOwnProperty(j)&&U!==B&&(U!=null||B!=null)&&(j==="selected"?e.selected=U&&typeof U!="function"&&typeof U!="symbol":ke(e,t,j,U,i,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in n)U=n[oe],n.hasOwnProperty(oe)&&U!=null&&!i.hasOwnProperty(oe)&&ke(e,t,oe,null,i,U);for(D in i)if(U=i[D],B=n[D],i.hasOwnProperty(D)&&U!==B&&(U!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:ke(e,t,D,U,i,B)}return;default:if(Fl(t)){for(var De in n)U=n[De],n.hasOwnProperty(De)&&U!==void 0&&!i.hasOwnProperty(De)&&Hc(e,t,De,void 0,i,U);for(G in i)U=i[G],B=n[G],!i.hasOwnProperty(G)||U===B||U===void 0&&B===void 0||Hc(e,t,G,U,i,B);return}}for(var O in n)U=n[O],n.hasOwnProperty(O)&&U!=null&&!i.hasOwnProperty(O)&&ke(e,t,O,null,i,U);for(Y in i)U=i[Y],B=n[Y],!i.hasOwnProperty(Y)||U===B||U==null&&B==null||ke(e,t,Y,U,i,B)}function ym(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var c=n[i],d=c.transferSize,g=c.initiatorType,x=c.duration;if(d&&x&&ym(g)){for(g=0,x=c.responseEnd,i+=1;i<n.length;i++){var j=n[i],D=j.startTime;if(D>x)break;var G=j.transferSize,Y=j.initiatorType;G&&ym(Y)&&(j=j.responseEnd,g+=G*(j<x?1:(x-D)/(j-D)))}if(--i,t+=8*(d+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $c=null,Gc=null;function al(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yc=null;function Dy(){var e=window.event;return e&&e.type==="popstate"?e===Yc?!1:(Yc=e,!0):(Yc=null,!1)}var bm=typeof setTimeout=="function"?setTimeout:void 0,Uy=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(Ly)}:bm;function Ly(e){setTimeout(function(){throw e})}function Xa(e){return e==="head"}function wm(e,t){var n=t,i=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(c),ms(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")xi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xi(n);for(var d=n.firstChild;d;){var g=d.nextSibling,x=d.nodeName;d[zs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=g}}else n==="body"&&xi(e.ownerDocument.body);n=c}while(n);ms(t)}function Sm(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Kc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kc(n),Pl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function zy(e,t,n,i){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function By(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function jm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$?"||e.data==="$~"}function Jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qc=null;function Nm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Gt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Tm(e,t,n){switch(t=al(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pl(e)}var Vt=new Map,Am=new Set;function nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _a=P.d;P.d={f:Hy,r:$y,D:Gy,C:Vy,L:Yy,m:Ky,X:Jy,S:Xy,M:Qy};function Hy(){var e=_a.f(),t=Qr();return e||t}function $y(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?Yh(t):_a.r(e)}var ds=typeof document>"u"?null:document;function Rm(e,t,n){var i=ds;if(i&&typeof t=="string"&&t){var c=Mt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Am.has(c)||(Am.add(c),e={rel:e,crossOrigin:n,href:t},i.querySelector(c)===null&&(t=i.createElement("link"),ct(t,"link",e),nt(t),i.head.appendChild(t)))}}function Gy(e){_a.D(e),Rm("dns-prefetch",e,null)}function Vy(e,t){_a.C(e,t),Rm("preconnect",e,t)}function Yy(e,t,n){_a.L(e,t,n);var i=ds;if(i&&e&&t){var c='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Mt(n.imageSizes)+'"]')):c+='[href="'+Mt(e)+'"]';var d=c;switch(t){case"style":d=hs(e);break;case"script":d=fs(e)}Vt.has(d)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vt.set(d,e),i.querySelector(c)!==null||t==="style"&&i.querySelector(bi(d))||t==="script"&&i.querySelector(_i(d))||(t=i.createElement("link"),ct(t,"link",e),nt(t),i.head.appendChild(t)))}}function Ky(e,t){_a.m(e,t);var n=ds;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Mt(i)+'"][href="'+Mt(e)+'"]',d=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fs(e)}if(!Vt.has(d)&&(e=_({rel:"modulepreload",href:e},t),Vt.set(d,e),n.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_i(d)))return}i=n.createElement("link"),ct(i,"link",e),nt(i),n.head.appendChild(i)}}}function Xy(e,t,n){_a.S(e,t,n);var i=ds;if(i&&e){var c=Un(i).hoistableStyles,d=hs(e);t=t||"default";var g=c.get(d);if(!g){var x={loading:0,preload:null};if(g=i.querySelector(bi(d)))x.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vt.get(d))&&Pc(e,n);var j=g=i.createElement("link");nt(j),ct(j,"link",e),j._p=new Promise(function(D,G){j.onload=D,j.onerror=G}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,sl(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:x},c.set(d,g)}}}function Jy(e,t){_a.X(e,t);var n=ds;if(n&&e){var i=Un(n).hoistableScripts,c=fs(e),d=i.get(c);d||(d=n.querySelector(_i(c)),d||(e=_({src:e,async:!0},t),(t=Vt.get(c))&&Ic(e,t),d=n.createElement("script"),nt(d),ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(c,d))}}function Qy(e,t){_a.M(e,t);var n=ds;if(n&&e){var i=Un(n).hoistableScripts,c=fs(e),d=i.get(c);d||(d=n.querySelector(_i(c)),d||(e=_({src:e,async:!0,type:"module"},t),(t=Vt.get(c))&&Ic(e,t),d=n.createElement("script"),nt(d),ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(c,d))}}function Om(e,t,n,i){var c=(c=ce.current)?nl(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hs(n.href),n=Un(c).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hs(n.href);var d=Un(c).hoistableStyles,g=d.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=c.querySelector(bi(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Vt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vt.set(e,n),d||Py(c,e,n,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fs(n),n=Un(c).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function hs(e){return'href="'+Mt(e)+'"'}function bi(e){return'link[rel="stylesheet"]['+e+"]"}function Cm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Py(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ct(t,"link",n),nt(t),e.head.appendChild(t))}function fs(e){return'[src="'+Mt(e)+'"]'}function _i(e){return"script[async]"+e}function km(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Mt(n.href)+'"]');if(i)return t.instance=i,nt(i),i;var c=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),nt(i),ct(i,"style",c),sl(i,n.precedence,e),t.instance=i;case"stylesheet":c=hs(n.href);var d=e.querySelector(bi(c));if(d)return t.state.loading|=4,t.instance=d,nt(d),d;i=Cm(n),(c=Vt.get(c))&&Pc(i,c),d=(e.ownerDocument||e).createElement("link"),nt(d);var g=d;return g._p=new Promise(function(x,j){g.onload=x,g.onerror=j}),ct(d,"link",i),t.state.loading|=4,sl(d,n.precedence,e),t.instance=d;case"script":return d=fs(n.src),(c=e.querySelector(_i(d)))?(t.instance=c,nt(c),c):(i=n,(c=Vt.get(d))&&(i=_({},n),Ic(i,c)),e=e.ownerDocument||e,c=e.createElement("script"),nt(c),ct(c,"link",i),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,sl(i,n.precedence,e));return t.instance}function sl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,d=c,g=0;g<i.length;g++){var x=i[g];if(x.dataset.precedence===t)d=x;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var il=null;function Dm(e,t,n){if(il===null){var i=new Map,c=il=new Map;c.set(n,i)}else c=il,i=c.get(n),i||(i=new Map,c.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var d=n[c];if(!(d[zs]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var x=i.get(g);x?x.push(d):i.set(g,[d])}}return i}function Um(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Iy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zy(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=hs(i.href),d=t.querySelector(bi(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,nt(d);return}d=t.ownerDocument||t,i=Cm(i),(c=Vt.get(c))&&Pc(i,c),d=d.createElement("link"),nt(d);var g=d;g._p=new Promise(function(x,j){g.onload=x,g.onerror=j}),ct(d,"link",i),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=rl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zc=0;function Wy(e,t){return e.stylesheets&&e.count===0&&ol(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&ol(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Zc===0&&(Zc=62500*ky());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ol(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Zc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(c)}}:null}function rl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ol(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ll=null;function ol(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ll=new Map,t.forEach(Fy,e),ll=null,rl.call(e))}function Fy(e,t){if(!(t.state.loading&4)){var n=ll.get(e);if(n)var i=n.get(null);else{n=new Map,ll.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}c=t.instance,g=c.getAttribute("data-precedence"),d=n.get(g)||i,d===i&&n.set(null,c),n.set(g,c),this.count++,i=rl.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var wi={$$typeof:L,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function ev(e,t,n,i,c,d,g,x,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Lm(e,t,n,i,c,d,g,x,j,D,G,Y){return e=new ev(e,t,n,g,j,D,G,Y,x),t=1,d===!0&&(t|=24),d=Nt(3,null,null,t),e.current=d,d.stateNode=e,t=Oo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:n,cache:t},Uo(d),e}function zm(e){return e?(e=Yn,e):Yn}function Bm(e,t,n,i,c,d){c=zm(c),i.context===null?i.context=c:i.pendingContext=c,i=Ma(t),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=La(e,i,t),n!==null&&(bt(n,e,t),ei(n,e,t))}function qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wc(e,t){qm(e,t),(e=e.alternate)&&qm(e,t)}function Hm(e){if(e.tag===13||e.tag===31){var t=cn(e,67108864);t!==null&&bt(t,e,67108864),Wc(e,67108864)}}function $m(e){if(e.tag===13||e.tag===31){var t=Ot();t=Xl(t);var n=cn(e,t);n!==null&&bt(n,e,t),Wc(e,t)}}var cl=!0;function tv(e,t,n,i){var c=$.T;$.T=null;var d=P.p;try{P.p=2,Fc(e,t,n,i)}finally{P.p=d,$.T=c}}function av(e,t,n,i){var c=$.T;$.T=null;var d=P.p;try{P.p=8,Fc(e,t,n,i)}finally{P.p=d,$.T=c}}function Fc(e,t,n,i){if(cl){var c=eu(i);if(c===null)qc(e,t,i,ul,n),Vm(e,i);else if(sv(c,e,t,n,i))i.stopPropagation();else if(Vm(e,i),t&4&&-1<nv.indexOf(e)){for(;c!==null;){var d=Dn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=nn(d.pendingLanes);if(g!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;g;){var j=1<<31-St(g);x.entanglements[1]|=j,g&=~j}ta(d),(Te&6)===0&&(Xr=_t()+500,pi(0))}}break;case 31:case 13:x=cn(d,2),x!==null&&bt(x,d,2),Qr(),Wc(d,2)}if(d=eu(i),d===null&&qc(e,t,i,ul,n),d===c)break;c=d}c!==null&&i.stopPropagation()}else qc(e,t,i,null,n)}}function eu(e){return e=to(e),tu(e)}var ul=null;function tu(e){if(ul=null,e=kn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ul=e,null}function Gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gp()){case Pu:return 2;case Iu:return 8;case Fi:case Vp:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var au=!1,Ja=null,Qa=null,Pa=null,Si=new Map,ji=new Map,Ia=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vm(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function Ni(e,t,n,i,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Dn(t),t!==null&&Hm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function sv(e,t,n,i,c){switch(t){case"focusin":return Ja=Ni(Ja,e,t,n,i,c),!0;case"dragenter":return Qa=Ni(Qa,e,t,n,i,c),!0;case"mouseover":return Pa=Ni(Pa,e,t,n,i,c),!0;case"pointerover":var d=c.pointerId;return Si.set(d,Ni(Si.get(d)||null,e,t,n,i,c)),!0;case"gotpointercapture":return d=c.pointerId,ji.set(d,Ni(ji.get(d)||null,e,t,n,i,c)),!0}return!1}function Ym(e){var t=kn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,nd(e.priority,function(){$m(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,nd(e.priority,function(){$m(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);eo=i,n.target.dispatchEvent(i),eo=null}else return t=Dn(n),t!==null&&Hm(t),e.blockedOn=n,!1;t.shift()}return!0}function Km(e,t,n){dl(e)&&n.delete(t)}function iv(){au=!1,Ja!==null&&dl(Ja)&&(Ja=null),Qa!==null&&dl(Qa)&&(Qa=null),Pa!==null&&dl(Pa)&&(Pa=null),Si.forEach(Km),ji.forEach(Km)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iv)))}var fl=null;function Xm(e){fl!==e&&(fl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){fl===e&&(fl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],c=e[t+2];if(typeof i!="function"){if(tu(i||n)===null)continue;break}var d=Dn(n);d!==null&&(e.splice(t,3),t-=3,ec(d,{pending:!0,data:c,method:n.method,action:i},i,c))}}))}function ms(e){function t(j){return hl(j,e)}Ja!==null&&hl(Ja,e),Qa!==null&&hl(Qa,e),Pa!==null&&hl(Pa,e),Si.forEach(t),ji.forEach(t);for(var n=0;n<Ia.length;n++){var i=Ia[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ia.length&&(n=Ia[0],n.blockedOn===null);)Ym(n),n.blockedOn===null&&Ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var c=n[i],d=n[i+1],g=c[mt]||null;if(typeof d=="function")g||Xm(n);else if(g){var x=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[mt]||null)x=g.formAction;else if(tu(c)!==null)continue}else x=g.action;typeof x=="function"?n[i+1]=x:(n.splice(i,3),i-=3),Xm(n)}}}function Jm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function nu(e){this._internalRoot=e}ml.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,i=Ot();Bm(n,i,e,t,null,null)},ml.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bm(e.current,2,null,e,null,null),Qr(),t[Cn]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ia.length&&t!==0&&t<Ia[n].priority;n++);Ia.splice(n,0,e),n===0&&Ym(e)}};var Qm=a.version;if(Qm!=="19.2.4")throw Error(l(527,Qm,"19.2.4"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var rv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Us=gl.inject(rv),wt=gl}catch{}}return Ti.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,i="",c=ef,d=tf,g=af;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Lm(e,1,!1,null,null,n,i,null,c,d,g,Jm),e[Cn]=t.current,Bc(e),new nu(t)},Ti.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var i=!1,c="",d=ef,g=tf,x=af,j=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(j=n.formState)),t=Lm(e,1,!0,t,n??null,i,c,j,d,g,x,Jm),t.context=zm(null),n=t.current,i=Ot(),i=Xl(i),c=Ma(i),c.callback=null,La(n,c,i),n=i,t.current.lanes=n,Ls(t,n),ta(t),e[Cn]=t.current,Bc(e),new ml(t)},Ti.version="19.2.4",Ti}var sg;function pv(){if(sg)return ru.exports;sg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),ru.exports=gv(),ru.exports}var yv=pv();const vv="modulepreload",xv=function(s){return"/app/"+s},ig={},Cl=function(a,r,l){let u=Promise.resolve();if(r&&r.length>0){let y=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");u=y(r.map(p=>{if(p=xv(p),p in ig)return;ig[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":vv,v||(S.as="script"),S.crossOrigin="",S.href=p,m&&S.setAttribute("nonce",m),document.head.appendChild(S),v)return new Promise((b,A)=>{S.addEventListener("load",b),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function h(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return u.then(f=>{for(const m of f||[])m.status==="rejected"&&h(m.reason);return a().catch(h)})};var rg="popstate";function bv(s={}){function a(l,u){let{pathname:h,search:f,hash:m}=l.location;return wu("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:Di(u)}return wv(a,r,null,s)}function He(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Zt(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function _v(){return Math.random().toString(36).substring(2,10)}function lg(s,a){return{usr:s.state,key:s.key,idx:a}}function wu(s,a,r=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Os(a):a,state:r,key:a&&a.key||l||_v()}}function Di({pathname:s="/",search:a="",hash:r=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Os(s){let a={};if(s){let r=s.indexOf("#");r>=0&&(a.hash=s.substring(r),s=s.substring(0,r));let l=s.indexOf("?");l>=0&&(a.search=s.substring(l),s=s.substring(0,l)),s&&(a.pathname=s)}return a}function wv(s,a,r,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,f=u.history,m="POP",y=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function _(){m="POP";let C=v(),z=C==null?null:C-p;p=C,y&&y({action:m,location:E.location,delta:z})}function S(C,z){m="PUSH";let M=wu(E.location,C,z);p=v()+1;let L=lg(M,p),H=E.createHref(M);try{f.pushState(L,"",H)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;u.location.assign(H)}h&&y&&y({action:m,location:E.location,delta:1})}function b(C,z){m="REPLACE";let M=wu(E.location,C,z);p=v();let L=lg(M,p),H=E.createHref(M);f.replaceState(L,"",H),h&&y&&y({action:m,location:E.location,delta:0})}function A(C){return Sv(C)}let E={get action(){return m},get location(){return s(u,f)},listen(C){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(rg,_),y=C,()=>{u.removeEventListener(rg,_),y=null}},createHref(C){return a(u,C)},createURL:A,encodeLocation(C){let z=A(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:b,go(C){return f.go(C)}};return E}function Sv(s,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),He(r,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Di(s);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Jg(s,a,r="/"){return jv(s,a,r,!1)}function jv(s,a,r,l){let u=typeof a=="string"?Os(a):a,h=ja(u.pathname||"/",r);if(h==null)return null;let f=Qg(s);Nv(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let p=Lv(h);m=Uv(f[y],p,l)}return m}function Qg(s,a=[],r=[],l="",u=!1){let h=(f,m,y=u,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;He(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let _=Sa([l,v.relativePath]),S=r.concat(v);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Qg(f.children,a,S,_,y)),!(f.path==null&&!f.index)&&a.push({path:_,score:kv(_,f.index),routesMeta:S})};return s.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))h(f,m);else for(let y of Pg(f.path))h(f,m,!0,y)}),a}function Pg(s){let a=s.split("/");if(a.length===0)return[];let[r,...l]=a,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let f=Pg(l.join("/")),m=[];return m.push(...f.map(y=>y===""?h:[h,y].join("/"))),u&&m.push(...f),m.map(y=>s.startsWith("/")&&y===""?"/":y)}function Nv(s){s.sort((a,r)=>a.score!==r.score?r.score-a.score:Dv(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var Ev=/^:[\w-]+$/,Tv=3,Av=2,Rv=1,Ov=10,Cv=-2,og=s=>s==="*";function kv(s,a){let r=s.split("/"),l=r.length;return r.some(og)&&(l+=Cv),a&&(l+=Av),r.filter(u=>!og(u)).reduce((u,h)=>u+(Ev.test(h)?Tv:h===""?Rv:Ov),l)}function Dv(s,a){return s.length===a.length&&s.slice(0,-1).every((l,u)=>l===a[u])?s[s.length-1]-a[a.length-1]:0}function Uv(s,a,r=!1){let{routesMeta:l}=s,u={},h="/",f=[];for(let m=0;m<l.length;++m){let y=l[m],p=m===l.length-1,v=h==="/"?a:a.slice(h.length)||"/",_=Tl({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),S=y.route;if(!_&&p&&r&&!l[l.length-1].route.index&&(_=Tl({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!_)return null;Object.assign(u,_.params),f.push({params:u,pathname:Sa([h,_.pathname]),pathnameBase:Hv(Sa([h,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(h=Sa([h,_.pathnameBase]))}return f}function Tl(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,l]=Mv(s.path,s.caseSensitive,s.end),u=a.match(r);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:_},S)=>{if(v==="*"){let A=m[S]||"";f=h.slice(0,h.length-A.length).replace(/(.)\/+$/,"$1")}const b=m[S];return _&&!b?p[v]=void 0:p[v]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:f,pattern:s}}function Mv(s,a=!1,r=!0){Zt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(l.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function Lv(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Zt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function ja(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=s.charAt(r);return l&&l!=="/"?null:s.slice(r)||"/"}var zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Bv(s,a="/"){let{pathname:r,search:l="",hash:u=""}=typeof s=="string"?Os(s):s,h;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?h=cg(r.substring(1),"/"):h=cg(r,a)):h=a,{pathname:h,search:$v(l),hash:Gv(u)}}function cg(s,a){let r=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function uu(s,a,r,l){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qv(s){return s.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Ig(s){let a=qv(s);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function Zg(s,a,r,l=!1){let u;typeof s=="string"?u=Os(s):(u={...s},He(!u.pathname||!u.pathname.includes("?"),uu("?","pathname","search",u)),He(!u.pathname||!u.pathname.includes("#"),uu("#","pathname","hash",u)),He(!u.search||!u.search.includes("#"),uu("#","search","hash",u)));let h=s===""||u.pathname==="",f=h?"/":u.pathname,m;if(f==null)m=r;else{let _=a.length-1;if(!l&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),_-=1;u.pathname=S.join("/")}m=_>=0?a[_]:"/"}let y=Bv(u,m),p=f&&f!=="/"&&f.endsWith("/"),v=(h||f===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var Sa=s=>s.join("/").replace(/\/\/+/g,"/"),Hv=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),$v=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Gv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Vv=class{constructor(s,a,r,l=!1){this.status=s,this.statusText=a||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Yv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Kv(s){return s.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fg(s,a){let r=s;if(typeof r!="string"||!zv.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,u=!1;if(Wg)try{let h=new URL(window.location.href),f=r.startsWith("//")?new URL(h.protocol+r):new URL(r),m=ja(f.pathname,a);f.origin===h.origin&&m!=null?r=m+f.search+f.hash:u=!0}catch{Zt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ep=["POST","PUT","PATCH","DELETE"];new Set(ep);var Xv=["GET",...ep];new Set(Xv);var Cs=w.createContext(null);Cs.displayName="DataRouter";var kl=w.createContext(null);kl.displayName="DataRouterState";var Jv=w.createContext(!1),tp=w.createContext({isTransitioning:!1});tp.displayName="ViewTransition";var Qv=w.createContext(new Map);Qv.displayName="Fetchers";var Pv=w.createContext(null);Pv.displayName="Await";var Yt=w.createContext(null);Yt.displayName="Navigation";var Ki=w.createContext(null);Ki.displayName="Location";var na=w.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var zu=w.createContext(null);zu.displayName="RouteError";var ap="REACT_ROUTER_ERROR",Iv="REDIRECT",Zv="ROUTE_ERROR_RESPONSE";function Wv(s){if(s.startsWith(`${ap}:${Iv}:{`))try{let a=JSON.parse(s.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Fv(s){if(s.startsWith(`${ap}:${Zv}:{`))try{let a=JSON.parse(s.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Vv(a.status,a.statusText,a.data)}catch{}}function ex(s,{relative:a}={}){He(Xi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=w.useContext(Yt),{hash:u,pathname:h,search:f}=Pi(s,{relative:a}),m=h;return r!=="/"&&(m=h==="/"?r:Sa([r,h])),l.createHref({pathname:m,search:f,hash:u})}function Xi(){return w.useContext(Ki)!=null}function Na(){return He(Xi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ki).location}var np="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sp(s){w.useContext(Yt).static||w.useLayoutEffect(s)}function Ji(){let{isDataRoute:s}=w.useContext(na);return s?fx():tx()}function tx(){He(Xi(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(Cs),{basename:a,navigator:r}=w.useContext(Yt),{matches:l}=w.useContext(na),{pathname:u}=Na(),h=JSON.stringify(Ig(l)),f=w.useRef(!1);return sp(()=>{f.current=!0}),w.useCallback((y,p={})=>{if(Zt(f.current,np),!f.current)return;if(typeof y=="number"){r.go(y);return}let v=Zg(y,JSON.parse(h),u,p.relative==="path");s==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:Sa([a,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[a,r,h,u,s])}w.createContext(null);function Qi(){let{matches:s}=w.useContext(na),a=s[s.length-1];return a?a.params:{}}function Pi(s,{relative:a}={}){let{matches:r}=w.useContext(na),{pathname:l}=Na(),u=JSON.stringify(Ig(r));return w.useMemo(()=>Zg(s,JSON.parse(u),l,a==="path"),[s,u,l,a])}function ax(s,a){return ip(s,a)}function ip(s,a,r,l,u){He(Xi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=w.useContext(Yt),{matches:f}=w.useContext(na),m=f[f.length-1],y=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",_=m&&m.route;{let M=_&&_.path||"";lp(p,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=Na(),b;if(a){let M=typeof a=="string"?Os(a):a;He(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=S;let A=b.pathname||"/",E=A;if(v!=="/"){let M=v.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=Jg(s,{pathname:E});Zt(_||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=lx(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},y,M.params),pathname:Sa([v,h.encodeLocation?h.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Sa([v,h.encodeLocation?h.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),f,r,l,u);return a&&z?w.createElement(Ki.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},z):z}function nx(){let s=hx(),a=Yv(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:h},"ErrorBoundary")," or"," ",w.createElement("code",{style:h},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},a),r?w.createElement("pre",{style:u},r):null,f)}var sx=w.createElement(nx,null),rp=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Fv(s.digest);r&&(s=r)}let a=s!==void 0?w.createElement(na.Provider,{value:this.props.routeContext},w.createElement(zu.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?w.createElement(ix,{error:s},a):a}};rp.contextType=Jv;var du=new WeakMap;function ix({children:s,error:a}){let{basename:r}=w.useContext(Yt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=Wv(a.digest);if(l){let u=du.get(a);if(u)throw u;let h=Fg(l.location,r);if(Wg&&!du.get(a))if(h.isExternal||l.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:l.replace}));throw du.set(a,f),f}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return s}function rx({routeContext:s,match:a,children:r}){let l=w.useContext(Cs);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),w.createElement(na.Provider,{value:s},r)}function lx(s,a=[],r=null,l=null,u=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let h=s,f=r?.errors;if(f!=null){let v=h.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);He(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let m=!1,y=-1;if(r)for(let v=0;v<h.length;v++){let _=h[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=v),_.route.id){let{loaderData:S,errors:b}=r,A=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||A){m=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let p=r&&l?(v,_)=>{l(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Kv(r.matches),errorInfo:_})}:void 0;return h.reduceRight((v,_,S)=>{let b,A=!1,E=null,C=null;r&&(b=f&&_.route.id?f[_.route.id]:void 0,E=_.route.errorElement||sx,m&&(y<0&&S===0?(lp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):y===S&&(A=!0,C=_.route.hydrateFallbackElement||null)));let z=a.concat(h.slice(0,S+1)),M=()=>{let L;return b?L=E:A?L=C:_.route.Component?L=w.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=v,w.createElement(rx,{match:_,routeContext:{outlet:v,matches:z,isDataRoute:r!=null},children:L})};return r&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?w.createElement(rp,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):M()},null)}function Bu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(s){let a=w.useContext(Cs);return He(a,Bu(s)),a}function cx(s){let a=w.useContext(kl);return He(a,Bu(s)),a}function ux(s){let a=w.useContext(na);return He(a,Bu(s)),a}function qu(s){let a=ux(s),r=a.matches[a.matches.length-1];return He(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function dx(){return qu("useRouteId")}function hx(){let s=w.useContext(zu),a=cx("useRouteError"),r=qu("useRouteError");return s!==void 0?s:a.errors?.[r]}function fx(){let{router:s}=ox("useNavigate"),a=qu("useNavigate"),r=w.useRef(!1);return sp(()=>{r.current=!0}),w.useCallback(async(u,h={})=>{Zt(r.current,np),r.current&&(typeof u=="number"?await s.navigate(u):await s.navigate(u,{fromRouteId:a,...h}))},[s,a])}var ug={};function lp(s,a,r){!a&&!ug[s]&&(ug[s]=!0,Zt(!1,r))}w.memo(mx);function mx({routes:s,future:a,state:r,onError:l}){return ip(s,void 0,r,l,a)}function We(s){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gx({basename:s="/",children:a=null,location:r,navigationType:l="POP",navigator:u,static:h=!1,unstable_useTransitions:f}){He(!Xi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),y=w.useMemo(()=>({basename:m,navigator:u,static:h,unstable_useTransitions:f,future:{}}),[m,u,h,f]);typeof r=="string"&&(r=Os(r));let{pathname:p="/",search:v="",hash:_="",state:S=null,key:b="default"}=r,A=w.useMemo(()=>{let E=ja(p,m);return E==null?null:{location:{pathname:E,search:v,hash:_,state:S,key:b},navigationType:l}},[m,p,v,_,S,b,l]);return Zt(A!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:w.createElement(Yt.Provider,{value:y},w.createElement(Ki.Provider,{children:a,value:A}))}function px({children:s,location:a}){return ax(Su(s),a)}function Su(s,a=[]){let r=[];return w.Children.forEach(s,(l,u)=>{if(!w.isValidElement(l))return;let h=[...a,u];if(l.type===w.Fragment){r.push.apply(r,Su(l.props.children,h));return}He(l.type===We,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Su(l.props.children,h)),r.push(f)}),r}var Nl="get",El="application/x-www-form-urlencoded";function Dl(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function yx(s){return Dl(s)&&s.tagName.toLowerCase()==="button"}function vx(s){return Dl(s)&&s.tagName.toLowerCase()==="form"}function xx(s){return Dl(s)&&s.tagName.toLowerCase()==="input"}function bx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _x(s,a){return s.button===0&&(!a||a==="_self")&&!bx(s)}function ju(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((a,r)=>{let l=s[r];return a.concat(Array.isArray(l)?l.map(u=>[r,u]):[[r,l]])},[]))}function wx(s,a){let r=ju(s);return a&&a.forEach((l,u)=>{r.has(u)||a.getAll(u).forEach(h=>{r.append(u,h)})}),r}var pl=null;function Sx(){if(pl===null)try{new FormData(document.createElement("form"),0),pl=!1}catch{pl=!0}return pl}var jx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hu(s){return s!=null&&!jx.has(s)?(Zt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${El}"`),null):s}function Nx(s,a){let r,l,u,h,f;if(vx(s)){let m=s.getAttribute("action");l=m?ja(m,a):null,r=s.getAttribute("method")||Nl,u=hu(s.getAttribute("enctype"))||El,h=new FormData(s)}else if(yx(s)||xx(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||m.getAttribute("action");if(l=y?ja(y,a):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Nl,u=hu(s.getAttribute("formenctype"))||hu(m.getAttribute("enctype"))||El,h=new FormData(m,s),!Sx()){let{name:p,type:v,value:_}=s;if(v==="image"){let S=p?`${p}.`:"";h.append(`${S}x`,"0"),h.append(`${S}y`,"0")}else p&&h.append(p,_)}}else{if(Dl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nl,l=null,u=El,f=s}return h&&u==="text/plain"&&(f=h,h=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hu(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Ex(s,a,r,l){let u=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${l}`:u.pathname=`${u.pathname}.${l}`:u.pathname==="/"?u.pathname=`_root.${l}`:a&&ja(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${l}`,u}async function Tx(s,a){if(s.id in a)return a[s.id];try{let r=await import(s.module);return a[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ax(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Rx(s,a,r){let l=await Promise.all(s.map(async u=>{let h=a.routes[u.route.id];if(h){let f=await Tx(h,r);return f.links?f.links():[]}return[]}));return Dx(l.flat(1).filter(Ax).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function dg(s,a,r,l,u,h){let f=(y,p)=>r[p]?y.route.id!==r[p].route.id:!0,m=(y,p)=>r[p].pathname!==y.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==y.params["*"];return h==="assets"?a.filter((y,p)=>f(y,p)||m(y,p)):h==="data"?a.filter((y,p)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let _=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ox(s,a,{includeHydrateFallback:r}={}){return Cx(s.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Cx(s){return[...new Set(s)]}function kx(s){let a={},r=Object.keys(s).sort();for(let l of r)a[l]=s[l];return a}function Dx(s,a){let r=new Set;return new Set(a),s.reduce((l,u)=>{let h=JSON.stringify(kx(u));return r.has(h)||(r.add(h),l.push({key:h,link:u})),l},[])}function op(){let s=w.useContext(Cs);return Hu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ux(){let s=w.useContext(kl);return Hu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var $u=w.createContext(void 0);$u.displayName="FrameworkContext";function cp(){let s=w.useContext($u);return Hu(s,"You must render this element inside a <HydratedRouter> element"),s}function Mx(s,a){let r=w.useContext($u),[l,u]=w.useState(!1),[h,f]=w.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=a,S=w.useRef(null);w.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let E=z=>{z.forEach(M=>{f(M.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[s]),w.useEffect(()=>{if(l){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[l]);let b=()=>{u(!0)},A=()=>{u(!1),f(!1)};return r?s!=="intent"?[h,S,{}]:[h,S,{onFocus:Ai(m,b),onBlur:Ai(y,A),onMouseEnter:Ai(p,b),onMouseLeave:Ai(v,A),onTouchStart:Ai(_,b)}]:[!1,S,{}]}function Ai(s,a){return r=>{s&&s(r),r.defaultPrevented||a(r)}}function Lx({page:s,...a}){let{router:r}=op(),l=w.useMemo(()=>Jg(r.routes,s,r.basename),[r.routes,s,r.basename]);return l?w.createElement(Bx,{page:s,matches:l,...a}):null}function zx(s){let{manifest:a,routeModules:r}=cp(),[l,u]=w.useState([]);return w.useEffect(()=>{let h=!1;return Rx(s,a,r).then(f=>{h||u(f)}),()=>{h=!0}},[s,a,r]),l}function Bx({page:s,matches:a,...r}){let l=Na(),{future:u,manifest:h,routeModules:f}=cp(),{basename:m}=op(),{loaderData:y,matches:p}=Ux(),v=w.useMemo(()=>dg(s,a,p,h,l,"data"),[s,a,p,h,l]),_=w.useMemo(()=>dg(s,a,p,h,l,"assets"),[s,a,p,h,l]),S=w.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let E=new Set,C=!1;if(a.forEach(M=>{let L=h.routes[M.route.id];!L||!L.hasLoader||(!v.some(H=>H.route.id===M.route.id)&&M.route.id in y&&f[M.route.id]?.shouldRevalidate||L.hasClientLoader?C=!0:E.add(M.route.id))}),E.size===0)return[];let z=Ex(s,m,u.unstable_trailingSlashAwareDataRequests,"data");return C&&E.size>0&&z.searchParams.set("_routes",a.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[z.pathname+z.search]},[m,u.unstable_trailingSlashAwareDataRequests,y,l,h,v,a,s,f]),b=w.useMemo(()=>Ox(_,h),[_,h]),A=zx(_);return w.createElement(w.Fragment,null,S.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),A.map(({key:E,link:C})=>w.createElement("link",{key:E,nonce:r.nonce,...C,crossOrigin:C.crossOrigin??r.crossOrigin})))}function qx(...s){return a=>{s.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hx&&(window.__reactRouterVersion="7.13.0")}catch{}function $x({basename:s,children:a,unstable_useTransitions:r,window:l}){let u=w.useRef();u.current==null&&(u.current=bv({window:l,v5Compat:!0}));let h=u.current,[f,m]=w.useState({action:h.action,location:h.location}),y=w.useCallback(p=>{r===!1?m(p):w.startTransition(()=>m(p))},[r]);return w.useLayoutEffect(()=>h.listen(y),[h,y]),w.createElement(gx,{basename:s,children:a,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:r})}var up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=w.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:u,reloadDocument:h,replace:f,state:m,target:y,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:S,...b},A){let{basename:E,unstable_useTransitions:C}=w.useContext(Yt),z=typeof p=="string"&&up.test(p),M=Fg(p,E);p=M.to;let L=ex(p,{relative:u}),[H,J,I]=Mx(l,b),q=Kx(p,{replace:f,state:m,target:y,preventScrollReset:v,relative:u,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:C});function F(Z){a&&a(Z),Z.defaultPrevented||q(Z)}let se=w.createElement("a",{...b,...I,href:M.absoluteURL||L,onClick:M.isExternal||h?a:F,ref:qx(A,J),target:y,"data-discover":!z&&r==="render"?"true":void 0});return H&&!z?w.createElement(w.Fragment,null,se,w.createElement(Lx,{page:L})):se});ae.displayName="Link";var Gx=w.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:u=!1,style:h,to:f,viewTransition:m,children:y,...p},v){let _=Pi(f,{relative:p.relative}),S=Na(),b=w.useContext(kl),{navigator:A,basename:E}=w.useContext(Yt),C=b!=null&&Ix(_)&&m===!0,z=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,M=S.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(M=M.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&E&&(L=ja(L,E)||L);const H=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let J=M===z||!u&&M.startsWith(z)&&M.charAt(H)==="/",I=L!=null&&(L===z||!u&&L.startsWith(z)&&L.charAt(z.length)==="/"),q={isActive:J,isPending:I,isTransitioning:C},F=J?a:void 0,se;typeof l=="function"?se=l(q):se=[l,J?"active":null,I?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Z=typeof h=="function"?h(q):h;return w.createElement(ae,{...p,"aria-current":F,className:se,ref:v,style:Z,to:f,viewTransition:m},typeof y=="function"?y(q):y)});Gx.displayName="NavLink";var Vx=w.forwardRef(({discover:s="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:u,state:h,method:f=Nl,action:m,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:S,...b},A)=>{let{unstable_useTransitions:E}=w.useContext(Yt),C=Qx(),z=Px(m,{relative:p}),M=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&up.test(m),H=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let I=J.nativeEvent.submitter,q=I?.getAttribute("formmethod")||f,F=()=>C(I||J.currentTarget,{fetcherKey:a,method:q,navigate:r,replace:u,state:h,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:S});E&&r!==!1?w.startTransition(()=>F()):F()};return w.createElement("form",{ref:A,method:M,action:z,onSubmit:l?y:H,...b,"data-discover":!L&&s==="render"?"true":void 0})});Vx.displayName="Form";function Yx(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dp(s){let a=w.useContext(Cs);return He(a,Yx(s)),a}function Kx(s,{target:a,replace:r,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let p=Ji(),v=Na(),_=Pi(s,{relative:h});return w.useCallback(S=>{if(_x(S,a)){S.preventDefault();let b=r!==void 0?r:Di(v)===Di(_),A=()=>p(s,{replace:b,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m});y?w.startTransition(()=>A()):A()}},[v,p,_,r,l,a,s,u,h,f,m,y])}function hp(s){Zt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=w.useRef(ju(s)),r=w.useRef(!1),l=Na(),u=w.useMemo(()=>wx(l.search,r.current?null:a.current),[l.search]),h=Ji(),f=w.useCallback((m,y)=>{const p=ju(typeof m=="function"?m(new URLSearchParams(u)):m);r.current=!0,h("?"+p,y)},[h,u]);return[u,f]}var Xx=0,Jx=()=>`__${String(++Xx)}__`;function Qx(){let{router:s}=dp("useSubmit"),{basename:a}=w.useContext(Yt),r=dx(),l=s.fetch,u=s.navigate;return w.useCallback(async(h,f={})=>{let{action:m,method:y,encType:p,formData:v,body:_}=Nx(h,a);if(f.navigate===!1){let S=f.fetcherKey||Jx();await l(S,r,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||y,formEncType:f.encType||p,flushSync:f.flushSync})}else await u(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||y,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,a,r])}function Px(s,{relative:a}={}){let{basename:r}=w.useContext(Yt),l=w.useContext(na);He(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Pi(s||".",{relative:a})},f=Na();if(s==null){h.search=f.search;let m=new URLSearchParams(h.search),y=m.getAll("index");if(y.some(v=>v==="")){m.delete("index"),y.filter(_=>_).forEach(_=>m.append("index",_));let v=m.toString();h.search=v?`?${v}`:""}}return(!s||s===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:Sa([r,h.pathname])),Di(h)}function Ix(s,{relative:a}={}){let r=w.useContext(tp);He(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=dp("useViewTransitionState"),u=Pi(s,{relative:a});if(!r.isTransitioning)return!1;let h=ja(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=ja(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Tl(u.pathname,f)!=null||Tl(u.pathname,h)!=null}function Ul(s,a){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(r[l[u]]=s[l[u]]);return r}function Zx(s,a,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(v){try{p(l.next(v))}catch(_){f(_)}}function y(v){try{p(l.throw(v))}catch(_){f(_)}}function p(v){v.done?h(v.value):u(v.value).then(m,y)}p((l=l.apply(s,a||[])).next())})}const Wx=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Gu extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class Fx extends Gu{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class hg extends Gu{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class fg extends Gu{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Nu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Nu||(Nu={}));class eb{constructor(a,{headers:r={},customFetch:l,region:u=Nu.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Wx(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Zx(this,arguments,void 0,function*(r,l={}){var u;let h,f;try{const{headers:m,method:y,body:p,signal:v,timeout:_}=l;let S={},{region:b}=l;b||(b=this.region);const A=new URL(`${this.url}/${r}`);b&&b!=="any"&&(S["x-region"]=b,A.searchParams.set("forceFunctionRegion",b));let E;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(S["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(S["Content-Type"]="application/json",E=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?E=JSON.stringify(p):E=p;let C=v;_&&(f=new AbortController,h=setTimeout(()=>f.abort(),_),v?(C=f.signal,v.addEventListener("abort",()=>f.abort())):C=f.signal);const z=yield this.fetch(A.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:E,signal:C}).catch(J=>{throw new Fx(J)}),M=z.headers.get("x-relay-error");if(M&&M==="true")throw new hg(z);if(!z.ok)throw new fg(z);let L=((u=z.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),H;return L==="application/json"?H=yield z.json():L==="application/octet-stream"||L==="application/pdf"?H=yield z.blob():L==="text/event-stream"?H=z:L==="multipart/form-data"?H=yield z.formData():H=yield z.text(),{data:H,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof fg||m instanceof hg?m.context:void 0}}finally{h&&clearTimeout(h)}})}}var tb=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},ab=class{constructor(s){var a,r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=s.urlLengthLimit)!==null&&l!==void 0?l:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,m=null,y=null,p=h.status,v=h.statusText;if(h.ok){var _,S;if(r.method!=="HEAD"){var b;const z=await h.text();z===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?m=z:m=JSON.parse(z))}const E=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),C=(S=h.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");E&&C&&C.length>1&&(y=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,p=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var A;const E=await h.text();try{f=JSON.parse(E),Array.isArray(f)&&h.status===404&&(m=[],f=null,p=200,v="OK")}catch{h.status===404&&E===""?(p=204,v="No Content"):f={message:E}}if(f&&r.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,p=200,v="OK"),f&&r.shouldThrowOnError)throw new tb(f)}return{error:f,data:m,count:y,status:p,statusText:v}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let m="",y="",p="";const v=h?.cause;if(v){var _,S,b,A;const z=(_=v?.message)!==null&&_!==void 0?_:"",M=(S=v?.code)!==null&&S!==void 0?S:"";m=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,m+=`

Caused by: ${(A=v?.name)!==null&&A!==void 0?A:"Error"}: ${z}`,M&&(m+=` (${M})`),v?.stack&&(m+=`
${v.stack}`)}else{var E;m=(E=h?.stack)!==null&&E!==void 0?E:""}const C=this.url.toString().length;return h?.name==="AbortError"||h?.code==="ABORT_ERR"?(p="",y="Request was aborted (timeout or manual cancellation)",C>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${C} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",y="HTTP headers exceeded server limits (typically 16KB)",C>this.urlLengthLimit&&(y+=`. Your request URL is ${C} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:m,hint:y,code:p},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}},nb=class extends ab{select(s){let a=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${s}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const m=[s?"analyze":null,a?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const mg=new RegExp("[,()]");var Ss=class extends nb{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&mg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&mg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:r,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${u}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(s,a,r){return this.url.searchParams.append(s,`not.${a}.${r}`),this}or(s,{foreignTable:a,referencedTable:r=a}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,r){return this.url.searchParams.append(s,`${a}.${r}`),this}},sb=class{constructor(s,{headers:a={},schema:r,fetch:l,urlLengthLimit:u=8e3}){this.url=s,this.headers=new Headers(a),this.schema=r,this.fetch=l,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:r=!1,count:l}=a??{},u=r?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",f),l&&y.append("Prefer",`count=${l}`),new Ss({method:u,url:m,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:r=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),r||f.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(m.length>0){const y=[...new Set(m)].map(p=>`"${p}"`);h.searchParams.set("columns",y.join(","))}}return new Ss({method:u,url:h,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),l&&y.append("Prefer",`count=${l}`),u||y.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);m.searchParams.set("columns",v.join(","))}}return new Ss({method:f,url:m,headers:y,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var r;const l="PATCH",{url:u,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new Ss({method:l,url:u,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const r="DELETE",{url:l,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new Ss({method:r,url:l,headers:u,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ui(s){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ui(s)}function ib(s,a){if(Ui(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(Ui(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function rb(s){var a=ib(s,"string");return Ui(a)=="symbol"?a:a+""}function lb(s,a,r){return(a=rb(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function gg(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function yl(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?gg(Object(r),!0).forEach(function(l){lb(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}var ob=class fp{constructor(a,{headers:r={},schema:l,fetch:u,timeout:h,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=f;const m=u??globalThis.fetch;h!==void 0&&h>0?this.fetch=(y,p)=>{const v=new AbortController,_=setTimeout(()=>v.abort(),h),S=p?.signal;if(S){if(S.aborted)return clearTimeout(_),m(y,p);const b=()=>{clearTimeout(_),v.abort()};return S.addEventListener("abort",b,{once:!0}),m(y,yl(yl({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(_),S.removeEventListener("abort",b)})}return m(y,yl(yl({},p),{},{signal:v.signal})).finally(()=>clearTimeout(_))}:this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sb(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new fp(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,r={},{head:l=!1,get:u=!1,count:h}={}){var f;let m;const y=new URL(`${this.url}/rpc/${a}`);let p;const v=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(v)),_=l&&Object.values(r).some(v);_?(m="POST",p=r):l||u?(m=l?"HEAD":"GET",Object.entries(r).filter(([b,A])=>A!==void 0).map(([b,A])=>[b,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([b,A])=>{y.searchParams.append(b,A)})):(m="POST",p=r);const S=new Headers(this.headers);return _?S.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&S.set("Prefer",`count=${h}`),new Ss({method:m,url:y,headers:S,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class cb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const u=l.node,h=parseInt(u.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const ub="2.95.3",db=`realtime-js/${ub}`,hb="1.0.0",mp="2.0.0",pg=mp,Eu=1e4,fb=1e3,mb=100;var Wa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Wa||(Wa={}));var at;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(at||(at={}));var It;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(It||(It={}));var Tu;(function(s){s.websocket="websocket"})(Tu||(Tu={}));var En;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(En||(En={}));class gb{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,l){var u,h;const f=a.topic,m=(u=a.ref)!==null&&u!==void 0?u:"",y=(h=a.join_ref)!==null&&h!==void 0?h:"",p=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+f.length+p.length+_.length,b=new ArrayBuffer(this.HEADER_LENGTH+S);let A=new DataView(b),E=0;A.setUint8(E++,this.KINDS.userBroadcastPush),A.setUint8(E++,y.length),A.setUint8(E++,m.length),A.setUint8(E++,f.length),A.setUint8(E++,p.length),A.setUint8(E++,_.length),A.setUint8(E++,r),Array.from(y,z=>A.setUint8(E++,z.charCodeAt(0))),Array.from(m,z=>A.setUint8(E++,z.charCodeAt(0))),Array.from(f,z=>A.setUint8(E++,z.charCodeAt(0))),Array.from(p,z=>A.setUint8(E++,z.charCodeAt(0))),Array.from(_,z=>A.setUint8(E++,z.charCodeAt(0)));var C=new Uint8Array(b.byteLength+l.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(l),b.byteLength),C.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,h,f,m,y]=l;return r({join_ref:u,ref:h,topic:f,event:m,payload:y})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,u)}_decodeUserBroadcast(a,r,l){const u=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let y=this.HEADER_LENGTH+4;const p=l.decode(a.slice(y,y+u));y=y+u;const v=l.decode(a.slice(y,y+h));y=y+h;const _=l.decode(a.slice(y,y+f));y=y+f;const S=a.slice(y,a.byteLength),b=m===this.JSON_ENCODING?JSON.parse(l.decode(S)):S,A={type:this.BROADCAST_EVENT,event:v,payload:b};return f>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class gp{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Me||(Me={}));const yg=(s,a,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((h,f)=>(h[f]=pb(f,s,a,u),h),{}):{}},pb=(s,a,r,l)=>{const u=a.find(m=>m.name===s),h=u?.type,f=r[s];return h&&!l.includes(h)?pp(h,f):Au(f)},pp=(s,a)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return bb(a,r)}switch(s){case Me.bool:return yb(a);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return vb(a);case Me.json:case Me.jsonb:return xb(a);case Me.timestamp:return _b(a);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Au(a);default:return Au(a)}},Au=s=>s,yb=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},vb=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},xb=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},bb=(s,a)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let h;const f=s.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(m=>pp(a,m))}return s},_b=s=>typeof s=="string"?s.replace(" ","T"):s,yp=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class fu{constructor(a,r,l={},u=Eu){this.channel=a,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var vg;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(vg||(vg={}));class Ci{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,u,h,f),this.pendingDiffs.forEach(y=>{this.state=Ci.syncDiff(this.state,y,h,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ci.syncDiff(this.state,u,h,f),m())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,u){const h=this.cloneDeep(a),f=this.transformState(r),m={},y={};return this.map(h,(p,v)=>{f[p]||(y[p]=v)}),this.map(f,(p,v)=>{const _=h[p];if(_){const S=v.map(C=>C.presence_ref),b=_.map(C=>C.presence_ref),A=v.filter(C=>b.indexOf(C.presence_ref)<0),E=_.filter(C=>S.indexOf(C.presence_ref)<0);A.length>0&&(m[p]=A),E.length>0&&(y[p]=E)}else m[p]=v}),this.syncDiff(h,{joins:m,leaves:y},l,u)}static syncDiff(a,r,l,u){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(m,y)=>{var p;const v=(p=a[m])!==null&&p!==void 0?p:[];if(a[m]=this.cloneDeep(y),v.length>0){const _=a[m].map(b=>b.presence_ref),S=v.filter(b=>_.indexOf(b.presence_ref)<0);a[m].unshift(...S)}l(m,v,y)}),this.map(f,(m,y)=>{let p=a[m];if(!p)return;const v=y.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),a[m]=p,u(m,p,y),p.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const u=a[l];return"metas"in u?r[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(xg||(xg={}));var ki;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ki||(ki={}));var wa;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class Es{constructor(a,r={config:{}},l){var u,h;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fu(this,It.join,this.params,this.timeout),this.rejoinTimer=new gp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Ci(this),this.broadcastEndpointURL=yp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:f,presence:m,private:y}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(b=>b.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[ki.PRESENCE]&&this.bindings[ki.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,_={},S={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(b=>a?.(wa.CHANNEL_ERROR,b)),this._onClose(()=>a?.(wa.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){a?.(wa.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(A=E?.length)!==null&&A!==void 0?A:0,z=[];for(let M=0;M<C;M++){const L=E[M],{filter:{event:H,schema:J,table:I,filter:q}}=L,F=b&&b[M];if(F&&F.event===H&&Es.isFilterValueEqual(F.schema,J)&&Es.isFilterValueEqual(F.table,I)&&Es.isFilterValueEqual(F.filter,q))z.push(Object.assign(Object.assign({},L),{id:F.id}));else{this.unsubscribe(),this.state=at.errored,a?.(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,a&&a(wa.SUBSCRIBED);return}}).receive("error",b=>{this.state=at.errored,a?.(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{a?.(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===at.joined&&a===ki.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const p=await m.json();y=p.error||p.message||y}catch{}return Promise.reject(new Error(y))}async send(a,r={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,m,y;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),p.receive("ok",()=>h("ok")),p.receive("error",()=>h("error")),p.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new fu(this,It.leave,{},a),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(h),f}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new fu(this,a,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>mb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var u,h;const f=a.toLocaleLowerCase(),{close:m,error:y,leave:p,join:v}=It;if(l&&[m,y,p,v].indexOf(f)>=0&&l!==this._joinRef())return;let S=this._onMessage(f,r,l);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(b=>{var A,E,C;return((A=b.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===f}).map(b=>b.callback(S,l)):(h=this.bindings[f])===null||h===void 0||h.filter(b=>{var A,E,C,z,M,L;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in b){const H=b.id,J=(A=b.filter)===null||A===void 0?void 0:A.event;return H&&((E=r.ids)===null||E===void 0?void 0:E.includes(H))&&(J==="*"||J?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const H=(M=(z=b?.filter)===null||z===void 0?void 0:z.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return H==="*"||H===((L=r?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===f}).map(b=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:E,table:C,commit_timestamp:z,type:M,errors:L}=A;S=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:z,eventType:M,new:{},old:{},errors:L}),this._getPayloadRecords(A))}b.callback(S,l)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const u=a.toLocaleLowerCase(),h={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Es.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(It.close,{},a)}_onError(a){this._on(It.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=yg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=yg(a.columns,a.old_record)),r}}const mu=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wb=[1e3,2e3,5e3,1e4],Sb=1e4,jb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nb{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mu,this.ref=0,this.reconnectTimer=null,this.vsn=pg,this.logger=mu,this.conn=null,this.sendBuffer=[],this.serializer=new gb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Tu.websocket}`,this.httpEndpoint=yp(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return r==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Wa.connecting:return En.Connecting;case Wa.open:return En.Open;case Wa.closing:return En.Closing;default:return En.Closed}}isConnected(){return this.connectionState()===En.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Es(`realtime:${a}`,r,this);return this.channels.push(h),h}}push(a){const{topic:r,event:l,payload:u,ref:h}=a,f=()=>{this.encode(a,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${r} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(fb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:h,ref:f}=r,m=f?`(${f})`:"",y=h.status||"";this.log("receive",`${y} ${l} ${u} ${m}`.trim(),h),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Wa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wa.open||this.conn.readyState===Wa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(It.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${l}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([jb],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,l=!1;if(a)r=a,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const h={access_token:r,version:db};r&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(It.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new gp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,u,h,f,m,y,p,v,_,S,b;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Eu,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:vl.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:mu,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:pg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(A=>wb[A-1]||Sb),this.vsn){case hb:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((A,E)=>E(JSON.stringify(A))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((A,E)=>E(JSON.parse(A)));break;case mp:this.encode=(S=a?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(b=a?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Mi=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Eb(s,a,r){const l=new URL(a,s);if(r)for(const[u,h]of Object.entries(r))h!==void 0&&l.searchParams.set(u,h);return l.toString()}async function Tb(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Ab(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:h,headers:f}){const m=Eb(s.baseUrl,l,u),y=await Tb(s.auth),p=await a(m,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...y,...f},body:h?JSON.stringify(h):void 0}),v=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),S=_&&v?JSON.parse(v):v;if(!p.ok){const b=_?S:void 0,A=b?.error;throw new Mi(A?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:A?.type,icebergCode:A?.code,details:b})}return{status:p.status,headers:p.headers,data:S}}}}function xl(s){return s.join("")}var Rb=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:xl(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,a){const r={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(s.namespace)}`}),!0}catch(a){if(a instanceof Mi&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(r){if(r instanceof Mi&&r.status===409)return;throw r}}};function gs(s){return s.join("")}var Ob=class{constructor(s,a="",r){this.client=s,this.prefix=a,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(s,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(r){if(r instanceof Mi&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(r){if(r instanceof Mi&&r.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw r}}},Cb=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Ab({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new Rb(this.client,a),this.tableOps=new Ob(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Ml=class extends Error{constructor(s,a="storage",r,l){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function Ll(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var bl=class extends Ml{constructor(s,a,r,l="storage"){super(s,l,a,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vp=class extends Ml{constructor(s,a,r="storage"){super(s,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const kb=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Db=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Ru=s=>{if(Array.isArray(s))return s.map(r=>Ru(r));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[u]=Ru(l)}),a},Ub=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Li(s){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Li(s)}function Mb(s,a){if(Li(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(Li(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Lb(s){var a=Mb(s,"string");return Li(a)=="symbol"?a:a+""}function zb(s,a,r){return(a=Lb(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function bg(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function de(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?bg(Object(r),!0).forEach(function(l){zb(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const _g=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},Bb=async(s,a,r,l)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const u=s,h=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const m=f?.statusCode||f?.code||h+"";a(new bl(_g(f),h,m,l))}).catch(()=>{if(l==="vectors"){const f=h+"";a(new bl(u.statusText||`HTTP ${h} error`,h,f,l))}else{const f=h+"";a(new bl(u.statusText||`HTTP ${h} error`,h,f,l))}});else{const f=h+"";a(new bl(u.statusText||`HTTP ${h} error`,h,f,l))}}else a(new vp(_g(s),s,l))},qb=(s,a,r,l)=>{const u={method:s,headers:a?.headers||{}};return s==="GET"||s==="HEAD"||!l?de(de({},u),r):(Db(l)?(u.headers=de({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),de(de({},u),r))};async function Ri(s,a,r,l,u,h,f){return new Promise((m,y)=>{s(r,qb(a,l,u,h)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;if(f==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>m(p)).catch(p=>Bb(p,y,l,f))})}function xp(s="storage"){return{get:async(a,r,l,u)=>Ri(a,"GET",r,l,u,void 0,s),post:async(a,r,l,u,h)=>Ri(a,"POST",r,u,h,l,s),put:async(a,r,l,u,h)=>Ri(a,"PUT",r,u,h,l,s),head:async(a,r,l,u)=>Ri(a,"HEAD",r,de(de({},l),{},{noResolveJson:!0}),u,void 0,s),remove:async(a,r,l,u,h)=>Ri(a,"DELETE",r,u,h,l,s)}}const Hb=xp("storage"),{get:zi,post:Pt,put:Ou,head:$b,remove:Vu}=Hb,kt=xp("vectors");var ks=class{constructor(s,a={},r,l="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=kb(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ll(r))return{data:null,error:r};throw r}}},Gb=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ll(a))return{data:null,error:a};throw a}}};let bp;bp=Symbol.toStringTag;var Vb=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[bp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gb(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ll(a))return{data:null,error:a};throw a}}};const Yb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Kb=class extends ks{constructor(s,a={},r,l){super(s,a,l,"storage"),this.bucketId=r}async uploadOrUpdate(s,a,r,l){var u=this;return u.handleOperation(async()=>{let h;const f=de(de({},wg),l);let m=de(de({},u.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),y&&h.append("metadata",u.encodeMetadata(y)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),y&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(y))):(h=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,y&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(m=de(de({},m),l.headers));const p=u._removeEmptyFolders(a),v=u._getFinalPath(p),_=await(s=="PUT"?Ou:Pt)(u.fetch,`${u.url}/object/${v}`,h,de({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:p,id:_.Id,fullPath:_.Key}})}async upload(s,a,r){return this.uploadOrUpdate("POST",s,a,r)}async uploadToSignedUrl(s,a,r,l){var u=this;const h=u._removeEmptyFolders(s),f=u._getFinalPath(h),m=new URL(u.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",a),u.handleOperation(async()=>{let y;const p=de({upsert:wg.upsert},l),v=de(de({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",p.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",p.cacheControl)):(y=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:h,fullPath:(await Ou(u.fetch,m.toString(),y,{headers:v})).Key}})}async createSignedUploadUrl(s,a){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(s);const u=de({},r.headers);a?.upsert&&(u["x-upsert"]="true");const h=await Pt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(r.url+h.url),m=f.searchParams.get("token");if(!m)throw new Ml("No token returned by API");return{signedUrl:f.toString(),path:s,token:m}})}async update(s,a,r){return this.uploadOrUpdate("PUT",s,a,r)}async move(s,a,r){var l=this;return l.handleOperation(async()=>await Pt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers}))}async copy(s,a,r){var l=this;return l.handleOperation(async()=>({path:(await Pt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(s,a,r){var l=this;return l.handleOperation(async()=>{let u=l._getFinalPath(s),h=await Pt(l.fetch,`${l.url}/object/sign/${u}`,de({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)}})}async createSignedUrls(s,a,r){var l=this;return l.handleOperation(async()=>{const u=await Pt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:s},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u.map(f=>de(de({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null}))})}download(s,a,r){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),h=u?`?${u}`:"",f=this._getFinalPath(s),m=()=>zi(this.fetch,`${this.url}/${l}/${f}${h}`,{headers:this.headers,noResolveJson:!0},r);return new Vb(m,this.shouldThrowOnError)}async info(s){var a=this;const r=a._getFinalPath(s);return a.handleOperation(async()=>Ru(await zi(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(s){var a=this;const r=a._getFinalPath(s);try{return await $b(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ll(l)&&l instanceof vp){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,a){const r=this._getFinalPath(s),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const h=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${m}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await Vu(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,r){var l=this;return l.handleOperation(async()=>{const u=de(de(de({},Yb),a),{},{prefix:s||""});return await Pt(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},r)})}async listV2(s,a){var r=this;return r.handleOperation(async()=>{const l=de({},s);return await Pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Xb="2.95.3",Ii={"X-Client-Info":`storage-js/${Xb}`};var Jb=class extends ks{constructor(s,a={},r,l){const u=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const h=u.href.replace(/\/$/,""),f=de(de({},Ii),a);super(h,f,r,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(s);return await zi(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await zi(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var r=this;return r.handleOperation(async()=>await Pt(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(s,a){var r=this;return r.handleOperation(async()=>await Ou(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await Pt(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Vu(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Qb=class extends ks{constructor(s,a={},r){const l=s.replace(/\/$/,""),u=de(de({},Ii),a);super(l,u,r,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Pt(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;s?.limit!==void 0&&r.set("limit",s.limit.toString()),s?.offset!==void 0&&r.set("offset",s.offset.toString()),s?.sortColumn&&r.set("sortColumn",s.sortColumn),s?.sortOrder&&r.set("sortOrder",s.sortOrder),s?.search&&r.set("search",s.search);const l=r.toString(),u=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return await zi(a.fetch,u,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Vu(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!Ub(s))throw new Ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Cb({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(y){if(l)throw y;return{data:null,error:y}}}}})}},Pb=class extends ks{constructor(s,a={},r){const l=s.replace(/\/$/,""),u=de(de({},Ii),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var r=this;return r.handleOperation(async()=>await kt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:r.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var r=this;return r.handleOperation(async()=>await kt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:r.headers})||{})}},Ib=class extends ks{constructor(s,a={},r){const l=s.replace(/\/$/,""),u=de(de({},Ii),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},Zb=class extends ks{constructor(s,a={},r){const l=s.replace(/\/$/,""),u=de(de({},Ii),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},Wb=class extends Zb{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new Fb(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,r=this;return a().call(r,s)}async getBucket(s){var a=()=>super.getBucket,r=this;return a().call(r,s)}async listBuckets(s={}){var a=()=>super.listBuckets,r=this;return a().call(r,s)}async deleteBucket(s){var a=()=>super.deleteBucket,r=this;return a().call(r,s)}},Fb=class extends Pb{constructor(s,a,r,l){super(s,a,l),this.vectorBucketName=r}async createIndex(s){var a=()=>super.createIndex,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,s)}index(s){return new e_(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},e_=class extends Ib{constructor(s,a,r,l,u){super(s,a,u),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var a=()=>super.putVectors,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var a=()=>super.getVectors,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,r=this;return a().call(r,de(de({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},t_=class extends Jb{constructor(s,a={},r,l){super(s,a,r,l)}from(s){return new Kb(this.url,this.headers,s,this.fetch)}get vectors(){return new Wb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qb(this.url+"/iceberg",this.headers,this.fetch)}};const _p="2.95.3",js=30*1e3,Cu=3,gu=Cu*js,a_="http://localhost:9999",n_="supabase.auth.token",s_={"X-Client-Info":`gotrue-js/${_p}`},ku="X-Supabase-Api-Version",wp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r_=600*1e3;class Bi extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function te(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class l_ extends Bi{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function o_(s){return te(s)&&s.name==="AuthApiError"}class Tn extends Bi{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Ea extends Bi{constructor(a,r,l,u){super(a,l,u),this.name=r,this.status=l}}class Ct extends Ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pu(s){return te(s)&&s.name==="AuthSessionMissingError"}class ps extends Ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _l extends Ea{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class wl extends Ea{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c_(s){return te(s)&&s.name==="AuthImplicitGrantRedirectError"}class Sg extends Ea{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class u_ extends Ea{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Du extends Ea{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function yu(s){return te(s)&&s.name==="AuthRetryableFetchError"}class jg extends Ea{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Uu extends Ea{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ng=` 	
\r=`.split(""),d_=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Ng.length;a+=1)s[Ng[a].charCodeAt(0)]=-2;for(let a=0;a<Al.length;a+=1)s[Al[a].charCodeAt(0)]=a;return s})();function Eg(s,a,r){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Al[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Al[l]),a.queuedBits-=6}}function Sp(s,a,r){const l=d_[s];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Tg(s){const a=[],r=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{m_(f,l,r)};for(let f=0;f<s.length;f+=1)Sp(s.charCodeAt(f),u,h);return a.join("")}function h_(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function f_(s,a){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}h_(l,a)}}function m_(s,a,r){if(a.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function As(s){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<s.length;u+=1)Sp(s.charCodeAt(u),r,l);return new Uint8Array(a)}function g_(s){const a=[];return f_(s,r=>a.push(r)),new Uint8Array(a)}function An(s){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};return s.forEach(u=>Eg(u,r,l)),Eg(null,r,l),a.join("")}function p_(s){return Math.round(Date.now()/1e3)+s}function y_(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",wn={tested:!1,writable:!1},jp=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function v_(s){const a={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,h)=>{a[h]=u})}catch{}return r.searchParams.forEach((l,u)=>{a[u]=l}),a}const Np=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),x_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ns=async(s,a,r)=>{await s.setItem(a,JSON.stringify(r))},Sn=async(s,a)=>{const r=await s.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ut=async(s,a)=>{await s.removeItem(a)};class zl{constructor(){this.promise=new zl.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}zl.promiseConstructor=Promise;function Sl(s){const a=s.split(".");if(a.length!==3)throw new Uu("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!i_.test(a[l]))throw new Uu("JWT not in base64url format");return{header:JSON.parse(Tg(a[0])),payload:JSON.parse(Tg(a[1])),signature:As(a[2]),raw:{header:a[0],payload:a[1]}}}async function b_(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function __(s,a){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await s(h);if(!a(h,null,f)){l(f);return}}catch(f){if(!a(h,f)){u(f);return}}})()})}function w_(s){return("0"+s.toString(16)).substr(-2)}function S_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let h=0;h<56;h++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,w_).join("")}async function j_(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function N_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await j_(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(s,a,r=!1){const l=S_();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await Ns(s,`${a}-code-verifier`,u);const h=await N_(l);return[h,l===h?"plain":"s256"]}const E_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T_(s){const a=s.headers.get(ku);if(!a||!a.match(E_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function A_(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function R_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(s){if(!O_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vu(){const s={};return new Proxy(s,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C_(s,a){return new Proxy(s,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,u)}})}function Ag(s){return JSON.parse(JSON.stringify(s))}const Nn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),k_=[502,503,504];async function Rg(s){var a;if(!x_(s))throw new Du(Nn(s),0);if(k_.includes(s.status))throw new Du(Nn(s),s.status);let r;try{r=await s.json()}catch(h){throw new Tn(Nn(h),h)}let l;const u=T_(s);if(u&&u.getTime()>=wp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new jg(Nn(r),s.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new jg(Nn(r),s.status,r.weak_password.reasons);throw new l_(Nn(r),s.status||500,l)}const D_=(s,a,r,l)=>{const u={method:s,headers:a?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function ue(s,a,r,l){var u;const h=Object.assign({},l?.headers);h[ku]||(h[ku]=wp["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await U_(s,a,r+m,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(y):{data:Object.assign({},y),error:null}}async function U_(s,a,r,l,u,h){const f=D_(a,l,u,h);let m;try{m=await s(r,Object.assign({},f))}catch(y){throw console.error(y),new Du(Nn(y),0)}if(m.ok||await Rg(m),l?.noResolveJson)return m;try{return await m.json()}catch(y){await Rg(y)}}function Qt(s){var a;let r=null;z_(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=p_(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:r,user:l},error:null}}function Og(s){const a=Qt(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Fa(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function M_(s){return{data:s,error:null}}function L_(s){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h}=s,f=Ul(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h},y=Object.assign({},f);return{data:{properties:m,user:y},error:null}}function Cg(s){return s}function z_(s){return s.access_token&&s.refresh_token&&s.expires_in}const xu=["global","local","others"];class B_{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=Np(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=xu[0]){if(xu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xu.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fa})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=Ul(a,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:L_,redirectTo:r?.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Fa})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,u,h,f,m,y;try{const p={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Cg});if(v.error)throw v.error;const _=await v.json(),S=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(y=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return b.length>0&&(b.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(te(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){vs(a);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Fa})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){vs(a);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Fa})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){vs(a);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fa})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){vs(a.userId);try{const{data:r,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(a){vs(a.userId),vs(a.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,u,h,f,m,y;try{const p={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Cg});if(v.error)throw v.error;const _=await v.json(),S=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(y=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return b.length>0&&(b.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(te(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(te(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function kg(s={}){return{getItem:a=>s[a]||null,setItem:(a,r)=>{s[a]=r},removeItem:a=>{delete s[a]}}}const xs={debug:!!(globalThis&&jp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ep extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class q_ extends Ep{}async function H_(s,a,r){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await r()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(a===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new q_(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(xs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Tp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function G_(s){return parseInt(s,16)}function V_(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function Y_(s){var a;const{chainId:r,domain:l,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:m,requestId:y,resources:p,scheme:v,uri:_,version:S}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const b=Tp(s.address),A=v?`${v}://${l}`:l,E=s.statement?`${s.statement}
`:"",C=`${A} wants you to sign in with your Ethereum account:
${b}

${E}`;let z=`URI: ${_}
Version: ${S}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(z+=`
Expiration Time: ${u.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),y&&(z+=`
Request ID: ${y}`),p){let M=`
Resources:`;for(const L of p){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);M+=`
- ${L}`}z+=M}return`${C}
${z}`}class Fe extends Error{constructor({message:a,code:r,cause:l,name:u}){var h;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=u??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class Rl extends Fe{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function K_({error:s,options:a}){var r,l,u;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(Ap(f)){if(h.rp.id!==f)return new Fe({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function X_({error:s,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Ap(l)){if(r.rpId!==l)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class J_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Q_=new J_;function P_(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:r,excludeCredentials:l}=s,u=Ul(s,["challenge","user","excludeCredentials"]),h=As(a).buffer,f=Object.assign(Object.assign({},r),{id:As(r.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:h,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let y=0;y<l.length;y++){const p=l[y];m.excludeCredentials[y]=Object.assign(Object.assign({},p),{id:As(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function I_(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:r}=s,l=Ul(s,["challenge","allowCredentials"]),u=As(a).buffer,h=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},m),{id:As(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function Z_(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:An(new Uint8Array(s.response.attestationObject)),clientDataJSON:An(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function W_(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:An(new Uint8Array(u.authenticatorData)),clientDataJSON:An(new Uint8Array(u.clientDataJSON)),signature:An(new Uint8Array(u.signature)),userHandle:u.userHandle?An(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Ap(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Dg(){var s,a;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function F_(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Rl("Browser returned unexpected credential type",a)}:{data:null,error:new Rl("Empty credential response",a)}}catch(a){return{data:null,error:K_({error:a,options:s})}}}async function ew(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Rl("Browser returned unexpected credential type",a)}:{data:null,error:new Rl("Empty credential response",a)}}catch(a){return{data:null,error:X_({error:a,options:s})}}}const tw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ol(...s){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of s)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(a(f)){const m=l[h];a(m)?l[h]=Ol(m,f):l[h]=Ol(f)}else l[h]=f}return l}function nw(s,a){return Ol(tw,s,a||{})}function sw(s,a){return Ol(aw,s,a||{})}class iw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:u},h){var f;try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!m)return{data:null,error:y};const p=u??Q_.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:v}=m.webauthn.credential_options.publicKey;if(!v.name){const _=l;if(_)v.name=`${v.id}:${_}`;else{const b=(await this.client.getUser()).data.user,A=((f=b?.user_metadata)===null||f===void 0?void 0:f.name)||b?.email||b?.id||"User";v.name=`${v.id}:${A}`}}v.displayName||(v.displayName=v.name)}switch(m.webauthn.type){case"create":{const v=nw(m.webauthn.credential_options.publicKey,h?.create),{data:_,error:S}=await F_({publicKey:v,signal:p});return _?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const v=sw(m.webauthn.credential_options.publicKey,h?.request),{data:_,error:S}=await ew(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v,signal:p}));return _?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(m){return te(m)?{data:null,error:m}:{data:null,error:new Tn("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Bi("rpId is required for WebAuthn authentication")};try{if(!Dg())return{data:null,error:new Tn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:h});if(!f)return{data:null,error:m};const{webauthn:y}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:l,credential_response:y.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Tn("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Bi("rpId is required for WebAuthn registration")};try{if(!Dg())return{data:null,error:new Tn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:y,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:h});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:l,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:p}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Tn("Unexpected error in register",f)}}}}$_();const rw={url:a_,storageKey:n_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ug(s,a,r){return await r()}const bs={};class qi{get jwks(){var a,r;return(r=(a=bs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=bs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},rw),a);if(this.storageKey=h.storageKey,this.instanceID=(r=qi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new B_({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Np(h.fetch),this.lock=h.lock||Ug,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&dt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=H_:this.lock=Ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:jp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kg(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=kg(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_p}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(dt()&&(r=v_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),dt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),c_(h)){const y=(a=h.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new Tn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,u;try{const h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Qt}),{data:f,error:m}=h;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(h){if(te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var r,l,u;try{let h;if("email"in a){const{email:v,password:_,options:S}=a;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await ys(this.storage,this.storageKey)),h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:b,code_challenge_method:A},xform:Qt})}else if("phone"in a){const{phone:v,password:_,options:S}=a;h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Qt})}else throw new _l("You must provide either an email or phone number and a password");const{data:f,error:m}=h;if(m||!f)return await ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let r;if("email"in a){const{email:h,password:f,options:m}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Og})}else if("phone"in a){const{phone:h,password:f,options:m}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Og})}else throw new _l("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new ps;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,u,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,u,h,f,m,y,p,v,_,S;let b,A;if("message"in a)b=a.message,A=a.signature;else{const{chain:E,wallet:C,statement:z,options:M}=a;let L;if(dt())if(typeof C=="object")L=C;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")L=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=C}const H=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),J=await L.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Tp(J[0]);let q=(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!q){const se=await L.request({method:"eth_chainId"});q=G_(se)}const F={domain:H.host,address:I,statement:z,uri:H.href,version:"1",chainId:q,nonce:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=M?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=M?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=Y_(F),A=await L.request({method:"personal_sign",params:[V_(b),I]})}try{const{data:E,error:C}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:A},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Qt});if(C)throw C;if(!E||!E.session||!E.user){const z=new ps;return this._returnResult({data:{user:null,session:null},error:z})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(te(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(a){var r,l,u,h,f,m,y,p,v,_,S,b;let A,E;if("message"in a)A=a.message,E=a.signature;else{const{chain:C,wallet:z,statement:M,options:L}=a;let H;if(dt())if(typeof z=="object")H=z;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))H=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=z}const J=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){const I=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),M?{statement:M}:null));let q;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")q=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)q=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)A=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),E=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${J.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(u=(l=L?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=L?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((y=L?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(v=L?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const I=await H.signMessage(new TextEncoder().encode(A),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:C,error:z}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:An(E)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Qt});if(z)throw z;if(!C||!C.session||!C.user){const M=new ps;return this._returnResult({data:{user:null,session:null},error:M})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:z})}catch(C){if(te(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(a){const r=await Sn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new u_;const{data:h,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Qt});if(await ut(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const m=new ps;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:r,provider:l,token:u,access_token:h,nonce:f}=a,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qt}),{data:y,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!y||!y.session||!y.user){const v=new ps;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:p})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,u,h,f;try{if("email"in a){const{email:m,options:y}=a;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ys(this.storage,this.storageKey));const{error:_}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(l=y?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:m,options:y}=a,{data:p,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=y?.data)!==null&&u!==void 0?u:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new _l("You must provide either an email or phone number.")}catch(m){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,l;try{let u,h;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,h=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Qt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,p=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var r,l,u,h,f;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ys(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:M_});return!((h=p.data)===null||h===void 0)&&h.url&&dt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Ct;const{error:u}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:h}=a,{error:f}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:h}=a,{data:f,error:m}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new _l("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<gu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Sn(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=vu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=C_(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Fa}):await this._useSession(async r=>{var l,u,h;const{data:f,error:m}=r;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Fa})})}catch(r){if(te(r))return pu(r)&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Ct;const f=u.session;let m=null,y=null;this.flowType==="pkce"&&a.email!=null&&([m,y]=await ys(this.storage,this.storageKey));const{data:p,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:y}),jwt:f.access_token,xform:Fa});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ct;const r=Date.now()/1e3;let l=r,u=!0,h=null;const{payload:f}=Sl(a.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:m,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});h={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:f,error:m}=r;if(m)throw m;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Ct;const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!dt())throw new wl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new wl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Sg("No code detected.");const{data:M,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:m,expires_at:y,token_type:p}=a;if(!h||!m||!f||!p)throw new wl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(m);let S=v+_;y&&(S=parseInt(y));const b=S-v;b*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const A=S-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,v);const{data:E,error:C}=await this._getUser(h);if(C)throw C;const z={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:_,expires_at:S,refresh_token:f,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:a.type},error:null})}catch(l){if(te(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Sn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h&&!pu(h))return this._returnResult({error:h});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(o_(m)&&(m.status===404||m.status===401||m.status===403)||pu(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=y_(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,u;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ys(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:u}=await this._useSession(async h=>{var f,m,y,p,v;const{data:_,error:S}=h;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return dt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(te(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:h}}=r;if(u)throw u;const{options:f,provider:m,token:y,access_token:p,nonce:v}=a,_=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:y,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qt}),{data:S,error:b}=_;return b?this._returnResult({data:{user:null,session:null},error:b}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ps}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:b}))}catch(u){if(await ut(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await __(async u=>(u>0&&await b_(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Qt})),(u,h)=>{const f=200*Math.pow(2,u);return h&&yu(h)&&Date.now()+f-l<js})}catch(l){if(this._debug(r,"error",l),te(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),dt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Sn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Ns(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:vu()}else if(u&&!u.user&&!u.user){const f=await Sn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ut(this.storage,this.storageKey+"-user"),await Ns(this.storage,this.storageKey,u)):u.user=vu()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gu;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${gu}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),yu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new zl;const{data:h,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!h.session)throw new Ct;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(u,"error",h),te(h)){const f={data:null,error:h};return yu(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(y){h.push(y)}});if(await Promise.all(f),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ut(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Ns(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const h=Ag(u);await Ns(this.storage,this.storageKey,h)}else{const u=Ag(r);await Ns(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ut(this.storage,this.storageKey),await ut(this.storage,this.storageKey+"-code-verifier"),await ut(this.storage,this.storageKey+"-user"),this.userStorage&&await ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${js}ms, refresh threshold is ${Cu} ticks`),u<=Cu&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Ep)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await ys(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;return h?this._returnResult({data:null,error:h}):await ue(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&y.type==="totp"&&(!((u=y?.totp)===null||u===void 0)&&u.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Z_(a.webauthn.credential_response):W_(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:y}=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:P_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:I_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=r?.factors)!==null&&a!==void 0?a:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,l,u,h;if(a)try{const{payload:b}=Sl(a);let A=null;b.aal&&(A=b.aal);let E=A;const{data:{user:C},error:z}=await this.getUser(a);if(z)return this._returnResult({data:null,error:z});((l=(r=C?.factors)===null||r===void 0?void 0:r.filter(H=>H.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(E="aal2");const L=b.amr||[];return{data:{currentLevel:A,nextLevel:E,currentAuthenticationMethods:L},error:null}}catch(b){if(te(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Sl(f.access_token);let p=null;y.aal&&(p=y.aal);let v=p;((h=(u=f.user.factors)===null||u===void 0?void 0:u.filter(b=>b.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(v="aal2");const S=y.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Ct});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&dt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Ct});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&dt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(m=>m.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+r_>u)return l;const{data:h,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:b,error:A}=await this.getSession();if(A||!b.session)return this._returnResult({data:null,error:A});l=b.session.access_token}const{header:u,payload:h,signature:f,raw:{header:m,payload:y}}=Sl(l);r?.allowExpired||A_(h.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:b}=await this.getUser(l);if(b)throw b;return{data:{claims:h,header:u,signature:f},error:null}}const v=R_(u.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,g_(`${m}.${y}`)))throw new Uu("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}}qi.nextInstanceID={};const lw=qi,ow="2.95.3";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const cw={"X-Client-Info":`supabase-js-${Oi}/${ow}`},uw={headers:cw},dw={schema:"public"},hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fw={};function Hi(s){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Hi(s)}function mw(s,a){if(Hi(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(Hi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function gw(s){var a=mw(s,"string");return Hi(a)=="symbol"?a:a+""}function pw(s,a,r){return(a=gw(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function Mg(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function Ve(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Mg(Object(r),!0).forEach(function(l){pw(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const yw=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),vw=()=>Headers,xw=(s,a,r)=>{const l=yw(r),u=vw();return async(h,f)=>{var m;const y=(m=await a())!==null&&m!==void 0?m:s;let p=new u(f?.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${y}`),l(h,Ve(Ve({},f),{},{headers:p}))}};function bw(s){return s.endsWith("/")?s:s+"/"}function _w(s,a){var r,l;const{db:u,auth:h,realtime:f,global:m}=s,{db:y,auth:p,realtime:v,global:_}=a,S={db:Ve(Ve({},y),u),auth:Ve(Ve({},p),h),realtime:Ve(Ve({},v),f),storage:{},global:Ve(Ve(Ve({},_),m),{},{headers:Ve(Ve({},(r=_?.headers)!==null&&r!==void 0?r:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function ww(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Sw=class extends lw{constructor(s){super(s)}},jw=class{constructor(s,a,r){var l,u;this.supabaseUrl=s,this.supabaseKey=a;const h=ww(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:dw,realtime:fw,auth:Ve(Ve({},hw),{},{storageKey:f}),global:uw},y=_w(r??{},m);if(this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=y.auth)!==null&&p!==void 0?p:{},this.headers,y.global.fetch)}this.fetch=xw(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new ob(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new t_(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new eb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,r)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:h,flowType:f,lock:m,debug:y,throwOnError:p},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sw({url:this.authUrl.href,headers:Ve(Ve({},S),v),storageKey:h,autoRefreshToken:s,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,flowType:f,lock:m,debug:y,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Nb(this.realtimeUrl.href,Ve(Ve({},s),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Nw=(s,a,r)=>new jw(s,a,r);function Ew(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ew()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tw="https://hvbdpgkdcdskhpbdeeim.supabase.co",Aw="sb_publishable_kB69BlNpkNhOllwGMOE6xg_i4l1VHMv",X=Nw(Tw,Aw),aa={idea:"#5b9de4",proposal:"#3d7cc9",commitment:"#f4d9a0",pattern:"#7ccfb8",synthesis:"#a8d4f0",question:"#c4b5fd",reflection:"#fca5a5"},Dt={resource:"#4a8c6f",event:"#c4956a",agent:"#8bbfff"},On={resource:"Resource",event:"Event",agent:"Agent"},en={human:"#c4956a","non-human":"#8bbfff"},Bl={human:"Human","non-human":"Non-Human"},Rs={seed:"Seed",discussed:"Discussed",proposed:"Proposed",committed:"Committed",active:"Active",completed:"Completed",archived:"Archived",superseded:"Superseded"};const Rp=(...s)=>s.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim();const Rw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Ow=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,l)=>l?l.toUpperCase():r.toLowerCase());const Lg=s=>{const a=Ow(s);return a.charAt(0).toUpperCase()+a.slice(1)};var Cw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kw=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const Dw=w.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:f,...m},y)=>w.createElement("svg",{ref:y,...Cw,width:a,height:a,stroke:s,strokeWidth:l?Number(r)*24/Number(a):r,className:Rp("lucide",u),...!h&&!kw(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,v])=>w.createElement(p,v)),...Array.isArray(h)?h:[h]]));const pe=(s,a)=>{const r=w.forwardRef(({className:l,...u},h)=>w.createElement(Dw,{ref:h,iconNode:a,className:Rp(`lucide-${Rw(Lg(s))}`,`lucide-${s}`,l),...u}));return r.displayName=Lg(s),r};const Uw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bu=pe("arrow-right",Uw);const Mw=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Lw=pe("book-open",Mw);const zw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Op=pe("calendar",zw);const Bw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cp=pe("check",Bw);const qw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kp=pe("chevron-down",qw);const Hw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tn=pe("chevron-right",Hw);const $w=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gw=pe("chevron-up",$w);const Vw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yw=pe("circle-alert",Vw);const Kw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dp=pe("clock",Kw);const Xw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$i=pe("file-text",Xw);const Jw=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Qw=pe("flame",Jw);const Pw=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Zi=pe("git-branch",Pw);const Iw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zg=pe("globe",Iw);const Zw=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Rn=pe("handshake",Zw);const Ww=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fw=pe("house",Ww);const e1=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],t1=pe("inbox",e1);const a1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],n1=pe("info",a1);const s1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Bg=pe("layers",s1);const i1=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],r1=pe("link-2",i1);const l1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jl=pe("loader-circle",l1);const o1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],c1=pe("mail",o1);const u1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],d1=pe("map-pin",u1);const h1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],f1=pe("menu",h1);const m1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],qg=pe("message-circle",m1);const g1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Up=pe("message-square",g1);const p1=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Gi=pe("pen-line",p1);const y1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],v1=pe("plus",y1);const x1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b1=pe("refresh-cw",x1);const _1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ts=pe("search",_1);const w1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],S1=pe("send",w1);const j1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Mp=pe("sparkles",j1);const N1=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],E1=pe("tag",N1);const T1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A1=pe("target",T1);const R1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],O1=pe("trending-up",R1);const C1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vi=pe("user",C1);const k1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yi=pe("users",k1);const D1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],U1=pe("x",D1);const M1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yu=pe("zap",M1),Lp={id:"00000000-0000-0000-0000-000000000100",name:"ETHBoulder 2026",description:null,theme_primary:"#c3fd50",theme_bg:"#0f0f0f",theme_surface:"#1a1a1a",theme_border:"#262626",logo_text:"EthBoulder",logo_accent:".commons.id",tagline:"Knowledge Graph  Live",dimensions:[{key:"e",letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",tag:"hlamt:E"},{key:"H",letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",tag:"hlamt:H"},{key:"L",letter:"L/",name:"Language",desc:"How We Talk",color:"#c3fd50",tag:"hlamt:L"},{key:"A",letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",tag:"hlamt:A"},{key:"M",letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",tag:"hlamt:M"},{key:"T",letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",tag:"hlamt:T"}]};let _s=null;async function L1(){if(_s)return _s;try{const{data:s}=await X.rpc("get_active_convergence");if(s&&s.length>0)return _s=s[0],_s}catch(s){console.error("Failed to load convergence config:",s)}return _s=Lp,_s}function zp(){return Lp}const Bp=w.createContext({convergence:zp(),loading:!0});function Ku(){return w.useContext(Bp)}function z1({children:s}){const[a,r]=w.useState(zp()),[l,u]=w.useState(!0);return w.useEffect(()=>{async function h(){const f=await L1();r(f),u(!1)}h()},[]),o.jsx(Bp.Provider,{value:{convergence:a,loading:l},children:s})}class B1 extends w.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,r){console.error("ErrorBoundary caught:",a,r),this.logError(a,r),this.setState({error:a,errorInfo:r})}async logError(a,r){try{const{data:{user:l}}=await X.auth.getUser();await X.from("client_errors").insert({message:a.message,stack:a.stack||"",component_stack:r.componentStack,user_id:l?.id||null,url:window.location.href,user_agent:navigator.userAgent})}catch(l){console.error("Failed to log error to Supabase:",l)}}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/"};handleReload=()=>{window.location.reload()};render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-[#0f0f0f] text-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-[#1a1a1a] border border-[#262626] rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Yw,{className:"w-8 h-8 text-red-500 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-gray-400",children:this.props.fallbackTitle||"An unexpected error occurred"})]})]}),this.state.error&&o.jsx("div",{className:"bg-[#0f0f0f] border border-[#262626] rounded p-3 mb-4",children:o.jsx("p",{className:"text-xs text-red-400 font-mono break-words",children:this.state.error.message})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#262626] text-white rounded-lg hover:bg-[#333] transition-colors",children:[o.jsx(b1,{className:"w-4 h-4"}),"Reload"]}),o.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors",children:[o.jsx(Fw,{className:"w-4 h-4"}),"Go Home"]})]}),o.jsx("p",{className:"mt-4 text-xs text-gray-600 text-center",children:"The error has been logged. Try reloading the page or returning home."})]})}):this.props.children}}const q1=w.lazy(()=>Cl(()=>import("./Graph-C8foTUpS.js"),[]).then(s=>({default:s.Graph}))),H1=["idea","proposal","commitment","pattern","synthesis","question","reflection"];function Hg(s){const a=Math.floor((Date.now()-new Date(s).getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}function $1(){const{convergence:s}=Ku(),a=s.dimensions,[r,l]=w.useState([]),[u,h]=w.useState(!0),[f,m]=w.useState(""),[y,p]=w.useState(""),[v,_]=w.useState(""),[S,b]=w.useState(""),[A,E]=w.useState("coordination"),[C,z]=w.useState({}),[M,L]=w.useState(null),[H,J]=w.useState("2d"),[I,q]=w.useState(!1),F=w.useRef(null);w.useEffect(()=>{function R(){q(!!document.fullscreenElement)}return document.addEventListener("fullscreenchange",R),()=>document.removeEventListener("fullscreenchange",R)},[]);const[se,Z]=w.useState([]),[he,re]=w.useState({});w.useEffect(()=>{$();const R=X.channel("explore-artifacts").on("postgres_changes",{event:"INSERT",schema:"public",table:"artifacts"},le=>{l(ce=>[le.new,...ce].slice(0,50)),we()}).subscribe(),Q=X.channel("explore-contributions").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},()=>{Be()}).subscribe();return()=>{X.removeChannel(R),X.removeChannel(Q)}},[]),w.useEffect(()=>{P()},[y,v,S,A]);async function we(){const[{data:R},{count:Q},{data:le}]=await Promise.all([X.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%"),X.from("participants").select("*",{count:"exact",head:!0}),X.rpc("word_frequencies")]),ce={};if(R)for(const Se of R){const et=Se.artifact_tags;ce[Se.name]=et?.[0]?.count??0}ce["hlamt:H"]=Q??0,le&&(ce["hlamt:L"]=le.length),re(ce)}async function Be(){const{data:R}=await X.from("contribution_feed").select("*").limit(30);Z(R||[])}async function Ye(){const{data:R}=await X.from("coordination_interests").select("artifact_id"),Q={};if(R)for(const le of R)Q[le.artifact_id]=(Q[le.artifact_id]||0)+1;return z(Q),Q}async function $(){const[{data:R}]=await Promise.all([X.from("artifacts").select("*").order("created_at",{ascending:!1}).limit(50)]);l(R||[]),await Promise.all([Be(),we(),Ye()]),h(!1)}async function P(){if(y){const{data:R}=await X.from("tags").select("id").eq("name",y).single();if(R){const{data:Q}=await X.from("artifact_tags").select("artifact_id").eq("tag_id",R.id);if(Q&&Q.length>0){const le=Q.map(et=>et.artifact_id);let ce=X.from("artifacts").select("*").in("id",le).order("created_at",{ascending:!1}).limit(50);v&&(ce=ce.eq("type",v)),S&&(ce=ce.eq("state",S));const{data:Se}=await ce;l(Se||[])}else l([])}else l([])}else{let R=X.from("artifacts").select("*").order("created_at",{ascending:!1}).limit(50);v&&(R=R.eq("type",v)),S&&(R=R.eq("state",S));const{data:Q}=await R;l(Q||[])}L(null)}async function ne(){if(!f.trim()){L(null);return}const{data:R}=await X.rpc("search_artifacts",{p_query:f});L(R||[])}const[xe,Ae]=w.useState(!1),T=A==="coordination"?[...r].sort((R,Q)=>(C[Q.id]||0)-(C[R.id]||0)):r,K=M??T;return u?o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Explore"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph and live activity, side by side."})]}),o.jsxs("div",{className:"mb-6 bg-[#1a1a1a] border border-[#262626] rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>Ae(!xe),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-[#262626] transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(n1,{className:"w-5 h-5 text-[#c3fd50]"}),o.jsx("span",{className:"text-sm font-medium text-white",children:"How it works"})]}),o.jsx(kp,{className:`w-5 h-5 text-gray-400 transition-transform ${xe?"rotate-180":""}`})]}),xe&&o.jsxs("div",{className:"px-4 pb-4 text-sm space-y-3 border-t border-[#262626] pt-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:o.jsx(Gi,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium mb-1",children:"Contribute observations"}),o.jsx("div",{className:"text-gray-400",children:"Share what you noticed at ETHBoulder  session notes, ideas, commitments, questions. Write naturally."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:o.jsx(Mp,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium mb-1",children:"AI extracts knowledge"}),o.jsx("div",{className:"text-gray-400",children:"Each contribution is analyzed, broken into artifacts (resources, events, agents), and tagged by dimension."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#c3fd50] text-[#0f0f0f] flex items-center justify-center",children:o.jsx(Zi,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium mb-1",children:"The graph grows"}),o.jsx("div",{className:"text-gray-400",children:"Artifacts connect to each other. Patterns emerge. The collective knowledge becomes navigable by dimension, type, and relationship."})]})]}),o.jsx("div",{className:"pt-2 border-t border-[#262626]",children:o.jsx(ae,{to:"/contribute",className:"text-[#c3fd50] hover:text-white text-sm font-medium",children:"Try it yourself "})})]})]}),o.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Graph Dimensions"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-2 mb-6",children:a.map(R=>{const Q=he[R.tag]??0;return o.jsxs(ae,{to:`/d/${R.key}`,className:"block rounded-lg border border-[#262626] bg-[#1a1a1a] p-3 sm:p-4 hover:border-[#c3fd50] transition-colors text-center group",children:[o.jsx("div",{className:"text-xs font-medium mb-1 truncate",style:{color:R.color},children:R.name}),o.jsxs("div",{className:"flex items-baseline justify-center gap-1 sm:gap-1.5",children:[o.jsx("span",{className:"font-mono text-xl sm:text-2xl font-bold",style:{color:R.color},children:R.letter}),o.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:Q})]}),o.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors block truncate",children:R.desc})]},R.key)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:H==="3d"?"Graph Constellation":"Graph Index"}),o.jsxs("div",{className:"flex bg-[#1a1a1a] border border-[#262626] rounded-lg overflow-hidden",children:[o.jsx("button",{onClick:()=>J("2d"),className:`px-3 py-1 text-xs font-medium transition-colors ${H==="2d"?"bg-[#c3fd50] text-[#0f0f0f]":"text-gray-400 hover:text-white"}`,children:"2-D"}),o.jsx("button",{onClick:()=>J("3d"),className:`px-3 py-1 text-xs font-medium transition-colors ${H==="3d"?"bg-[#c3fd50] text-[#0f0f0f]":"text-gray-400 hover:text-white"}`,children:"3-D"})]})]}),H==="3d"?o.jsx("div",{ref:F,className:`relative ${I?"bg-[#0f0f0f]":""}`,children:o.jsx(w.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"text-gray-500",children:"Loading constellation..."})}),children:o.jsxs("div",{className:`relative ${I?"h-screen":"h-[500px]"}`,children:[o.jsx(q1,{}),o.jsx("button",{onClick:()=>{I?document.exitFullscreen():F.current?.requestFullscreen()},className:"absolute bottom-3 right-3 z-50 px-3 py-1.5 text-xs bg-[#262626]/90 text-gray-300 rounded-lg hover:bg-[#333] transition-colors backdrop-blur-sm border border-[#333]",children:I?"Exit Fullscreen":"Fullscreen"})]})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("input",{value:f,onChange:R=>m(R.target.value),onKeyDown:R=>R.key==="Enter"&&ne(),placeholder:"Search the graph...",className:"flex-1 bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] text-sm"}),o.jsx("button",{onClick:ne,className:"bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm whitespace-nowrap",children:"Search"})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[o.jsxs("select",{value:y,onChange:R=>p(R.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[o.jsx("option",{value:"",children:"All dimensions"}),a.map(R=>o.jsxs("option",{value:R.tag,children:[R.letter," ",R.name]},R.key))]}),o.jsxs("select",{value:v,onChange:R=>_(R.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[o.jsx("option",{value:"",children:"All types"}),H1.map(R=>o.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))]}),o.jsxs("select",{value:S,onChange:R=>b(R.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[o.jsx("option",{value:"",children:"All states"}),Object.entries(Rs).map(([R,Q])=>o.jsx("option",{value:R,children:Q},R))]}),o.jsxs("select",{value:A,onChange:R=>E(R.target.value),className:"bg-[#1a1a1a] border border-[#262626] rounded-lg px-3 py-1.5 text-xs text-white flex-shrink-0",children:[o.jsx("option",{value:"recent",children:"Sort: Recent"}),o.jsx("option",{value:"coordination",children:"Sort: Coordination"})]}),(y||v||S||M)&&o.jsx("button",{onClick:()=>{p(""),_(""),b(""),m(""),L(null),E("recent")},className:"text-xs text-gray-400 hover:text-white flex-shrink-0",children:"Clear"})]})]}),K.length===0?o.jsx("div",{className:"text-center py-16",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6",children:o.jsx(t1,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:M?"No matching artifacts":"The knowledge graph is empty"}),o.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:M?"Try a different search term or clear your filters.":"Be the first to contribute. Share an observation, idea, or commitment from ETHBoulder and watch it become part of the living archive."}),o.jsx(ae,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] font-medium px-6 py-3 rounded-lg hover:bg-[#d4fe80] transition-colors",children:"Contribute to the Commons"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:K.map(R=>o.jsxs(ae,{to:`/artifact/${R.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 hover:border-[#c3fd50] transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:aa[R.type]}}),o.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:R.type}),R.rea_role&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:Dt[R.rea_role],borderColor:Dt[R.rea_role]+"40"},children:On[R.rea_role]}),R.agent_type&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:en[R.agent_type],borderColor:en[R.agent_type]+"40"},children:Bl[R.agent_type]}),o.jsx("span",{className:"ml-auto text-xs text-gray-500",children:Rs[R.state]})]}),o.jsx("h3",{className:"font-semibold text-white group-hover:text-[#c3fd50] transition-colors mb-1 text-sm",children:R.title}),R.summary&&o.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:R.summary}),o.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-600",children:[o.jsx("span",{children:Hg(R.created_at)}),(C[R.id]||0)>0&&o.jsxs("span",{className:"flex items-center gap-1 text-[#c3fd50]",children:[o.jsx(Rn,{className:"w-3 h-3"}),C[R.id]]})]})]},R.id))})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider",children:"Live Activity"}),se.length===0?o.jsx("div",{className:"text-gray-500 text-center py-8 text-sm",children:"No contributions yet"}):o.jsx("div",{className:"space-y-1.5",children:se.map(R=>o.jsxs(ae,{to:`/contribution/${R.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${R.status==="complete"?"bg-[#c3fd50]":R.status==="processing"?"bg-blue-400 animate-pulse":R.status==="error"?"bg-red-400":"bg-yellow-400"}`}),R.participant_name&&R.participant_id&&o.jsx(ae,{to:`/p/${R.participant_id}`,className:"text-xs font-medium text-gray-300 truncate hover:text-[#c3fd50] transition-colors",onClick:Q=>Q.stopPropagation(),children:R.participant_name}),R.participant_name&&!R.participant_id&&o.jsx("span",{className:"text-xs font-medium text-gray-300 truncate",children:R.participant_name}),o.jsx("span",{className:"text-xs text-gray-600 ml-auto flex-shrink-0",children:Hg(R.created_at)})]}),R.title&&o.jsx("p",{className:"text-sm font-medium text-white mb-1",children:R.title}),o.jsx("p",{className:"text-xs text-gray-400 line-clamp-2 mb-1.5",children:R.preview}),R.status==="complete"&&(R.artifact_count>0||R.relationship_count>0)&&o.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1",children:[R.artifact_count>0&&o.jsxs("span",{className:"text-xs text-gray-400",children:[o.jsx("span",{className:"font-mono text-[#c3fd50] font-medium",children:R.artifact_count})," ",R.artifact_count===1?"node":"nodes"]}),R.relationship_count>0&&o.jsxs("span",{className:"text-xs text-gray-400",children:[o.jsx("span",{className:"font-mono text-[#c3fd50] font-medium",children:R.relationship_count})," ",R.relationship_count===1?"edge":"edges"]}),R.commitment_count>0&&o.jsxs("span",{className:"text-xs text-gray-400",children:[o.jsx("span",{className:"font-mono text-amber-400 font-medium",children:R.commitment_count})," ",R.commitment_count===1?"commitment":"commitments"]})]}),R.status==="processing"&&o.jsx("span",{className:"text-xs text-blue-400",children:"Extracting..."}),R.status==="error"&&o.jsx("span",{className:"text-xs text-red-400",children:"Extraction failed"})]},R.id))})]})]})]})}function G1({artifactId:s,participantId:a,compact:r=!1}){const[l,u]=w.useState(!1),[h,f]=w.useState(0),[m,y]=w.useState(!1);w.useEffect(()=>{async function v(){const{count:_}=await X.from("coordination_interests").select("*",{count:"exact",head:!0}).eq("artifact_id",s);if(f(_||0),a){const{data:S}=await X.from("coordination_interests").select("id").eq("artifact_id",s).eq("participant_id",a).maybeSingle();u(!!S)}}v()},[s,a]);async function p(){if(!(!a||m)){y(!0);try{l?(await X.from("coordination_interests").delete().eq("artifact_id",s).eq("participant_id",a),u(!1),f(v=>Math.max(0,v-1))):(await X.from("coordination_interests").insert({artifact_id:s,participant_id:a}),u(!0),f(v=>v+1))}catch(v){console.error("Coordinate toggle error:",v)}y(!1)}}return r?o.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),p()},disabled:!a||m,className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full transition-colors ${l?"bg-[#c3fd50]/20 text-[#c3fd50] border border-[#c3fd50]/30":"bg-[#262626] text-gray-400 hover:text-[#c3fd50] hover:bg-[#c3fd50]/10"} ${a?"":"opacity-50 cursor-not-allowed"}`,title:a?l?"Remove coordination interest":"I want to coordinate on this":"Sign in to coordinate",children:[o.jsx(Rn,{className:"w-3 h-3"}),h>0&&o.jsx("span",{children:h})]}):o.jsxs("button",{onClick:p,disabled:!a||m,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm ${l?"bg-[#c3fd50]/20 text-[#c3fd50] border border-[#c3fd50]/30":"bg-[#262626] text-gray-300 hover:text-[#c3fd50] hover:bg-[#c3fd50]/10"} ${a?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx(Rn,{className:"w-4 h-4"}),o.jsx("span",{children:l?"Coordinating":"Coordinate"}),h>0&&o.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-[#262626] text-xs",children:h})]})}const V1={"hlamt:e":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:E":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:H":{letter:"H/",name:"Human",color:"#c4956a"},"hlamt:L":{letter:"L/",name:"Language",color:"#c3fd50"},"hlamt:A":{letter:"A/",name:"Artifacts",color:"#8bbfff"},"hlamt:M":{letter:"M/",name:"Methodology",color:"#7ccfb8"},"hlamt:T":{letter:"T/",name:"Training",color:"#e8927c"}};function $g(s){const a=Math.floor((Date.now()-new Date(s).getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}function Y1(){const{id:s}=Qi(),[a,r]=w.useState(null),[l,u]=w.useState([]),[h,f]=w.useState([]),[m,y]=w.useState([]),[p,v]=w.useState([]),[_,S]=w.useState(null),[b,A]=w.useState(null),[E,C]=w.useState(!0),[z,M]=w.useState(null);w.useEffect(()=>{s&&(L(),X.auth.getUser().then(async({data:{user:H}})=>{if(H){const{data:J}=await X.from("participants").select("id").eq("auth_user_id",H.id).maybeSingle();J&&M(J.id)}}))},[s]);async function L(){C(!0);const{data:H}=await X.from("artifacts").select("*").eq("id",s).single();if(!H){C(!1);return}r(H);const{data:J}=await X.from("artifact_tags").select("tags(name)").eq("artifact_id",s),I=(J||[]).map(re=>re.tags?.name).filter(Boolean);if(f(I.filter(re=>re.startsWith("hlamt:"))),u(I.filter(re=>!re.startsWith("hlamt:"))),H.steward_id){const{data:re}=await X.from("participants").select("id, name").eq("id",H.steward_id).single();re&&S(re)}const[{data:q},{data:F}]=await Promise.all([X.from("artifact_relationships").select("*, to_artifact_id").eq("from_artifact_id",s),X.from("artifact_relationships").select("*, from_artifact_id").eq("to_artifact_id",s)]),se=[...(q||[]).map(re=>({...re,direction:"to",related_id:re.to_artifact_id})),...(F||[]).map(re=>({...re,direction:"from",related_id:re.from_artifact_id}))];if(y(se),se.length>0){const re=se.map(Be=>Be.related_id),{data:we}=await X.from("artifacts").select("*").in("id",re);v(we||[])}const{data:Z}=await X.from("contributions").select("id, content, created_at, extraction").eq("status","complete").order("created_at",{ascending:!1}).limit(20),he=Z?.find(re=>re.extraction?.artifacts?re.extraction.artifacts.some(we=>we.title===H.title):!1);he&&A(he),C(!1)}return E?o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):a?o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-4",children:[o.jsx(ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-gray-400",children:"Graph Index"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-white truncate max-w-[200px]",children:a.title})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:aa[a.type]}}),o.jsx("span",{className:"text-xs uppercase tracking-wider",style:{color:aa[a.type]},children:a.type}),a.rea_role&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded border font-medium",style:{color:Dt[a.rea_role],borderColor:Dt[a.rea_role]+"40"},children:On[a.rea_role]}),a.agent_type&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded border font-medium",style:{color:en[a.agent_type],borderColor:en[a.agent_type]+"40"},children:Bl[a.agent_type]}),o.jsx("span",{className:"text-xs text-gray-500",children:Rs[a.state]}),a.created_by_agent&&o.jsx("span",{className:"text-xs bg-[#262626] text-gray-400 px-2 py-0.5 rounded",children:"AI-extracted"}),o.jsx("span",{className:"ml-auto text-xs text-gray-600",children:$g(a.created_at)})]}),o.jsx("h1",{className:"text-2xl font-bold mb-3 leading-tight",children:a.title}),a.summary&&o.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:a.summary}),o.jsx("div",{className:"mb-4",children:o.jsx(G1,{artifactId:a.id,participantId:z})}),a.body&&o.jsx("div",{className:"text-sm text-gray-400 mb-4 whitespace-pre-wrap leading-relaxed border-t border-[#262626] pt-4",children:a.body}),h.length>0&&o.jsxs("div",{className:"mb-4 pb-4 border-b border-[#262626]",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Dimensions"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(H=>{const J=V1[H];return J?o.jsxs("span",{className:"px-2 py-1 rounded text-xs border",style:{color:J.color,borderColor:J.color+"40"},children:[o.jsx("span",{className:"font-mono font-semibold",children:J.letter})," ",J.name]},H):null})})]}),l.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(H=>o.jsx("span",{className:"bg-[#262626] text-gray-300 text-xs px-2 py-1 rounded",children:H},H))})]}),o.jsxs("div",{className:"text-xs text-gray-600 pt-4 border-t border-[#262626] space-y-1",children:[_&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Steward:"})," ",o.jsx(ae,{to:`/p/${_.id}`,className:"text-gray-400 hover:text-[#c3fd50] transition-colors",children:_.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"ID:"})," ",o.jsx("span",{className:"font-mono",children:a.id.slice(0,13)})]})]})]}),b&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(Up,{className:"w-4 h-4"}),"Source Contribution"]}),o.jsx(ae,{to:"/me",className:"block text-sm text-gray-400 hover:text-white line-clamp-3 mb-2",children:b.content}),o.jsx("div",{className:"text-xs text-gray-600",children:$g(b.created_at)})]}),m.length>0&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(r1,{className:"w-4 h-4"}),"Related Artifacts"]}),o.jsx("div",{className:"space-y-2",children:m.map(H=>{const J=p.find(I=>I.id===H.related_id);return J?o.jsxs(ae,{to:`/artifact/${J.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:aa[J.type]}}),o.jsx("span",{className:"text-xs uppercase text-gray-500",children:J.type}),o.jsxs("span",{className:"text-xs text-gray-600",children:[" ",H.type.replace(/_/g," ")]})]}),o.jsx("div",{className:"text-sm text-white group-hover:text-[#c3fd50] transition-colors font-medium",children:J.title}),J.summary&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:J.summary})]},H.id):null})})]})]}):o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Artifact not found"})}function K1(s){const a=Math.floor((Date.now()-new Date(s).getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}function X1(){const[s,a]=w.useState(null),[r,l]=w.useState(null),[u,h]=w.useState([]),[f,m]=w.useState([]),[y,p]=w.useState([]),[v,_]=w.useState(null),[S,b]=w.useState({});w.useEffect(()=>{X.auth.getSession().then(({data:F})=>{if(a(F.session),!F.session){A(null);return}E(F.session.user.id)});const q=X.channel("my-contributions").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},()=>{A(r)}).subscribe();return()=>{X.removeChannel(q)}},[]),w.useEffect(()=>{r!==null&&A(r)},[r]);async function A(q){let F=X.from("contributions").select("id, content, title, status, created_at, processed_at, extraction").order("created_at",{ascending:!1}).limit(30);q&&(F=F.eq("participant_id",q));const{data:se}=await F;p(se||[])}async function E(q){const{data:F}=await X.from("participants").select("id").eq("auth_user_id",q).single();if(!F)return;l(F.id);const[{data:se},{data:Z}]=await Promise.all([X.from("artifacts").select("*").or(`created_by.eq.${F.id},steward_id.eq.${F.id}`).order("created_at",{ascending:!1}).limit(50),X.from("commitments").select("*").eq("participant_id",F.id).order("created_at",{ascending:!1})]);h(se||[]),m(Z||[])}async function C(q){if(S[q])return;const se=y.find(he=>he.id===q)?.extraction?.artifacts?.map(he=>he.title).filter(Boolean)||[];if(se.length===0){b(he=>({...he,[q]:[]}));return}const{data:Z}=await X.from("artifacts").select("*").in("title",se).order("created_at",{ascending:!0});b(he=>({...he,[q]:Z||[]}))}function z(q){v===q?_(null):(_(q),C(q))}const M={pending:{label:"Pending",color:"text-yellow-300",bg:"bg-yellow-900/30"},processing:{label:"Extracting...",color:"text-blue-300",bg:"bg-blue-900/30"},complete:{label:"Complete",color:"text-green-300",bg:"bg-green-900/30"},error:{label:"Error",color:"text-red-300",bg:"bg-red-900/30"}},L=y.length,H=y.filter(q=>q.status==="complete").length,J=u.length,I=f.length;return o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"My Activity"}),o.jsx("p",{className:"text-gray-400 text-sm",children:s?"Your contributions, artifacts, and commitments in one place.":"All contributions across the commons."})]}),o.jsxs(ae,{to:"/contribute",className:"bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] px-4 py-2 rounded-lg text-sm transition-colors inline-flex items-center gap-1.5",children:[o.jsx(v1,{className:"w-4 h-4"})," Contribute"]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:L}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Contributions"})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#c3fd50]",children:J}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Artifacts Created"})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-amber-400",children:I}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Commitments"})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-400",children:H}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Processed"})]})]}),!s&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#c3fd50]/30 rounded-lg p-4 mb-6 text-sm text-gray-400",children:[o.jsx(ae,{to:"/auth",className:"text-[#c3fd50] hover:text-white font-medium",children:"Sign in"})," to see only your activity and track your contributions over time."]}),f.length>0&&o.jsxs("section",{className:"mb-8",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(A1,{className:"w-4 h-4 text-amber-400"}),"Commitments"]}),o.jsx("div",{className:"space-y-2",children:f.map(q=>o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-white",children:q.description}),q.due_date&&o.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-xs text-gray-500",children:[o.jsx(Dp,{className:"w-3 h-3"}),"Due: ",new Date(q.due_date).toLocaleDateString()]})]}),o.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium flex-shrink-0 ${q.status==="fulfilled"?"bg-green-900/30 text-green-300":q.status==="in_progress"?"bg-blue-900/30 text-blue-300":q.status==="broken"?"bg-red-900/30 text-red-300":"bg-gray-800 text-gray-400"}`,children:q.status==="in_progress"?"In Progress":q.status.charAt(0).toUpperCase()+q.status.slice(1)})]})},q.id))})]}),o.jsxs("section",{className:"mb-8",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider flex items-center gap-2",children:[o.jsx($i,{className:"w-4 h-4 text-[#c3fd50]"}),"Contributions"]}),y.length===0?o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-8 text-center",children:[o.jsx($i,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-400 font-medium",children:"No contributions yet"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1 mb-4",children:"Share an observation, idea, or commitment and it will appear here."}),o.jsx(ae,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-6 py-2 rounded-lg hover:bg-[#d4fe80] text-sm",children:"Make your first contribution"})]}):o.jsx("div",{className:"space-y-2",children:y.map(q=>{const F=M[q.status]||M.pending,se=q.extraction||{},Z=se.artifacts?.length||0,he=se.relationships?.length||0,re=v===q.id;return o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg overflow-hidden",children:[o.jsxs("div",{onClick:()=>q.status==="complete"?z(q.id):void 0,className:`w-full text-left p-4 ${q.status==="complete"?"cursor-pointer hover:bg-[#222]":""} transition-colors`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${q.status==="complete"?"bg-[#c3fd50]":q.status==="processing"?"bg-blue-400 animate-pulse":q.status==="error"?"bg-red-400":"bg-yellow-400"}`}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${F.bg} ${F.color}`,children:F.label}),q.status==="complete"&&Z>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"text-[#c3fd50] font-mono font-medium",children:Z})," ",Z===1?"node":"nodes",he>0&&o.jsxs(o.Fragment,{children:["  ",o.jsx("span",{className:"text-[#c3fd50] font-mono font-medium",children:he})," ",he===1?"edge":"edges"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-600",children:K1(q.created_at)}),q.status==="complete"&&(re?o.jsx(Gw,{className:"w-4 h-4 text-gray-500"}):o.jsx(kp,{className:"w-4 h-4 text-gray-500"}))]})]}),q.title&&o.jsx("p",{className:"text-sm font-medium text-white mb-1",children:q.title}),o.jsx("p",{className:`text-xs text-gray-400 ${re?"":"line-clamp-2"}`,children:q.content}),q.status==="complete"&&o.jsx(ae,{to:`/contribution/${q.id}`,className:"text-xs text-[#c3fd50] hover:text-white mt-2 inline-block",onClick:we=>we.stopPropagation(),children:"View full detail"})]}),re&&q.status==="complete"&&o.jsxs("div",{className:"border-t border-[#262626] p-4 bg-[#151515]",children:[o.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:"Extracted Artifacts"}),S[q.id]?S[q.id].length>0?o.jsx("div",{className:"space-y-2",children:S[q.id].map(we=>o.jsxs(ae,{to:`/artifact/${we.id}`,className:"flex items-center gap-3 p-2 rounded-lg hover:bg-[#1a1a1a] transition-colors",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:aa[we.type]}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-white truncate",children:we.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsx("span",{className:"text-xs text-gray-500",children:we.type.charAt(0).toUpperCase()+we.type.slice(1)}),we.rea_role&&o.jsx("span",{className:"text-xs",style:{color:Dt[we.rea_role]},children:On[we.rea_role]}),o.jsx("span",{className:"text-xs text-gray-600",children:Rs[we.state]})]})]}),we.summary&&o.jsx("p",{className:"hidden sm:block text-xs text-gray-500 max-w-[200px] truncate",children:we.summary})]},we.id))}):o.jsx("p",{className:"text-xs text-gray-500",children:"No artifacts extracted from this contribution."}):o.jsx("p",{className:"text-xs text-gray-500 animate-pulse",children:"Loading artifacts..."}),se.hlamt_tags&&se.hlamt_tags.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-[#262626]",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:"Dimensions"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:se.hlamt_tags.map((we,Be)=>o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#c3fd50]/10 text-[#c3fd50] font-mono",children:we},Be))})]})]})]},q.id)})})]}),u.length>0&&o.jsxs("section",{children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(Zi,{className:"w-4 h-4 text-blue-400"}),"All My Artifacts"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.map(q=>o.jsxs(ae,{to:`/artifact/${q.id}`,className:"flex items-center gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[o.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:aa[q.type]}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm truncate",children:q.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx("span",{children:q.type.charAt(0).toUpperCase()+q.type.slice(1)}),q.rea_role&&o.jsx("span",{style:{color:Dt[q.rea_role]},children:On[q.rea_role]})]})]}),o.jsx("span",{className:"text-xs text-gray-600 flex-shrink-0",children:Rs[q.state]})]},q.id))})]})]})}const J1={e:{label:"Ecology",desc:"Environmental context, place, watershed, seasonal patterns"},H:{label:"Human",desc:"People, capabilities, relationships, lived experience"},L:{label:"Language",desc:"Shared vocabulary, frameworks, definitions"},A:{label:"Artifacts",desc:"Tools, documents, code, physical objects, infrastructure"},M:{label:"Methodology",desc:"Processes, workflows, practices, coordination patterns"},T:{label:"Training",desc:"Learning, skill development, transformation, practice"}},Gg="00000000-0000-0000-0000-000000000100";function Q1(){const s=Ji(),[a]=hp(),[r,l]=w.useState(""),[u,h]=w.useState("idle"),[f,m]=w.useState(""),[y,p]=w.useState(null),[v,_]=w.useState(0),[S,b]=w.useState([]),[A,E]=w.useState([]),[C,z]=w.useState("");w.useEffect(()=>{M();const H=a.get("session");H&&z(H)},[a]);async function M(){const{data:H}=await X.from("sessions").select("id, title, time_start").eq("convergence_id",Gg).order("time_start",{ascending:!0,nullsFirst:!1});H&&E(H)}w.useEffect(()=>{if(!y)return;const H=X.channel(`contribution-${y}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"contributions",filter:`id=eq.${y}`},async J=>{const I=J.new.status;if(I==="processing")h("extracting");else if(I==="complete"){const q=J.new.extraction;if(q?.artifacts){_(q.artifacts.length);const F=q.artifacts.map(Z=>Z.title),{data:se}=await X.from("artifacts").select("id, title, type").in("title",F).order("created_at",{ascending:!1}).limit(10);b(se||[])}h("done")}else I==="error"&&(m("Extraction failed. Please try again."),h("error"))}).subscribe();return()=>{X.removeChannel(H)}},[y]);async function L(H){if(H.preventDefault(),!!r.trim()){h("submitting"),m("");try{const{data:{user:J}}=await X.auth.getUser();let I=null;if(J){const{data:se,error:Z}=await X.from("participants").select("id").eq("auth_user_id",J.id).maybeSingle();if(Z)throw Z;if(se)I=se.id;else{const{data:he,error:re}=await X.from("participants").insert({auth_user_id:J.id,name:J.email?.split("@")[0]||"Anonymous",email:J.email}).select("id").single();if(re)throw re;I=he.id}}const{data:q,error:F}=await X.from("contributions").insert({content:r,convergence_id:Gg,participant_id:I,session_id:C||null,status:"pending"}).select("id").single();if(F)throw F;p(q.id),h("extracting")}catch(J){m(J?.message||"Something went wrong. Please try again."),h("error")}}}return u==="extracting"?o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6 animate-pulse",children:o.jsx(Yu,{className:"w-8 h-8 text-[#c3fd50]"})}),o.jsx("h2",{className:"text-xl font-bold mb-3",children:"Extracting knowledge..."}),o.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"AI is analyzing your contribution, identifying artifacts, tagging by dimension, and linking to the knowledge graph."}),o.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"300ms"}})]})]})}):u==="done"?o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:o.jsx(Cp,{className:"w-8 h-8 text-[#0f0f0f]",strokeWidth:3})}),o.jsxs("h2",{className:"text-xl font-bold mb-3",children:["Done! ",v," ",v===1?"artifact":"artifacts"," created"]}),o.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Your contribution has been processed and added to the knowledge graph."}),S.length>0&&o.jsxs("div",{className:"mb-8 max-w-md mx-auto",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Extracted artifacts:"}),o.jsx("div",{className:"space-y-2",children:S.map(H=>o.jsx(ae,{to:`/artifact/${H.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors text-left",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:H.type}),o.jsx("span",{className:"text-sm text-gray-300",children:H.title})]})},H.id))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsx("button",{onClick:()=>{h("idle"),l(""),p(null),b([]),_(0)},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Contribute more"}),o.jsx("button",{onClick:()=>s("/"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Explore"})]})]})}):o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Contribute"}),o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Share what you observed, learned, or committed to. Write naturally  AI extracts the structure."}),o.jsxs("p",{className:"text-gray-500 text-xs mb-4",children:["First time? ",o.jsx("a",{href:"/app/welcome",className:"text-[#c3fd50] hover:underline",children:"See how it works"})]}),o.jsxs("details",{className:"mb-6 bg-[#1a1a1a] border border-[#262626] rounded-lg overflow-hidden",open:typeof window<"u"?localStorage.getItem("hlamt-open")!=="false":!0,onToggle:H=>localStorage.setItem("hlamt-open",String(H.target.open)),children:[o.jsxs("summary",{className:"px-4 py-3 text-base font-medium text-white cursor-pointer hover:bg-[#262626] transition-colors flex items-center justify-between",children:[o.jsx("span",{children:"What is e/H-LAM/T?"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"AI classifies every contribution across these six dimensions"})]}),o.jsx("div",{className:"px-4 pb-4 pt-2 grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(J1).map(([H,{label:J,desc:I}])=>o.jsxs("div",{className:"bg-[#0f0f0f] border border-[#262626] rounded-lg p-3",children:[o.jsxs("div",{className:"text-sm font-mono text-[#c3fd50] mb-1 font-bold",children:[H,"/"]}),o.jsx("div",{className:"text-sm font-medium text-white mb-1",children:J}),o.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:I})]},H))})]}),o.jsxs("form",{onSubmit:L,className:"space-y-4",children:[A.length>0&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"session-select",className:"block text-sm font-medium text-gray-300 mb-2",children:"Session (optional)"}),o.jsxs("select",{id:"session-select",value:C,onChange:H=>z(H.target.value),className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#c3fd50]",children:[o.jsx("option",{value:"",children:"No session"}),A.map(H=>o.jsxs("option",{value:H.id,children:[H.title,H.time_start&&`  ${new Date(H.time_start).toLocaleDateString()}`]},H.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"contribution-text",className:"sr-only",children:"Your contribution"}),o.jsx("textarea",{id:"contribution-text",value:r,onChange:H=>l(H.target.value),placeholder:`What happened? What did you learn? What are you going to do about it?

Write about a session you just attended, an idea someone sparked, a commitment you're making, or a pattern you're noticing across conversations.

A paragraph or two is ideal. Name people and projects when you can  it helps build the graph.`,rows:12,required:!0,className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] resize-y leading-relaxed text-base"}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"AI classifies contribution type, extracts artifacts, and records relationships automatically."}),o.jsxs("span",{className:"text-xs text-gray-500",children:[r.length," chars"]})]})]}),f&&o.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:f}),o.jsx("button",{type:"submit",disabled:u==="submitting"||!r.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:u==="submitting"?"Saving...":"Submit to the Commons"})]})]})}const P1=[{letter:"e/",color:"#4a8c6f",text:"Ground ideas in place and ecology"},{letter:"H/",color:"#c4956a",text:"Connect with people who share your questions"},{letter:"A/",color:"#8bbfff",text:"Build artifacts that outlast the event"}];function I1(){const[s,a]=w.useState(""),[r,l]=w.useState(!1),[u,h]=w.useState(!1),[f,m]=w.useState(""),y=Ji();async function p(v){v.preventDefault(),l(!0),m("");const{error:_}=await X.auth.signInWithOtp({email:s,options:{emailRedirectTo:"https://commons.id/app/"}});l(!1),_?m(_.message):h(!0)}return u?o.jsxs("div",{className:"max-w-lg mx-auto text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:o.jsx(c1,{className:"w-10 h-10 text-[#0f0f0f]"})}),o.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Check your inbox"}),o.jsxs("p",{className:"text-gray-400 mb-2",children:["We sent a magic link to ",o.jsx("span",{className:"text-white font-medium",children:s})]}),o.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Click the link in the email to sign in. It expires in 1 hour."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsx("button",{onClick:()=>{h(!1),a("")},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Try a different email"}),o.jsx("button",{onClick:()=>y("/"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Explore while you wait"})]})]}):o.jsxs("div",{className:"max-w-lg mx-auto py-8 sm:py-16",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-3",children:["Join the ",o.jsx("span",{className:"text-[#c3fd50]",children:"Commons"})]}),o.jsx("p",{className:"text-gray-400 max-w-sm mx-auto leading-relaxed",children:"A living archive of what emerges when people converge. Your observations become part of the knowledge graph."})]}),o.jsx("div",{className:"mb-10 space-y-3",children:P1.map(v=>o.jsxs("div",{className:"flex items-start gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-3",children:[o.jsx("span",{className:"font-mono text-lg font-bold flex-shrink-0 mt-0.5",style:{color:v.color},children:v.letter}),o.jsx("span",{className:"text-sm text-gray-300",children:v.text})]},v.letter))}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Sign in with email"}),o.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"No password needed. We'll send you a magic link."}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"email",value:s,onChange:v=>a(v.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full bg-[#0f0f0f] border border-[#333333] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#c3fd50] transition-colors"})}),f&&o.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:f}),o.jsx("button",{type:"submit",disabled:r||!s.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] font-medium hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:r?"Sending magic link...":"Continue with magic link"})]})]}),o.jsxs("div",{className:"text-center mt-8",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Don't want to sign in?"," ",o.jsx(ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore as a guest"})]}),o.jsx("p",{className:"text-xs text-gray-700 mt-3",children:"ETHBoulder 2026  commons.id"})]})]})}const Z1=[{key:"e",letter:"e/",name:"Ecology",tagName:"hlamt:E",description:"Where We Are  place, environment, context",color:"#4a8c6f"},{key:"H",letter:"H/",name:"Human",tagName:"hlamt:H",description:"Who's Here  people, participants, relationships",color:"#c4956a"},{key:"L",letter:"L/",name:"Language",tagName:"hlamt:L",description:"How We Talk  vocabulary, tags, shared concepts",color:"#c3fd50"},{key:"A",letter:"A/",name:"Artifacts",tagName:"hlamt:A",description:"What We're Building  tools, documents, infrastructure",color:"#8bbfff"},{key:"M",letter:"M/",name:"Methodology",tagName:"hlamt:M",description:"How We Work  processes, governance, coordination",color:"#7ccfb8"},{key:"T",letter:"T/",name:"Training",tagName:"hlamt:T",description:"What We're Learning  skills, transformation, practice",color:"#e8927c"}];function W1(){const[s,a]=w.useState({});return w.useEffect(()=>{async function r(){const{data:l}=await X.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%");if(l){const u={};for(const h of l){const f=h.artifact_tags;u[h.name]=f?.[0]?.count??0}a(u)}}r()},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"e/H-LAM/T"}),o.jsx("p",{className:"text-gray-400",children:"Six dimensions of the knowledge graph. Each is a lens into the commons."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Z1.map(r=>o.jsxs(ae,{to:`/d/${r.key}`,className:"block rounded-xl border border-[#262626] bg-[#1a1a1a] p-5 hover:bg-[#1a1a1a] transition-colors group",children:[o.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[o.jsx("span",{className:"font-mono text-2xl font-bold",style:{color:r.color},children:r.letter}),o.jsx("span",{className:"text-lg font-semibold text-white",children:r.name})]}),o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.description}),o.jsx("div",{className:"text-xs text-gray-500",children:s[r.tagName]!==void 0?`${s[r.tagName]} artifacts`:"--"})]},r.key))})]})}function F1(s){const a=Math.floor((Date.now()-new Date(s).getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}const Mu={e:{letter:"e/",name:"Ecology",subtitle:"Where We Are",tagName:"hlamt:E",color:"#4a8c6f"},H:{letter:"H/",name:"Human",subtitle:"Who's Here",tagName:"hlamt:H",color:"#c4956a"},L:{letter:"L/",name:"Language",subtitle:"How We Talk",tagName:"hlamt:L",color:"#c3fd50"},A:{letter:"A/",name:"Tools & Infrastructure",subtitle:"What We're Building",tagName:"hlamt:A",color:"#8bbfff"},M:{letter:"M/",name:"Methodology",subtitle:"How We Work",tagName:"hlamt:M",color:"#7ccfb8"},T:{letter:"T/",name:"Training",subtitle:"What We're Learning",tagName:"hlamt:T",color:"#e8927c"}};function Xu({artifact:s}){const a=s.rea_role?Dt[s.rea_role]:"#333";return o.jsxs(ae,{to:`/artifact/${s.id}`,className:"block rounded-lg border border-[#262626] bg-[#1a1a1a] p-4 hover:border-[#c3fd50] transition-colors group",style:{borderLeftWidth:"3px",borderLeftColor:a},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full inline-block flex-shrink-0",style:{backgroundColor:aa[s.type]}}),o.jsx("span",{className:"text-xs font-medium uppercase",style:{color:aa[s.type]},children:s.type}),s.rea_role&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border font-medium",style:{color:Dt[s.rea_role],borderColor:Dt[s.rea_role]+"40"},children:On[s.rea_role]}),s.agent_type&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:en[s.agent_type],borderColor:en[s.agent_type]+"40"},children:Bl[s.agent_type]}),o.jsx("span",{className:"ml-auto text-xs text-gray-600",children:F1(s.created_at)})]}),o.jsx("h3",{className:"font-medium text-white group-hover:text-[#c3fd50] transition-colors mb-1",children:s.title}),s.summary&&o.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:s.summary})]})}function e2({artifacts:s}){const[a,r]=w.useState([]),[l,u]=w.useState({});return w.useEffect(()=>{async function h(){const{data:f}=await X.from("participants").select("*").order("name");if(f){r(f);const m={};for(const y of f){const{data:p}=await X.from("artifacts").select("*").eq("created_by",y.id).order("created_at",{ascending:!1}).limit(3);p&&(m[y.id]=p)}u(m)}}h()},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Participants (",a.length,")"]}),o.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:a.map(h=>o.jsxs("div",{className:"rounded-lg border border-[#262626] bg-[#1a1a1a] p-4",children:[o.jsx("h3",{className:"font-medium text-white mb-1",style:{color:"#c4956a"},children:h.name}),h.affiliation&&o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:h.affiliation}),h.bio&&o.jsx("p",{className:"text-sm text-gray-400 mb-2",children:h.bio}),h.interests?.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:h.interests.map((f,m)=>o.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-[#262626] text-gray-400",children:f},m))}),l[h.id]?.length>0&&o.jsxs("div",{className:"mt-2 border-t border-[#262626] pt-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Recent contributions:"}),l[h.id].map(f=>o.jsx(ae,{to:`/artifact/${f.id}`,className:"block text-xs text-[#c3fd50] hover:text-white mt-1",children:f.title},f.id))]})]},h.id))}),a.length===0&&o.jsx("div",{className:"text-center py-12 bg-[#1a1a1a] border border-[#262626] rounded-lg mt-4",children:o.jsxs("div",{className:"max-w-sm mx-auto",children:[o.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#c4956a20"},children:o.jsx(Yi,{className:"w-8 h-8",style:{color:"#c4956a"}})}),o.jsx("h3",{className:"text-white font-semibold mb-2",children:"No participants registered yet"}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Sign in to create your participant profile and link your contributions to your identity."}),o.jsx(ae,{to:"/auth",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#d4fe80] transition-colors",children:"Sign In"})]})})]}),s.length>0&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Human-tagged Knowledge Nodes"}),o.jsx("div",{className:"grid gap-3",children:s.map(h=>o.jsx(Xu,{artifact:h},h.id))})]})]})}function Vg({words:s,maxCount:a,label:r}){return s.length===0?null:o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:[r," (",s.length," terms)"]}),o.jsx("div",{className:"space-y-1",children:s.map(l=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-sm text-gray-300 w-32 sm:w-40 truncate font-mono",children:l.word}),o.jsx("div",{className:"flex-1 h-4 bg-[#1a1a1a] rounded overflow-hidden",children:o.jsx("div",{className:"h-full rounded",style:{width:`${l.count/a*100}%`,backgroundColor:"#c3fd50",opacity:.6}})}),o.jsx("span",{className:"text-xs text-gray-500 w-8 text-right",children:l.count})]},l.word))})]})}function t2({artifacts:s}){const[a,r]=w.useState([]),[l,u]=w.useState({}),[h,f]=w.useState([]),[m,y]=w.useState(null),[p,v]=w.useState("collective");w.useEffect(()=>{async function E(){const{data:C}=await X.rpc("word_frequencies");C&&r(C.slice(0,25));const{data:z}=await X.from("participants").select("id, name").order("name");z&&f(z)}E()},[]);async function _(E){if(l[E])return;const{data:C}=await X.rpc("word_frequencies",{p_participant_id:E});C&&u(z=>({...z,[E]:C.slice(0,30)}))}w.useEffect(()=>{m&&_(m)},[m]);const S=a[0]?.count??1,b=m?l[m]||[]:[],A=b[0]?.count??1;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>v("collective"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="collective"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-400 hover:text-white"}`,children:"Collective"}),o.jsx("button",{onClick:()=>v("participant"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="participant"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-400 hover:text-white"}`,children:"By Participant"})]}),p==="collective"&&o.jsx(Vg,{words:a,maxCount:S,label:"Emergent Vocabulary"}),p==="participant"&&o.jsx("div",{className:"space-y-4",children:h.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(E=>o.jsx("button",{onClick:()=>y(E.id),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${m===E.id?"bg-[#c4956a] text-[#0f0f0f] font-medium":"bg-[#262626] text-gray-400 hover:text-white"}`,children:E.name},E.id))}),m&&o.jsx(Vg,{words:b,maxCount:A,label:`${h.find(E=>E.id===m)?.name||"Participant"} Vocabulary`}),!m&&o.jsx("p",{className:"text-gray-500 text-sm",children:"Select a participant to see their vocabulary."})]}):o.jsx("p",{className:"text-gray-500 text-sm",children:"No participants yet."})}),s.length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Language Knowledge Nodes (",s.length,")"]}),o.jsx("div",{className:"grid gap-3",children:s.map(E=>o.jsx(Xu,{artifact:E},E.id))})]})]})}const a2={e:"Share observations about place, environment, or ecological context.",H:"Introduce yourself, share who you met, or describe collaborative dynamics.",L:"Define terms, propose frameworks, or capture shared vocabulary.",A:"Document tools, code, designs, or infrastructure being built.",M:"Describe processes, workflows, or coordination patterns.",T:"Share learnings, skill development, or transformative experiences."};function n2({artifacts:s,dim:a}){const r=Object.keys(Mu).find(u=>Mu[u]===a),l=r?a2[r]:"Be the first to contribute here.";return o.jsxs("div",{children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:["Knowledge Nodes (",s.length,")"]}),s.length===0?o.jsx("div",{className:"text-center py-12 bg-[#1a1a1a] border border-[#262626] rounded-lg",children:o.jsxs("div",{className:"max-w-sm mx-auto",children:[o.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:a.color+"20"},children:o.jsx("span",{className:"text-3xl font-mono font-bold",style:{color:a.color},children:a.letter})}),o.jsxs("h3",{className:"text-white font-semibold mb-2",children:["No ",a.name.toLowerCase()," nodes yet"]}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:l}),o.jsx(ae,{to:"/contribute",className:"inline-block bg-[#c3fd50] text-[#0f0f0f] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#d4fe80] transition-colors",children:"Contribute"})]})}):o.jsx("div",{className:"grid gap-3",children:s.map(u=>o.jsx(Xu,{artifact:u},u.id))})]})}function s2(){const{dimension:s}=Qi(),[a,r]=w.useState([]),[l,u]=w.useState(!0),h=s?Mu[s]:null;return w.useEffect(()=>{if(!h)return;async function f(){u(!0);const{data:m}=await X.from("tags").select("id").eq("name",h.tagName).single();if(m){const{data:y}=await X.from("artifact_tags").select("artifact_id").eq("tag_id",m.id);if(y&&y.length>0){const p=y.map(_=>_.artifact_id),{data:v}=await X.from("artifacts").select("*").in("id",p).order("created_at",{ascending:!1});v&&r(v)}}u(!1)}f()},[h?.tagName]),h?o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-3",children:[o.jsx(ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-gray-400",children:"Graph Dimensions"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsxs("span",{style:{color:h.color},children:[h.letter," ",h.name]})]}),o.jsxs("div",{className:"flex items-baseline gap-3",children:[o.jsx("span",{className:"font-mono text-3xl font-bold",style:{color:h.color},children:h.letter}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:h.name}),o.jsx("p",{className:"text-gray-400",children:h.subtitle})]})]})]}),l?o.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."}):o.jsxs(o.Fragment,{children:[s==="H"&&o.jsx(e2,{artifacts:a}),s==="L"&&o.jsx(t2,{artifacts:a}),s!=="H"&&s!=="L"&&o.jsx(n2,{artifacts:a,dim:h})]})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-400",children:"Unknown dimension."}),o.jsx(ae,{to:"/dimensions",className:"text-[#c3fd50] hover:text-white text-sm mt-2 inline-block",children:"Back to Dimensions"})]})}const Yg=["This artifact hasn't been extracted from the collective consciousness yet.","You've wandered beyond the knowledge graph. Even the AI doesn't know what's here.","404: The commons giveth, and the commons taketh away.","Somewhere between the convergence tents, you took a wrong turn.","This page was last seen vibing at ETHBoulder. It hasn't come back.","The e/H-LAM/T dimensions don't include 'lost.' We checked.","You've discovered the one place the knowledge graph can't reach.","This page committed to existing but never followed through."];function i2(){const s=Yg[Math.floor(Math.random()*Yg.length)];return o.jsxs("div",{className:"text-center py-24 max-w-lg mx-auto",children:[o.jsx("div",{className:"text-8xl font-mono font-bold text-[#c3fd50] mb-4",children:"404"}),o.jsx("p",{className:"text-lg text-gray-300 mb-2",children:s}),o.jsx("p",{className:"text-sm text-gray-500 mb-10",children:"The page you're looking for doesn't exist, was never extracted, or has returned to the void."}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(ae,{to:"/",className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm font-medium",children:"Back to Explore"}),o.jsx(ae,{to:"/contribute",className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Contribute something real"})]})]})}const r2="https://hvbdpgkdcdskhpbdeeim.supabase.co";function ws({items:s,color:a="bg-[#262626] text-gray-300"}){return!s||s.length===0?null:o.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((r,l)=>o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a}`,children:r},l))})}function jn({label:s,children:a}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:s}),a]})}function Kg({profile:s,extracted:a,label:r}){return o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold",children:s.name}),s.affiliation&&o.jsx("p",{className:"text-sm text-gray-400",children:s.affiliation}),s.location&&o.jsx("p",{className:"text-xs text-gray-500",children:s.location})]}),r&&o.jsx("span",{className:"text-xs text-gray-500",children:r})]}),s.bio&&o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:s.bio}),s.background&&o.jsx(jn,{label:"Background",children:o.jsx("p",{className:"text-sm text-gray-400",children:s.background})}),s.skills&&s.skills.length>0&&o.jsx(jn,{label:"Skills",children:o.jsx(ws,{items:s.skills,color:"bg-[#262626] text-gray-300"})}),s.experience&&s.experience.length>0&&o.jsx(jn,{label:"Experience",children:o.jsx(ws,{items:s.experience,color:"bg-[#262626] text-gray-300"})}),s.capabilities&&s.capabilities.length>0&&o.jsx(jn,{label:"Capabilities",children:o.jsx(ws,{items:s.capabilities,color:"bg-blue-900/30 text-blue-300"})}),s.offering&&s.offering.length>0&&o.jsx(jn,{label:"Offering",children:o.jsx(ws,{items:s.offering,color:"bg-green-900/30 text-green-300"})}),s.looking_for&&s.looking_for.length>0&&o.jsx(jn,{label:"Looking for",children:o.jsx(ws,{items:s.looking_for,color:"bg-amber-900/30 text-amber-300"})}),s.interests&&s.interests.length>0&&o.jsx(jn,{label:"Interests",children:o.jsx(ws,{items:s.interests})}),a?.hlamt_tags&&a.hlamt_tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.hlamt_tags.map((l,u)=>o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c3fd50]/10 text-[#c3fd50] font-mono",children:l},u))})]})}function l2(){const s=Ji(),[a,r]=w.useState(""),[l,u]=w.useState("loading"),[h,f]=w.useState(""),[m,y]=w.useState(null),[p,v]=w.useState(null),[_,S]=w.useState(null);w.useEffect(()=>{async function A(){const{data:{user:E}}=await X.auth.getUser();if(!E){s("/auth");return}v(E.id);const{data:C}=await X.from("participants").select("id, name, affiliation, bio, background, experience, skills, capabilities, interests, looking_for, offering, location").eq("auth_user_id",E.id).maybeSingle();C&&y(C),u("idle")}A()},[s]);async function b(A){if(A.preventDefault(),!(!a.trim()||!p)){u("submitting"),f("");try{u("extracting");const E=await fetch(`${r2}/functions/v1/process-profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await X.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({content:a,auth_user_id:p})}),C=await E.json();if(!E.ok)throw new Error(C.error||"Profile processing failed");y(C.participant),S(C.extracted),u("done")}catch(E){f(E?.message||"Something went wrong. Please try again."),u("error")}}}return l==="loading"?o.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-4 animate-pulse",children:o.jsx(Vi,{className:"w-8 h-8 text-gray-500"})}),o.jsx("p",{className:"text-gray-400",children:"Loading profile..."})]}):l==="extracting"?o.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center mx-auto mb-6 animate-pulse",children:o.jsx(Yu,{className:"w-8 h-8 text-[#c3fd50]"})}),o.jsx("h2",{className:"text-xl font-bold mb-3",children:"Building your profile..."}),o.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"AI is reading your introduction, extracting your name, interests, and dimensional focus."}),o.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c3fd50] animate-bounce",style:{animationDelay:"300ms"}})]})]}):l==="done"&&m?o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-[#c3fd50] flex items-center justify-center mx-auto mb-6",children:o.jsx(Cp,{className:"w-8 h-8 text-[#0f0f0f]",strokeWidth:3})}),o.jsxs("h2",{className:"text-xl font-bold mb-3",children:["Profile ",_?.isUpdate?"updated":"created","!"]})]}),o.jsx(Kg,{profile:m,extracted:_}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsx("button",{onClick:()=>{u("idle"),r("")},className:"px-6 py-2.5 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Update profile"}),o.jsx("button",{onClick:()=>s("/contribute"),className:"px-6 py-2.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors text-sm",children:"Start contributing"})]})]}):o.jsxs("div",{className:"max-w-2xl mx-auto",children:[m?o.jsxs(o.Fragment,{children:[o.jsx(Kg,{profile:m,label:"Your current profile"}),o.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[o.jsx(Gi,{className:"w-5 h-5 text-[#c3fd50]"}),"Update Your Profile"]}),o.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Tell us what's changed. Write naturally  AI will update your profile."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[o.jsx(Vi,{className:"w-5 h-5 text-[#c3fd50]"}),"Join the Commons"]}),o.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Introduce yourself. Write naturally  AI will extract your name, interests, and focus areas to build your profile."})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("textarea",{value:a,onChange:A=>r(A.target.value),placeholder:m?"Share what's new  new projects, interests, or affiliations. AI will update your profile accordingly.":"Hi, I'm... Tell us about yourself: your name, what you work on, what you're interested in, what brought you here. Write as much or as little as you want  the AI will figure out the structure.",rows:8,required:!0,className:"w-full bg-[#1a1a1a] border border-[#262626] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50] resize-y leading-relaxed text-base"}),o.jsxs("div",{className:"flex justify-between mt-2",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"AI extracts your name, affiliation, bio, interests, and dimensional focus."}),o.jsxs("span",{className:"text-xs text-gray-500",children:[a.length," chars"]})]})]}),h&&o.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/30 rounded-lg text-sm text-red-300",children:h}),o.jsx("button",{type:"submit",disabled:l==="submitting"||!a.trim(),className:"w-full bg-[#c3fd50] text-[#0f0f0f] hover:bg-[#d4fe80] py-3 rounded-lg transition-colors disabled:opacity-50",children:l==="submitting"?"Saving...":m?"Update Profile":"Create Profile"})]})]})}const o2={resource:"text-green-400",event:"text-amber-400",agent:"text-blue-400"};function c2(){const[s,a]=w.useState([]),[r,l]=w.useState([]),[u,h]=w.useState(!0),[f,m]=w.useState("hotspots");if(w.useEffect(()=>{async function p(){const[_,S]=await Promise.all([X.from("coordination_hotspots").select("*").limit(20),X.from("coordination_matches").select("*").limit(50)]);a(_.data||[]),l(S.data||[]),h(!1)}p();const v=X.channel("coordination").on("postgres_changes",{event:"*",schema:"public",table:"coordination_interests"},()=>p()).subscribe();return()=>{X.removeChannel(v)}},[]),u)return o.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[o.jsx(Rn,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),o.jsx("p",{className:"text-gray-400",children:"Loading coordination signals..."})]});const y=s.length===0&&r.length===0;return o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coordination"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"See what the community wants to coordinate around. Click the handshake icon on any artifact to signal your interest."})]}),y?o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-8 text-center",children:[o.jsx(Rn,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"No coordination signals yet"}),o.jsx("p",{className:"text-gray-400 text-sm max-w-md mx-auto mb-4",children:"Browse the Explore page and click the handshake icon on artifacts you want to coordinate around. When multiple participants signal interest in the same artifact, matches appear here."}),o.jsx(ae,{to:"/",className:"inline-block px-6 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm",children:"Explore artifacts"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>m("hotspots"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${f==="hotspots"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:[o.jsx(Qw,{className:"w-4 h-4"}),"Hotspots (",s.length,")"]}),o.jsxs("button",{onClick:()=>m("matches"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${f==="matches"?"bg-[#c3fd50] text-[#0f0f0f]":"bg-[#262626] text-gray-300 hover:bg-[#333]"}`,children:[o.jsx(Yi,{className:"w-4 h-4"}),"Matches (",r.length,")"]})]}),f==="hotspots"&&o.jsx("div",{className:"space-y-3",children:s.map(p=>o.jsx(ae,{to:`/artifact/${p.artifact_id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#c3fd50]/30 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`text-xs ${o2[p.rea_role]||"text-gray-400"}`,children:p.rea_role.charAt(0).toUpperCase()+p.rea_role.slice(1)}),o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:p.type.charAt(0).toUpperCase()+p.type.slice(1)})]}),o.jsx("h3",{className:"font-medium text-sm mb-1",children:p.title}),p.summary&&o.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:p.summary}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:p.interested_participants.map((v,_)=>o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#c3fd50]/10 text-[#c3fd50]",children:v},_))})]}),o.jsxs("div",{className:"flex items-center gap-1 text-[#c3fd50]",children:[o.jsx(Rn,{className:"w-4 h-4"}),o.jsx("span",{className:"text-lg font-bold",children:p.interest_count})]})]})},p.artifact_id))}),f==="matches"&&o.jsx("div",{className:"space-y-3",children:r.map((p,v)=>o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-[#c3fd50]",children:p.participant_a}),o.jsx(Rn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-[#c3fd50]",children:p.participant_b})]}),o.jsxs(ae,{to:`/artifact/${p.artifact_id}`,className:"text-xs text-gray-400 hover:text-white transition-colors",children:["Shared interest: ",p.shared_interest]})]},v))})]})]})}function u2(){const[s,a]=hp(),[r,l]=w.useState(s.get("q")||""),[u,h]=w.useState([]),[f,m]=w.useState(!1),[y,p]=w.useState(!1);w.useEffect(()=>{const b=s.get("q");b&&b!==r&&(l(b),v(b))},[s]);const v=async b=>{if(!b.trim()){h([]),p(!1);return}m(!0),p(!0);try{const{data:A,error:E}=await X.rpc("search_content",{query_text:b});E?(console.error("Search error:",E),h([])):h(A||[])}catch(A){console.error("Search exception:",A),h([])}finally{m(!1)}},_=b=>{b.preventDefault(),r.trim()&&(a({q:r.trim()}),v(r.trim()))},S=b=>{const A=Math.floor((Date.now()-new Date(b).getTime())/1e3);if(A<60)return`${A}s ago`;const E=Math.floor(A/60);if(E<60)return`${E}m ago`;const C=Math.floor(E/60);return C<24?`${C}h ago`:`${Math.floor(C/24)}d ago`};return o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Search"}),o.jsxs("form",{onSubmit:_,className:"relative",children:[o.jsx("label",{htmlFor:"search-query",className:"sr-only",children:"Search query"}),o.jsx("input",{id:"search-query",type:"text",value:r,onChange:b=>l(b.target.value),placeholder:"Search artifacts and contributions...",className:"w-full px-4 py-3 pl-12 bg-[#1a1a1a] border border-[#262626] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#c3fd50]",autoFocus:!0}),o.jsx(Ts,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-1.5 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] text-sm font-medium",children:"Search"})]})]}),f&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ts,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 animate-pulse"}),o.jsx("p",{className:"text-gray-400",children:"Searching..."})]}),!f&&y&&u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ts,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-400 mb-2",children:['No results found for "',r,'"']}),o.jsx("p",{className:"text-sm text-gray-500",children:"Try different keywords or check your spelling"})]}),!f&&u.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:[u.length," ",u.length===1?"result":"results",' for "',r,'"']}),o.jsx("div",{className:"space-y-4",children:u.map(b=>o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#333] transition-colors",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:b.result_type==="artifact"?o.jsx($i,{className:"w-5 h-5 text-[#c3fd50]"}):o.jsx(Up,{className:"w-5 h-5 text-cyan-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[o.jsx(ae,{to:b.result_type==="artifact"?`/artifact/${b.id}`:"/me",className:"font-medium text-white hover:text-[#c3fd50] transition-colors",children:b.title}),o.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:S(b.created_at)})]}),o.jsx("div",{className:"text-sm text-gray-400 line-clamp-2",dangerouslySetInnerHTML:{__html:b.snippet}}),o.jsx("div",{className:"mt-2 flex items-center gap-2",children:o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#262626] text-gray-400",children:b.result_type})})]})]})},`${b.result_type}-${b.id}`))})]}),!y&&!f&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ts,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400 mb-2",children:"Search the knowledge graph"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Enter keywords to find artifacts and contributions"})]})]})}const d2=[{key:"e",letter:"e/",name:"Ecology",desc:"Where We Are",color:"#4a8c6f",tag:"hlamt:E"},{key:"H",letter:"H/",name:"Human",desc:"Who's Here",color:"#c4956a",tag:"hlamt:H"},{key:"L",letter:"L/",name:"Language",desc:"How We Talk",color:"#c3fd50",tag:"hlamt:L"},{key:"A",letter:"A/",name:"Artifacts",desc:"What We're Building",color:"#8bbfff",tag:"hlamt:A"},{key:"M",letter:"M/",name:"Methodology",desc:"How We Work",color:"#7ccfb8",tag:"hlamt:M"},{key:"T",letter:"T/",name:"Training",desc:"What We're Learning",color:"#e8927c",tag:"hlamt:T"}];function Xg(s){const a=Math.floor((Date.now()-new Date(s).getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}function h2(){const{id:s}=Qi(),[a,r]=w.useState(null),[l,u]=w.useState([]),[h,f]=w.useState({}),[m,y]=w.useState(!0),[p,v]=w.useState(null),[_,S]=w.useState(!1),[b,A]=w.useState([]),[E,C]=w.useState(!1),[z,M]=w.useState(""),[L,H]=w.useState(!1),[J,I]=w.useState(null);w.useEffect(()=>{s&&q(s),X.auth.getSession().then(({data:{session:Z}})=>{I(Z)})},[s]);async function q(Z){y(!0);const{data:he}=await X.from("contributions").select("*").eq("id",Z).single();if(!he){y(!1);return}if(r(he),he.participant_id){const{data:Be}=await X.from("participants").select("name").eq("id",he.participant_id).single();Be&&v(Be.name)}const re=[];if(he.extraction?.artifacts&&he.processed_at){const Be=he.extraction.artifacts.map(Ye=>Ye.title).filter(Boolean);if(Be.length>0){const{data:Ye}=await X.from("artifacts").select("*").in("title",Be).order("created_at",{ascending:!1});Ye&&re.push(...Ye)}}if(u(re),re.length>0){const Be=re.map(ne=>ne.id),{data:Ye}=await X.from("artifact_tags").select("tag_id, tags(name)").in("artifact_id",Be),$={};if(Ye)for(const ne of Ye){const xe=ne.tags?.name;xe?.startsWith("hlamt:")&&($[xe]=($[xe]||0)+1)}const P=re.filter(ne=>ne.rea_role==="agent").length;P>0&&($["hlamt:H"]=($["hlamt:H"]||0)+P),f($)}const{data:we}=await X.rpc("get_contribution_thread",{p_contribution_id:Z});we&&we.length>1&&A(we.slice(1)),y(!1)}async function F(Z){if(Z.preventDefault(),!(!z.trim()||!J)){H(!0);try{const{data:he}=await X.from("participants").select("id").eq("auth_user_id",J.user.id).single(),{error:re}=await X.from("contributions").insert({content:z.trim(),participant_id:he?.id,parent_contribution_id:s,convergence_id:a?.extraction?.convergence_id||null,status:"pending"});if(re)throw re;M(""),C(!1),s&&await q(s)}catch(he){console.error("Reply submit error:",he),alert("Failed to submit reply. Please try again.")}finally{H(!1)}}}if(m)return o.jsx("div",{className:"text-center py-12",children:o.jsx(jl,{className:"w-8 h-8 text-gray-500 mx-auto animate-spin"})});if(!a)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-400",children:"Contribution not found"}),o.jsx(ae,{to:"/",className:"text-[#c3fd50] hover:text-white text-sm mt-2 inline-block",children:"Back to Explore"})]});const se=l.length>0;return o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-6",children:[o.jsx(ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-gray-400",children:"Live Activity"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-white",children:"Contribution"})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${a.status==="complete"?"bg-[#c3fd50]":a.status==="processing"?"bg-blue-400 animate-pulse":a.status==="error"?"bg-red-400":"bg-yellow-400"}`}),o.jsx("span",{className:"text-sm text-gray-400 capitalize",children:a.status}),o.jsx("span",{className:"text-gray-600",children:"|"}),o.jsx(Dp,{className:"w-3.5 h-3.5 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-400",children:Xg(a.created_at)}),p&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-600",children:"|"}),o.jsx(Vi,{className:"w-3.5 h-3.5 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-400",children:p})]})]}),o.jsx("div",{className:"text-gray-200 whitespace-pre-wrap leading-relaxed",children:a.content.length>300&&!_?o.jsxs(o.Fragment,{children:[a.content.slice(0,300).trimEnd(),"...",o.jsx("button",{onClick:()=>S(!0),className:"ml-2 text-[#c3fd50] hover:text-white text-sm font-medium",children:"View more"})]}):o.jsxs(o.Fragment,{children:[a.content,a.content.length>300&&o.jsx("button",{onClick:()=>S(!1),className:"ml-2 text-[#c3fd50] hover:text-white text-sm font-medium",children:"Show less"})]})})]}),se&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Observation Dimensions"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-2 mb-6",children:d2.map(Z=>{const he=h[Z.tag]??0;return o.jsxs("div",{className:`rounded-lg border border-[#262626] bg-[#1a1a1a] p-3 sm:p-4 text-center ${he>0?"border-opacity-100":"opacity-40"}`,style:he>0?{borderColor:Z.color+"40"}:void 0,children:[o.jsx("div",{className:"text-xs font-medium mb-1 truncate",style:{color:Z.color},children:Z.name}),o.jsxs("div",{className:"flex items-baseline justify-center gap-1 sm:gap-1.5",children:[o.jsx("span",{className:"font-mono text-xl sm:text-2xl font-bold",style:{color:Z.color},children:Z.letter}),o.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:he})]}),o.jsx("span",{className:"text-xs text-gray-400 block truncate",children:Z.desc})]},Z.key)})})]}),se&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Extracted Artifacts"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:l.map(Z=>o.jsxs(ae,{to:`/artifact/${Z.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 hover:border-[#c3fd50] transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:aa[Z.type]}}),o.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:Z.type}),Z.rea_role&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:Dt[Z.rea_role],borderColor:Dt[Z.rea_role]+"40"},children:On[Z.rea_role]}),Z.agent_type&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:en[Z.agent_type],borderColor:en[Z.agent_type]+"40"},children:Bl[Z.agent_type]})]}),o.jsx("h3",{className:"font-semibold text-white group-hover:text-[#c3fd50] transition-colors mb-1 text-sm",children:Z.title}),Z.summary&&o.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:Z.summary})]},Z.id))})]}),a.status==="processing"&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-blue-500/20 rounded-lg p-6 text-center",children:[o.jsx(jl,{className:"w-8 h-8 text-blue-400 mx-auto mb-3 animate-spin"}),o.jsx("p",{className:"text-gray-300",children:"Extracting knowledge from this contribution..."}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Artifacts will appear here when processing completes."})]}),a.status==="error"&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-red-500/20 rounded-lg p-6",children:[o.jsx("p",{className:"text-red-400 mb-2",children:"Extraction failed"}),a.errors&&o.jsx("pre",{className:"text-xs text-gray-500 overflow-x-auto",children:JSON.stringify(a.errors,null,2)})]}),a.status==="pending"&&o.jsx("div",{className:"bg-[#1a1a1a] border border-yellow-500/20 rounded-lg p-6 text-center",children:o.jsx("p",{className:"text-yellow-400",children:"Waiting to be processed..."})}),b.length>0&&o.jsxs("div",{className:"mt-6 border-t border-[#262626] pt-6",children:[o.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(qg,{className:"w-5 h-5 text-[#c3fd50]"}),b.length," ",b.length===1?"Reply":"Replies"]}),o.jsx("div",{className:"space-y-3",children:b.map(Z=>o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",style:{marginLeft:`${Z.depth*20}px`},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(Vi,{className:"w-4 h-4"}),o.jsx("span",{children:Z.participant_name||"Anonymous"}),o.jsx("span",{className:"text-gray-600",children:""}),o.jsx("span",{children:Xg(Z.created_at)})]}),Z.status==="processing"&&o.jsx(jl,{className:"w-4 h-4 text-blue-400 animate-spin"})]}),o.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:Z.content})]},Z.id))})]}),o.jsx("div",{className:"mt-6 border-t border-[#262626] pt-6",children:E?o.jsxs("form",{onSubmit:F,className:"space-y-3",children:[o.jsx("textarea",{value:z,onChange:Z=>M(Z.target.value),placeholder:"Share your thoughts, questions, or build on this contribution...",rows:4,autoFocus:!0,className:"w-full bg-[#0f0f0f] border border-[#333333] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#c3fd50] transition-colors resize-none"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"submit",disabled:!z.trim()||L,className:"flex items-center gap-2 px-4 py-2 bg-[#c3fd50] text-[#0f0f0f] font-medium rounded-lg hover:bg-[#d4fe80] transition-colors disabled:opacity-50 text-sm",children:[L?o.jsx(jl,{className:"w-4 h-4 animate-spin"}):o.jsx(S1,{className:"w-4 h-4"}),L?"Submitting...":"Submit Reply"]}),o.jsx("button",{type:"button",onClick:()=>{C(!1),M("")},className:"px-4 py-2 bg-[#262626] text-white rounded-lg hover:bg-[#333333] transition-colors text-sm",children:"Cancel"})]})]}):o.jsxs("button",{onClick:()=>C(!0),disabled:!J,className:"flex items-center gap-2 px-4 py-2 bg-[#1a1a1a] border border-[#262626] rounded-lg hover:border-[#c3fd50] transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(qg,{className:"w-4 h-4"}),J?"Reply to this contribution":"Sign in to reply"]})})]})}const f2={"hlamt:E":{letter:"e/",name:"Ecology",color:"#4a8c6f"},"hlamt:H":{letter:"H/",name:"Human",color:"#c4956a"},"hlamt:L":{letter:"L/",name:"Language",color:"#c3fd50"},"hlamt:A":{letter:"A/",name:"Artifacts",color:"#8bbfff"},"hlamt:M":{letter:"M/",name:"Methodology",color:"#7ccfb8"},"hlamt:T":{letter:"T/",name:"Training",color:"#e8927c"}};function _u(s){const a=Math.floor((Date.now()-new Date(s).getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}function m2(){const{id:s}=Qi(),[a,r]=w.useState(null),[l,u]=w.useState([]),[h,f]=w.useState([]),[m,y]=w.useState({}),[p,v]=w.useState(!0);w.useEffect(()=>{s&&_()},[s]);async function _(){v(!0);const{data:b}=await X.from("participants").select("id, name, affiliation, bio, interests, created_at").eq("id",s).single();if(!b){v(!1);return}r(b);const[{data:A},{data:E}]=await Promise.all([X.from("contributions").select("id, content, status, created_at").eq("participant_id",s).order("created_at",{ascending:!1}).limit(50),X.from("artifacts").select("*").eq("created_by",s).order("created_at",{ascending:!1}).limit(50)]);if(u(A||[]),f(E||[]),E&&E.length>0){const C=E.map(L=>L.id),{data:z}=await X.from("artifact_tags").select("tags(name)").in("artifact_id",C),M={};if(z)for(const L of z){const H=L.tags?.name;H&&H.startsWith("hlamt:")&&(M[H]=(M[H]||0)+1)}y(M)}v(!1)}if(p)return o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading..."});if(!a)return o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Participant not found"});const S=Object.entries(m).sort((b,A)=>A[1]-b[1]);return o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("nav",{className:"flex items-center gap-1.5 text-sm mb-4",children:[o.jsx(ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Explore"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-gray-400",children:"Participants"}),o.jsx(tn,{className:"w-3.5 h-3.5 text-gray-600"}),o.jsx("span",{className:"text-white",children:a.name})]}),o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-[#262626] flex items-center justify-center flex-shrink-0",children:o.jsx(Vi,{className:"w-7 h-7 text-gray-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-2xl font-bold mb-1",children:a.name}),a.affiliation&&o.jsx("p",{className:"text-sm text-gray-400 mb-2",children:a.affiliation}),a.bio&&o.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:a.bio}),a.interests&&a.interests.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:a.interests.map(b=>o.jsxs("span",{className:"bg-[#262626] text-gray-300 text-xs px-2 py-1 rounded flex items-center gap-1",children:[o.jsx(E1,{className:"w-3 h-3"}),b]},b))}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[o.jsx(Op,{className:"w-3 h-3"}),"Joined ",_u(a.created_at)]})]})]})}),S.length>0&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(Bg,{className:"w-4 h-4"}),"Dimension Activity"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:S.map(([b,A])=>{const E=f2[b];return E?o.jsxs("div",{className:"px-3 py-2 rounded-lg border flex items-center gap-2",style:{borderColor:E.color+"40"},children:[o.jsx("span",{className:"font-mono font-bold text-lg",style:{color:E.color},children:E.letter}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs",style:{color:E.color},children:E.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:[A," artifact",A!==1?"s":""]})]})]},b):null})})]}),h.length>0&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6 mb-6",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(Bg,{className:"w-4 h-4"}),"Artifacts (",h.length,")"]}),o.jsx("div",{className:"space-y-2",children:h.map(b=>o.jsxs(ae,{to:`/artifact/${b.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:aa[b.type]}}),o.jsx("span",{className:"text-xs uppercase text-gray-500",children:b.type}),b.rea_role&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border",style:{color:Dt[b.rea_role],borderColor:Dt[b.rea_role]+"40"},children:On[b.rea_role]}),o.jsx("span",{className:"ml-auto text-xs text-gray-500",children:Rs[b.state]})]}),o.jsx("div",{className:"text-sm text-white group-hover:text-[#c3fd50] transition-colors font-medium",children:b.title}),b.summary&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.summary}),o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:_u(b.created_at)})]},b.id))})]}),l.length>0&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl p-6",children:[o.jsxs("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(Lw,{className:"w-4 h-4"}),"Contributions (",l.length,")"]}),o.jsx("div",{className:"space-y-2",children:l.map(b=>o.jsxs(ae,{to:`/contribution/${b.id}`,className:"block bg-[#0f0f0f] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${b.status==="complete"?"bg-[#c3fd50]":b.status==="processing"?"bg-blue-400 animate-pulse":b.status==="error"?"bg-red-400":"bg-yellow-400"}`}),o.jsx("span",{className:"text-xs text-gray-500",children:b.status}),o.jsx("span",{className:"ml-auto text-xs text-gray-600",children:_u(b.created_at)})]}),o.jsx("p",{className:"text-xs text-gray-400 line-clamp-3",children:b.content})]},b.id))})]}),h.length===0&&l.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No activity yet from this participant."})]})}function g2(){const{id:s}=Qi(),[a,r]=w.useState(null),[l,u]=w.useState([]),[h,f]=w.useState([]),[m,y]=w.useState([]),[p,v]=w.useState(!0);w.useEffect(()=>{s&&_()},[s]);async function _(){const{data:b,error:A}=await X.rpc("get_session_detail",{p_session_id:s});if(A){console.error("Error loading session:",A),v(!1);return}b&&(r(b.session),u(b.artifacts||[]),f(b.contributions||[]),y(b.participants||[])),v(!1)}function S(b){return b?new Date(b).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):""}return p?o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading session..."}):a?o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:a.title}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[a.time_start&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Op,{className:"w-4 h-4"}),o.jsxs("span",{children:[S(a.time_start),a.time_end&&` - ${S(a.time_end)}`]})]}),a.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(d1,{className:"w-4 h-4"}),o.jsx("span",{children:a.location})]}),a.track&&o.jsx("div",{className:"px-2 py-1 bg-[#262626] rounded text-xs",children:a.track}),a.session_type&&o.jsx("div",{className:"px-2 py-1 bg-[#262626] rounded text-xs capitalize",children:a.session_type})]})]}),a.description&&o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:a.description})}),a.speakers&&a.speakers.length>0&&o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Yi,{className:"w-4 h-4 text-[#c3fd50]"}),o.jsx("h2",{className:"font-medium",children:"Speakers"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.speakers.map((b,A)=>o.jsx("span",{className:"px-2 py-1 bg-[#262626] rounded text-sm text-gray-300",children:b},A))})]}),o.jsx("div",{className:"mb-6",children:o.jsxs(ae,{to:`/contribute?session=${s}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#c3fd50] text-[#0f0f0f] rounded-lg hover:bg-[#d4fe80] transition-colors font-medium",children:[o.jsx(Gi,{className:"w-4 h-4"}),"Contribute to this session"]})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Zi,{className:"w-5 h-5 text-[#c3fd50]"}),o.jsxs("h2",{className:"font-bold",children:["Artifacts (",l.length,")"]})]}),l.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No artifacts yet"}):o.jsx("div",{className:"space-y-2",children:l.map(b=>o.jsxs(ae,{to:`/artifact/${b.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[o.jsx("div",{className:"font-medium text-sm mb-1",children:b.title}),o.jsxs("div",{className:"flex gap-2 text-xs",children:[o.jsx("span",{className:"px-2 py-0.5 bg-[#262626] rounded",children:b.type}),o.jsx("span",{className:"px-2 py-0.5 bg-[#262626] rounded",children:b.rea_role})]})]},b.id))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx($i,{className:"w-5 h-5 text-[#c3fd50]"}),o.jsxs("h2",{className:"font-bold",children:["Contributions (",h.length,")"]})]}),h.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No contributions yet"}):o.jsx("div",{className:"space-y-2",children:h.map(b=>o.jsxs(ae,{to:`/contribution/${b.id}`,className:"block bg-[#1a1a1a] border border-[#262626] rounded-lg p-3 hover:border-[#c3fd50] transition-colors",children:[o.jsxs("p",{className:"text-sm text-gray-300 line-clamp-2 mb-2",children:[b.content.substring(0,150),"..."]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[b.participant_name&&o.jsx("span",{children:b.participant_name}),o.jsx("span",{className:b.status==="complete"?"text-green-500":"text-yellow-500",children:b.status})]})]},b.id))})]})]}),m.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Yi,{className:"w-5 h-5 text-[#c3fd50]"}),o.jsxs("h2",{className:"font-bold",children:["Participants (",m.length,")"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(b=>o.jsx(ae,{to:`/p/${b.id}`,className:"px-3 py-1.5 bg-[#1a1a1a] border border-[#262626] rounded-lg hover:border-[#c3fd50] transition-colors text-sm",children:b.name},b.id))})]})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-400",children:"Session not found"}),o.jsx(ae,{to:"/",className:"text-[#c3fd50] hover:underline mt-4 inline-block",children:"Return to Explore"})]})}const p2={"hlamt:e":"e/ Environment","hlamt:H":"H/ Human","hlamt:L":"L/ Language","hlamt:A":"A/ Artifacts","hlamt:M":"M/ Methodology","hlamt:T":"T/ Training"};function y2(){const{convergence:s}=Ku(),[a,r]=w.useState({contributions:0,artifacts:0,participants:0,relationships:0,sessions:0}),[l,u]=w.useState([]),[h,f]=w.useState([]),[m,y]=w.useState(!0);w.useEffect(()=>{p();const v=X.channel("stats-updates").on("postgres_changes",{event:"*",schema:"public",table:"contributions"},p).on("postgres_changes",{event:"*",schema:"public",table:"artifacts"},p).subscribe();return()=>{X.removeChannel(v)}},[]);async function p(){const[{count:v},{count:_},{count:S},{count:b},{count:A},{data:E},{data:C}]=await Promise.all([X.from("contributions").select("*",{count:"exact",head:!0}),X.from("artifacts").select("*",{count:"exact",head:!0}),X.from("participants").select("*",{count:"exact",head:!0}),X.from("artifact_relationships").select("*",{count:"exact",head:!0}),X.from("sessions").select("*",{count:"exact",head:!0}),X.from("tags").select("name, artifact_tags(count)").like("name","hlamt:%").order("name"),X.from("artifacts").select("type").not("type","is",null)]);if(r({contributions:v||0,artifacts:_||0,participants:S||0,relationships:b||0,sessions:A||0}),E){const z=E.map(M=>({key:M.name,count:M.artifact_tags?.[0]?.count||0,label:p2[M.name]||M.name})).sort((M,L)=>L.count-M.count);u(z)}if(C){const z={};for(const L of C)z[L.type]=(z[L.type]||0)+1;const M=Object.entries(z).map(([L,H])=>({type:L,count:H})).sort((L,H)=>H.count-L.count).slice(0,5);f(M)}y(!1)}return m?o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading stats..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[s.name," Stats"]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time knowledge graph statistics"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx($i,{className:"w-4 h-4 text-[#c3fd50]"}),o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Contributions"})]}),o.jsx("div",{className:"text-2xl font-bold",children:a.contributions.toLocaleString()})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Zi,{className:"w-4 h-4 text-[#c3fd50]"}),o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Artifacts"})]}),o.jsx("div",{className:"text-2xl font-bold",children:a.artifacts.toLocaleString()})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Yi,{className:"w-4 h-4 text-[#c3fd50]"}),o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Participants"})]}),o.jsx("div",{className:"text-2xl font-bold",children:a.participants.toLocaleString()})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(O1,{className:"w-4 h-4 text-[#c3fd50]"}),o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Relationships"})]}),o.jsx("div",{className:"text-2xl font-bold",children:a.relationships.toLocaleString()})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Yu,{className:"w-4 h-4 text-[#c3fd50]"}),o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Sessions"})]}),o.jsx("div",{className:"text-2xl font-bold",children:a.sessions.toLocaleString()})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("h2",{className:"font-bold mb-3",children:"Top Dimensions"}),o.jsx("div",{className:"space-y-2",children:l.map(v=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:v.label}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-24 h-2 bg-[#262626] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-[#c3fd50]",style:{width:`${v.count/(l[0]?.count||1)*100}%`}})}),o.jsx("span",{className:"text-sm text-gray-500 w-8 text-right",children:v.count})]})]},v.key))})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("h2",{className:"font-bold mb-3",children:"Top Artifact Types"}),o.jsx("div",{className:"space-y-2",children:h.map(v=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm capitalize",children:v.type}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-24 h-2 bg-[#262626] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-[#c3fd50]",style:{width:`${v.count/(h[0]?.count||1)*100}%`}})}),o.jsx("span",{className:"text-sm text-gray-500 w-8 text-right",children:v.count})]})]},v.type))})]})]}),o.jsx("div",{className:"text-center text-xs text-gray-600",children:"Updates in real-time as new contributions are processed"})]})}function v2(){return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome to the Commons"}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"Everything said at ETHBoulder is worth keeping. This tool captures it."}),o.jsxs("div",{className:"space-y-4 mb-10",children:[o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-5",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#c3fd50]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Gi,{className:"w-5 h-5 text-[#c3fd50]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white mb-1",children:"1. Write what you noticed"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"After a talk, workshop, or hallway conversation  write down what stuck with you. Session notes, an idea someone sparked, a commitment you made, a question you're sitting with. Don't worry about formatting. Just write naturally."})]})]})}),o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-5",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#c3fd50]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Mp,{className:"w-5 h-5 text-[#c3fd50]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white mb-1",children:"2. AI does the organizing"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"When you submit, AI reads your contribution and pulls out the key pieces: ideas, proposals, commitments, patterns, questions. It tags them by topic, connects them to what others have contributed, and adds them to the knowledge graph. Takes about 15 seconds."})]})]})}),o.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-5",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#c3fd50]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(zg,{className:"w-5 h-5 text-[#c3fd50]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white mb-1",children:"3. The commons grows"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Every contribution feeds a shared knowledge graph that everyone at ETHBoulder can explore. Ideas link to other ideas. People link to what they said. The conversations don't disappear when the event ends  they have permanent addresses."})]})]})})]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"What's worth contributing?"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Session notes"}),o.jsx("p",{className:"text-xs text-gray-500",children:'"The keynote argued that public goods funding needs..."'})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Ideas"}),o.jsx("p",{className:"text-xs text-gray-500",children:'"What if we combined quadratic funding with..."'})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Commitments"}),o.jsx("p",{className:"text-xs text-gray-500",children:`"I'm going to build a prototype of X by March..."`})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Questions"}),o.jsx("p",{className:"text-xs text-gray-500",children:'"How do we measure impact without gaming metrics?"'})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Connections"}),o.jsx("p",{className:"text-xs text-gray-500",children:`"Met someone from X project  they're working on..."`})]}),o.jsxs("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Reflections"}),o.jsx("p",{className:"text-xs text-gray-500",children:'"The theme emerging across sessions is..."'})]})]})]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Tips"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-[#c3fd50] mt-0.5",children:"-"}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-300",children:"Write more than a sentence."})," The AI needs enough context to extract meaningful artifacts. A paragraph or two is ideal."]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-[#c3fd50] mt-0.5",children:"-"}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-300",children:"Name names."})," If someone said something great, mention them. It helps build the people graph."]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-[#c3fd50] mt-0.5",children:"-"}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-300",children:"Tag the session"})," if you're writing about a specific talk or workshop. The dropdown on the contribute page lets you link your notes to the session."]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-[#c3fd50] mt-0.5",children:"-"}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-300",children:"Sign in"})," to get credited. Anonymous contributions work too, but signing in links your contributions to your profile."]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-[#c3fd50] mt-0.5",children:"-"}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-300",children:"Contribute often."})," Quick notes after every session beat one big brain dump at the end. The graph gets richer with more frequent contributions."]})]})]})]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"After you contribute"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ae,{to:"/",className:"flex items-center gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#c3fd50] transition-colors",children:[o.jsx(Ts,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Explore the knowledge graph"}),o.jsx("p",{className:"text-xs text-gray-500",children:"See what others have contributed and how ideas connect"})]}),o.jsx(bu,{className:"w-4 h-4 text-gray-600"})]}),o.jsxs(ae,{to:"/graph",className:"flex items-center gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#c3fd50] transition-colors",children:[o.jsx(Zi,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300",children:"View the graph visualization"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Interactive map of all artifacts and their relationships"})]}),o.jsx(bu,{className:"w-4 h-4 text-gray-600"})]}),o.jsxs(ae,{to:"/stats",className:"flex items-center gap-3 bg-[#1a1a1a] border border-[#262626] rounded-lg p-4 hover:border-[#c3fd50] transition-colors",children:[o.jsx(zg,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Real-time event stats"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Contributions, artifacts, participants  live metrics"})]}),o.jsx(bu,{className:"w-4 h-4 text-gray-600"})]})]})]}),o.jsxs("div",{className:"text-center py-6",children:[o.jsxs(ae,{to:"/contribute",className:"inline-flex items-center gap-2 px-8 py-3 bg-[#c3fd50] text-[#0f0f0f] rounded-lg font-medium hover:bg-[#d4fe80] transition-colors text-lg",children:[o.jsx(Gi,{className:"w-5 h-5"}),"Start Contributing"]}),o.jsx("p",{className:"text-xs text-gray-600 mt-3",children:"No account required. Sign in for credit."})]})]})}const x2=w.lazy(()=>Cl(()=>import("./Graph-C8foTUpS.js"),[]).then(s=>({default:s.Graph}))),b2=w.lazy(()=>Cl(()=>import("./Dashboard-B20gKZ_j.js"),__vite__mapDeps([0,1]))),_2=w.lazy(()=>Cl(()=>import("./Status-DHOI03zG.js"),__vite__mapDeps([2,1])).then(s=>({default:s.Status})));function w2(){const s=Na(),[a,r]=w.useState(null),[l,u]=w.useState(!1),{convergence:h}=Ku();w.useEffect(()=>{X.auth.getSession().then(({data:y})=>r(y.session));const{data:{subscription:m}}=X.auth.onAuthStateChange((y,p)=>r(p));return()=>m.unsubscribe()},[]);const f=[{to:"/",label:"Explore"},{to:"/contribute",label:"Contribute"},{to:"/coordinate",label:"Coordinate"},{to:"/me",label:"My Activity"}];return o.jsx("nav",{className:"bg-[#0f0f0f] border-b border-[#262626] px-4 py-3",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"hidden md:flex items-center justify-between relative",children:[o.jsxs(ae,{to:"/",className:"text-xl font-bold tracking-tight",children:[o.jsx("span",{style:{color:h.theme_primary},children:h.logo_text}),o.jsx("span",{className:"text-gray-500",children:h.logo_accent})]}),o.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 flex gap-1",children:f.map(m=>o.jsx(ae,{to:m.to,className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${s.pathname===m.to||m.to==="/dimensions"&&s.pathname.startsWith("/d/")?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:m.label},m.to))}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsx(ae,{to:"/search",className:"text-gray-400 hover:text-white","aria-label":"Search",children:o.jsx(Ts,{className:"w-5 h-5"})}),a?o.jsxs(o.Fragment,{children:[o.jsx(ae,{to:"/profile",className:"text-gray-400 hover:text-white",children:"Profile"}),o.jsx("button",{onClick:()=>X.auth.signOut(),className:"text-gray-400 hover:text-white",children:"Sign out"})]}):o.jsx(ae,{to:"/auth",className:"text-[#c3fd50] hover:text-white",children:"Sign in"})]})]}),o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ae,{to:"/",className:"text-lg font-bold tracking-tight",children:[o.jsx("span",{style:{color:h.theme_primary},children:h.logo_text}),o.jsx("span",{className:"text-gray-500",children:h.logo_accent})]}),o.jsx("button",{onClick:()=>u(!l),className:"text-gray-400 hover:text-white p-2","aria-label":"Menu",children:l?o.jsx(U1,{className:"w-6 h-6"}):o.jsx(f1,{className:"w-6 h-6"})})]}),l&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-[#262626] space-y-1",children:[f.map(m=>o.jsx(ae,{to:m.to,onClick:()=>u(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname===m.to?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:m.label},m.to)),o.jsx(ae,{to:"/search",onClick:()=>u(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/search"?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:"Search"}),o.jsx("div",{className:"pt-2 border-t border-[#262626]",children:a?o.jsxs(o.Fragment,{children:[o.jsx(ae,{to:"/profile",onClick:()=>u(!1),className:`block px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/profile"?"bg-[#262626] text-white":"text-gray-400 hover:text-white hover:bg-[#1a1a1a]"}`,children:"Profile"}),o.jsx("button",{onClick:()=>{X.auth.signOut(),u(!1)},className:"block w-full text-left px-3 py-2 text-sm text-gray-400 hover:text-white",children:"Sign out"})]}):o.jsx(ae,{to:"/auth",onClick:()=>u(!1),className:"block px-3 py-2 text-sm text-[#c3fd50] hover:text-white",children:"Sign in"})})]})]})]})})}function S2(){return o.jsx($x,{basename:"/app",children:o.jsx(z1,{children:o.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-white",children:[o.jsx(w2,{}),o.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:o.jsx(B1,{children:o.jsxs(px,{children:[o.jsx(We,{path:"/",element:o.jsx($1,{})}),o.jsx(We,{path:"/dimensions",element:o.jsx(W1,{})}),o.jsx(We,{path:"/d/:dimension",element:o.jsx(s2,{})}),o.jsx(We,{path:"/artifact/:id",element:o.jsx(Y1,{})}),o.jsx(We,{path:"/me",element:o.jsx(X1,{})}),o.jsx(We,{path:"/contribute",element:o.jsx(Q1,{})}),o.jsx(We,{path:"/profile",element:o.jsx(l2,{})}),o.jsx(We,{path:"/contribution/:id",element:o.jsx(h2,{})}),o.jsx(We,{path:"/graph",element:o.jsx(w.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"text-gray-500",children:"Loading..."})}),children:o.jsx(x2,{})})}),o.jsx(We,{path:"/coordinate",element:o.jsx(c2,{})}),o.jsx(We,{path:"/dashboard",element:o.jsx(w.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"text-gray-500",children:"Loading..."})}),children:o.jsx(b2,{})})}),o.jsx(We,{path:"/search",element:o.jsx(u2,{})}),o.jsx(We,{path:"/p/:id",element:o.jsx(m2,{})}),o.jsx(We,{path:"/session/:id",element:o.jsx(g2,{})}),o.jsx(We,{path:"/stats",element:o.jsx(y2,{})}),o.jsx(We,{path:"/welcome",element:o.jsx(v2,{})}),o.jsx(We,{path:"/status",element:o.jsx(w.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"text-gray-500",children:"Loading..."})}),children:o.jsx(_2,{})})}),o.jsx(We,{path:"/auth",element:o.jsx(I1,{})}),o.jsx(We,{path:"*",element:o.jsx(i2,{})})]})})})]})})})}yv.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(S2,{})}));export{Yw as C,r1 as L,b1 as R,O1 as T,Yi as U,Dp as a,pe as c,o as j,w as r,X as s};
